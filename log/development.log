Started GET "/" for 172.23.0.1 at 2024-10-29 23:03:31 +0000
  
ActiveRecord::NoDatabaseError (We could not find your database: mascots_development. Available database configurations can be found in config/database.yml.

To resolve this error:

- Did you not create the database, or did you delete it? To create the database, run:

    bin/rails db:create

- Has the database name changed? Verify that config/database.yml contains the correct database name.
):
  
activerecord (7.1.4.2) lib/active_record/connection_adapters/postgresql_adapter.rb:74:in `rescue in new_client'
activerecord (7.1.4.2) lib/active_record/connection_adapters/postgresql_adapter.rb:68:in `new_client'
activerecord (7.1.4.2) lib/active_record/connection_adapters/postgresql_adapter.rb:980:in `connect'
activerecord (7.1.4.2) lib/active_record/connection_adapters/postgresql_adapter.rb:992:in `reconnect'
activerecord (7.1.4.2) lib/active_record/connection_adapters/abstract_adapter.rb:685:in `block in reconnect!'
activesupport (7.1.4.2) lib/active_support/concurrency/null_lock.rb:9:in `synchronize'
activerecord (7.1.4.2) lib/active_record/connection_adapters/abstract_adapter.rb:684:in `reconnect!'
activerecord (7.1.4.2) lib/active_record/connection_adapters/abstract_adapter.rb:786:in `block in verify!'
activesupport (7.1.4.2) lib/active_support/concurrency/null_lock.rb:9:in `synchronize'
activerecord (7.1.4.2) lib/active_record/connection_adapters/abstract_adapter.rb:777:in `verify!'
activerecord (7.1.4.2) lib/active_record/connection_adapters/abstract_adapter.rb:794:in `connect!'
activerecord (7.1.4.2) lib/active_record/connection_adapters/abstract_adapter.rb:1000:in `block in with_raw_connection'
activesupport (7.1.4.2) lib/active_support/concurrency/null_lock.rb:9:in `synchronize'
activerecord (7.1.4.2) lib/active_record/connection_adapters/abstract_adapter.rb:999:in `with_raw_connection'
activerecord (7.1.4.2) lib/active_record/connection_adapters/abstract_adapter.rb:1112:in `valid_raw_connection'
activerecord (7.1.4.2) lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `get_database_version'
activerecord (7.1.4.2) lib/active_record/connection_adapters/schema_cache.rb:374:in `database_version'
activerecord (7.1.4.2) lib/active_record/connection_adapters/schema_cache.rb:70:in `database_version'
activerecord (7.1.4.2) lib/active_record/connection_adapters/schema_cache.rb:200:in `database_version'
activerecord (7.1.4.2) lib/active_record/connection_adapters/abstract_adapter.rb:870:in `database_version'
activerecord (7.1.4.2) lib/active_record/connection_adapters/postgresql_adapter.rb:644:in `check_version'
activerecord (7.1.4.2) lib/active_record/connection_adapters/abstract/connection_pool.rb:680:in `new_connection'
activerecord (7.1.4.2) lib/active_record/connection_adapters/abstract/connection_pool.rb:730:in `checkout_new_connection'
activerecord (7.1.4.2) lib/active_record/connection_adapters/abstract/connection_pool.rb:709:in `try_to_checkout_new_connection'
activerecord (7.1.4.2) lib/active_record/connection_adapters/abstract/connection_pool.rb:654:in `acquire_connection'
activerecord (7.1.4.2) lib/active_record/connection_adapters/abstract/connection_pool.rb:353:in `checkout'
activerecord (7.1.4.2) lib/active_record/connection_adapters/abstract/connection_pool.rb:182:in `connection'
activerecord (7.1.4.2) lib/active_record/migration/pending_migration_connection.rb:8:in `establish_temporary_connection'
activerecord (7.1.4.2) lib/active_record/migration.rb:774:in `block in pending_migrations'
activerecord (7.1.4.2) lib/active_record/migration.rb:773:in `each'
activerecord (7.1.4.2) lib/active_record/migration.rb:773:in `pending_migrations'
activerecord (7.1.4.2) lib/active_record/migration.rb:752:in `check_pending_migrations'
activerecord (7.1.4.2) lib/active_record/migration.rb:644:in `block (2 levels) in call'
activesupport (7.1.4.2) lib/active_support/file_update_checker.rb:85:in `execute'
activerecord (7.1.4.2) lib/active_record/migration.rb:649:in `block in call'
activerecord (7.1.4.2) lib/active_record/migration.rb:641:in `synchronize'
activerecord (7.1.4.2) lib/active_record/migration.rb:641:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
activesupport (7.1.4.2) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (7.1.4.2) lib/action_dispatch/middleware/callbacks.rb:28:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/actionable_exceptions.rb:16:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (7.1.4.2) lib/rails/rack/logger.rb:37:in `call_app'
railties (7.1.4.2) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (7.1.4.2) lib/active_support/tagged_logging.rb:139:in `block in tagged'
activesupport (7.1.4.2) lib/active_support/tagged_logging.rb:39:in `tagged'
activesupport (7.1.4.2) lib/active_support/tagged_logging.rb:139:in `tagged'
activesupport (7.1.4.2) lib/active_support/broadcast_logger.rb:241:in `method_missing'
railties (7.1.4.2) lib/rails/rack/logger.rb:24:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/remote_ip.rb:92:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/request_id.rb:28:in `call'
rack (3.1.8) lib/rack/runtime.rb:24:in `call'
activesupport (7.1.4.2) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/server_timing.rb:59:in `block in call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/server_timing.rb:24:in `collect_events'
actionpack (7.1.4.2) lib/action_dispatch/middleware/server_timing.rb:58:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/static.rb:25:in `call'
rack (3.1.8) lib/rack/sendfile.rb:114:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/host_authorization.rb:141:in `call'
railties (7.1.4.2) lib/rails/engine.rb:536:in `call'
puma (6.4.3) lib/puma/configuration.rb:272:in `call'
puma (6.4.3) lib/puma/request.rb:100:in `block in handle_request'
puma (6.4.3) lib/puma/thread_pool.rb:378:in `with_force_shutdown'
puma (6.4.3) lib/puma/request.rb:99:in `handle_request'
puma (6.4.3) lib/puma/server.rb:464:in `process_client'
puma (6.4.3) lib/puma/server.rb:245:in `block in run'
puma (6.4.3) lib/puma/thread_pool.rb:155:in `block in spawn_thread'
Started POST "/rails/actions" for 172.23.0.1 at 2024-10-29 23:04:00 +0000
  [1m[35m (392.4ms)[0m  [1m[35mCREATE DATABASE "mascots_development" ENCODING = 'unicode'[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE DATABASE "storage/test"."sqlite3" ENCODING = 'unicode'[0m
  
ActiveRecord::StatementInvalid (PG::SyntaxError: ERROR:  syntax error at or near "."
LINE 1: CREATE DATABASE "storage/test"."sqlite3" ENCODING = 'unicode...
                                      ^
):
  
Started POST "/rails/actions" for 172.23.0.1 at 2024-10-29 23:04:05 +0000
  [1m[35m (4.3ms)[0m  [1m[35mCREATE DATABASE "mascots_development" ENCODING = 'unicode'[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE DATABASE "storage/test"."sqlite3" ENCODING = 'unicode'[0m
  
ActiveRecord::StatementInvalid (PG::SyntaxError: ERROR:  syntax error at or near "."
LINE 1: CREATE DATABASE "storage/test"."sqlite3" ENCODING = 'unicode...
                                      ^
):
  
Started GET "/" for 172.23.0.1 at 2024-10-29 23:05:37 +0000
  [1m[35m (23.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (19.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Rails::WelcomeController#index as HTML
  Rendering /usr/local/bundle/gems/railties-7.1.4.2/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /usr/local/bundle/gems/railties-7.1.4.2/lib/rails/templates/rails/welcome/index.html.erb (Duration: 8.5ms | Allocations: 579)
Completed 200 OK in 41ms (Views: 19.3ms | ActiveRecord: 0.0ms | Allocations: 7625)


Started GET "/" for 172.24.0.1 at 2024-10-30 12:12:59 +0000
  [1m[36mActiveRecord::SchemaMigration Load (2.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Rails::WelcomeController#index as HTML
  Rendering /usr/local/bundle/gems/railties-7.1.4.2/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /usr/local/bundle/gems/railties-7.1.4.2/lib/rails/templates/rails/welcome/index.html.erb (Duration: 1.5ms | Allocations: 579)
Completed 200 OK in 39ms (Views: 10.4ms | ActiveRecord: 0.0ms | Allocations: 10002)


Started GET "/" for 172.24.0.1 at 2024-10-30 12:17:56 +0000
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate

You have 9 pending migrations:

db/migrate/20241008164202_create_funcionarios.rb
db/migrate/20241008164352_create_tutors.rb
db/migrate/20241008164443_create_estoque_vendas.rb
db/migrate/20241008164524_create_animals.rb
db/migrate/20241008164647_create_consulta.rb
db/migrate/20241008164909_create_prescricao_medicas.rb
db/migrate/20241008164944_create_exames.rb
db/migrate/20241008165029_create_internamentos.rb
db/migrate/20241008165106_create_estoque_internamentos.rb


):
  
activerecord (7.1.4.2) lib/active_record/migration.rb:755:in `check_pending_migrations'
activerecord (7.1.4.2) lib/active_record/migration.rb:644:in `block (2 levels) in call'
activesupport (7.1.4.2) lib/active_support/file_update_checker.rb:85:in `execute'
activerecord (7.1.4.2) lib/active_record/migration.rb:649:in `block in call'
activerecord (7.1.4.2) lib/active_record/migration.rb:641:in `synchronize'
activerecord (7.1.4.2) lib/active_record/migration.rb:641:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
activesupport (7.1.4.2) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (7.1.4.2) lib/action_dispatch/middleware/callbacks.rb:28:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/actionable_exceptions.rb:16:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (7.1.4.2) lib/rails/rack/logger.rb:37:in `call_app'
railties (7.1.4.2) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (7.1.4.2) lib/active_support/tagged_logging.rb:139:in `block in tagged'
activesupport (7.1.4.2) lib/active_support/tagged_logging.rb:39:in `tagged'
activesupport (7.1.4.2) lib/active_support/tagged_logging.rb:139:in `tagged'
activesupport (7.1.4.2) lib/active_support/broadcast_logger.rb:241:in `method_missing'
railties (7.1.4.2) lib/rails/rack/logger.rb:24:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/remote_ip.rb:92:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/request_id.rb:28:in `call'
rack (3.1.8) lib/rack/runtime.rb:24:in `call'
activesupport (7.1.4.2) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/server_timing.rb:59:in `block in call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/server_timing.rb:24:in `collect_events'
actionpack (7.1.4.2) lib/action_dispatch/middleware/server_timing.rb:58:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/static.rb:25:in `call'
rack (3.1.8) lib/rack/sendfile.rb:114:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/host_authorization.rb:141:in `call'
railties (7.1.4.2) lib/rails/engine.rb:536:in `call'
puma (6.4.3) lib/puma/configuration.rb:272:in `call'
puma (6.4.3) lib/puma/request.rb:100:in `block in handle_request'
puma (6.4.3) lib/puma/thread_pool.rb:378:in `with_force_shutdown'
puma (6.4.3) lib/puma/request.rb:99:in `handle_request'
puma (6.4.3) lib/puma/server.rb:464:in `process_client'
puma (6.4.3) lib/puma/server.rb:245:in `block in run'
puma (6.4.3) lib/puma/thread_pool.rb:155:in `block in spawn_thread'
Started GET "/favicon.ico" for 172.24.0.1 at 2024-10-30 12:17:57 +0000
  [1m[36mActiveRecord::SchemaMigration Load (2.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate

You have 9 pending migrations:

db/migrate/20241008164202_create_funcionarios.rb
db/migrate/20241008164352_create_tutors.rb
db/migrate/20241008164443_create_estoque_vendas.rb
db/migrate/20241008164524_create_animals.rb
db/migrate/20241008164647_create_consulta.rb
db/migrate/20241008164909_create_prescricao_medicas.rb
db/migrate/20241008164944_create_exames.rb
db/migrate/20241008165029_create_internamentos.rb
db/migrate/20241008165106_create_estoque_internamentos.rb


):
  
activerecord (7.1.4.2) lib/active_record/migration.rb:755:in `check_pending_migrations'
activerecord (7.1.4.2) lib/active_record/migration.rb:644:in `block (2 levels) in call'
activesupport (7.1.4.2) lib/active_support/file_update_checker.rb:85:in `execute'
activerecord (7.1.4.2) lib/active_record/migration.rb:649:in `block in call'
activerecord (7.1.4.2) lib/active_record/migration.rb:641:in `synchronize'
activerecord (7.1.4.2) lib/active_record/migration.rb:641:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
activesupport (7.1.4.2) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (7.1.4.2) lib/action_dispatch/middleware/callbacks.rb:28:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/actionable_exceptions.rb:16:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (7.1.4.2) lib/rails/rack/logger.rb:37:in `call_app'
railties (7.1.4.2) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (7.1.4.2) lib/active_support/tagged_logging.rb:139:in `block in tagged'
activesupport (7.1.4.2) lib/active_support/tagged_logging.rb:39:in `tagged'
activesupport (7.1.4.2) lib/active_support/tagged_logging.rb:139:in `tagged'
activesupport (7.1.4.2) lib/active_support/broadcast_logger.rb:241:in `method_missing'
railties (7.1.4.2) lib/rails/rack/logger.rb:24:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/remote_ip.rb:92:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/request_id.rb:28:in `call'
rack (3.1.8) lib/rack/runtime.rb:24:in `call'
activesupport (7.1.4.2) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/server_timing.rb:59:in `block in call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/server_timing.rb:24:in `collect_events'
actionpack (7.1.4.2) lib/action_dispatch/middleware/server_timing.rb:58:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/static.rb:25:in `call'
rack (3.1.8) lib/rack/sendfile.rb:114:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/host_authorization.rb:141:in `call'
railties (7.1.4.2) lib/rails/engine.rb:536:in `call'
puma (6.4.3) lib/puma/configuration.rb:272:in `call'
puma (6.4.3) lib/puma/request.rb:100:in `block in handle_request'
puma (6.4.3) lib/puma/thread_pool.rb:378:in `with_force_shutdown'
puma (6.4.3) lib/puma/request.rb:99:in `handle_request'
puma (6.4.3) lib/puma/server.rb:464:in `process_client'
puma (6.4.3) lib/puma/server.rb:245:in `block in run'
puma (6.4.3) lib/puma/thread_pool.rb:155:in `block in spawn_thread'
Started POST "/rails/actions" for 172.24.0.1 at 2024-10-30 12:18:02 +0000
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_try_advisory_lock(6008124786622812630)[0m
  [1m[36mActiveRecord::SchemaMigration Load (3.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (2.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (2.8ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2024-10-30 12:18:02.197962', '2024-10-30 12:18:02.197971') RETURNING "key"[0m
Migrating to CreateFuncionarios (20241008164202)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (36.6ms)[0m  [1m[35mCREATE TABLE "funcionarios" ("id" bigserial primary key, "nome" character varying, "contato" character varying, "cargo" character varying, "login" character varying, "senha" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20241008164202') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateTutors (20241008164352)
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (16.4ms)[0m  [1m[35mCREATE TABLE "tutors" ("id" bigserial primary key, "nome" character varying, "endereco" character varying, "telefone" character varying, "email" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20241008164352') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateEstoqueVendas (20241008164443)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (16.6ms)[0m  [1m[35mCREATE TABLE "estoque_vendas" ("id" bigserial primary key, "medicamento" character varying, "preco" decimal, "quantidade_disponivel" integer, "quantidade_venda" integer, "fornecedor" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20241008164443') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateAnimals (20241008164524)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (22.2ms)[0m  [1m[35mCREATE TABLE "animals" ("id" bigserial primary key, "nome" character varying, "idade" integer, "especie" character varying, "raca" character varying, "peso" float, "tutor_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_4a56185cb8"
FOREIGN KEY ("tutor_id")
  REFERENCES "tutors" ("id")
)[0m
  [1m[35m (7.1ms)[0m  [1m[35mCREATE INDEX "index_animals_on_tutor_id" ON "animals" ("tutor_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20241008164524') RETURNING "version"[0m
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateConsulta (20241008164647)
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (20.8ms)[0m  [1m[35mCREATE TABLE "consulta" ("id" bigserial primary key, "veterinario_id" bigint, "animal_id" bigint NOT NULL, "data" date, "hora" time, "observacao" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_37870f3032"
FOREIGN KEY ("veterinario_id")
  REFERENCES "funcionarios" ("id")
, CONSTRAINT "fk_rails_c9fabfc553"
FOREIGN KEY ("animal_id")
  REFERENCES "animals" ("id")
)[0m
  [1m[35m (8.7ms)[0m  [1m[35mCREATE INDEX "index_consulta_on_veterinario_id" ON "consulta" ("veterinario_id")[0m
  [1m[35m (12.4ms)[0m  [1m[35mCREATE INDEX "index_consulta_on_animal_id" ON "consulta" ("animal_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20241008164647') RETURNING "version"[0m
  [1m[36mTRANSACTION (6.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePrescricaoMedicas (20241008164909)
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (31.4ms)[0m  [1m[35mCREATE TABLE "prescricao_medicas" ("id" bigserial primary key, "consulta_id" bigint NOT NULL, "data" date, "medicamentos_prescritos" character varying, "dosagens" character varying, "observacao" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_12ab1cbf0a"
FOREIGN KEY ("consulta_id")
  REFERENCES "consulta" ("id")
)[0m
  [1m[35m (8.4ms)[0m  [1m[35mCREATE INDEX "index_prescricao_medicas_on_consulta_id" ON "prescricao_medicas" ("consulta_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20241008164909') RETURNING "version"[0m
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateExames (20241008164944)
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (28.1ms)[0m  [1m[35mCREATE TABLE "exames" ("id" bigserial primary key, "consulta_id" bigint NOT NULL, "nome_exame" character varying, "status_exame" character varying, "resultado" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_7b54682bc6"
FOREIGN KEY ("consulta_id")
  REFERENCES "consulta" ("id")
)[0m
  [1m[35m (7.2ms)[0m  [1m[35mCREATE INDEX "index_exames_on_consulta_id" ON "exames" ("consulta_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20241008164944') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateInternamentos (20241008165029)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (18.8ms)[0m  [1m[35mCREATE TABLE "internamentos" ("id" bigserial primary key, "consulta_id" bigint NOT NULL, "data_inicio" date, "data_fim" date, "medicamento" character varying, "quantidade_medicamento" float, "obs_monitoramento" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_6fd126f215"
FOREIGN KEY ("consulta_id")
  REFERENCES "consulta" ("id")
)[0m
  [1m[35m (4.9ms)[0m  [1m[35mCREATE INDEX "index_internamentos_on_consulta_id" ON "internamentos" ("consulta_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20241008165029') RETURNING "version"[0m
  [1m[36mTRANSACTION (4.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateEstoqueInternamentos (20241008165106)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (17.6ms)[0m  [1m[35mCREATE TABLE "estoque_internamentos" ("id" bigserial primary key, "internamento_id" bigint NOT NULL, "medicamento" character varying, "quantidade_disponivel" float, "quantidade_utilizada" float, "quantidade_minima" float, "fornecedor" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_095bd4214a"
FOREIGN KEY ("internamento_id")
  REFERENCES "internamentos" ("id")
)[0m
  [1m[35m (6.9ms)[0m  [1m[35mCREATE INDEX "index_estoque_internamentos_on_internamento_id" ON "estoque_internamentos" ("internamento_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20241008165106') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (2.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(6008124786622812630)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for 172.24.0.1 at 2024-10-30 12:18:02 +0000
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Rails::WelcomeController#index as HTML
  Rendering /usr/local/bundle/gems/railties-7.1.4.2/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /usr/local/bundle/gems/railties-7.1.4.2/lib/rails/templates/rails/welcome/index.html.erb (Duration: 2.7ms | Allocations: 487)
Completed 200 OK in 13ms (Views: 5.5ms | ActiveRecord: 0.0ms | Allocations: 3415)


Started POST "/tutors" for 172.24.0.1 at 2024-10-30 12:19:24 +0000
  
ActionController::RoutingError (No route matches [POST] "/tutors"):
  
Started POST "/tutors" for 172.24.0.1 at 2024-10-30 12:20:14 +0000
Processing by TutorsController#create as */*
  Parameters: {"nome"=>"Lamb Leão", "endereco"=>"R. Parque Aquilino Porto", "telefone"=>"12345678", "email"=>"lamb@leão.com", "tutor"=>{"nome"=>"Lamb Leão", "endereco"=>"R. Parque Aquilino Porto", "telefone"=>"12345678", "email"=>"lamb@leão.com"}}
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/tutors_controller.rb:19:in `create'
  [1m[36mTutor Exists? (4.3ms)[0m  [1m[34mSELECT 1 AS one FROM "tutors" WHERE "tutors"."email" = $1 LIMIT $2[0m  [["email", "lamb@leão.com"], ["LIMIT", 1]]
  ↳ app/controllers/tutors_controller.rb:19:in `create'
  [1m[36mTutor Create (5.6ms)[0m  [1m[32mINSERT INTO "tutors" ("nome", "endereco", "telefone", "email", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["nome", "Lamb Leão"], ["endereco", "R. Parque Aquilino Porto"], ["telefone", "12345678"], ["email", "lamb@leão.com"], ["created_at", "2024-10-30 12:20:14.640642"], ["updated_at", "2024-10-30 12:20:14.640642"]]
  ↳ app/controllers/tutors_controller.rb:19:in `create'
  [1m[36mTRANSACTION (8.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/tutors_controller.rb:19:in `create'
Completed 201 Created in 117ms (Views: 1.3ms | ActiveRecord: 28.9ms | Allocations: 26271)


Started GET "/tutors" for 172.24.0.1 at 2024-10-30 12:20:33 +0000
Processing by TutorsController#index as */*
  [1m[36mTutor Load (1.2ms)[0m  [1m[34mSELECT "tutors".* FROM "tutors"[0m
  ↳ app/controllers/tutors_controller.rb:8:in `index'
Completed 200 OK in 7ms (Views: 5.2ms | ActiveRecord: 1.2ms | Allocations: 998)


Started POST "/animals" for 172.24.0.1 at 2024-10-30 12:21:41 +0000
Processing by AnimalsController#create as */*
  Parameters: {"nome"=>"Memel Leão", "idade"=>2, "especie"=>"Cachorro", "raca"=>"SRD", "peso"=>"4", "tutor_id"=>1, "animal"=>{"nome"=>"Memel Leão", "idade"=>2, "especie"=>"Cachorro", "raca"=>"SRD", "peso"=>"4", "tutor_id"=>1}}
Completed 404 Not Found in 1ms (ActiveRecord: 2.7ms | Allocations: 485)


  
AbstractController::ActionNotFound (The edit action could not be found for the :set_animal
callback on AnimalsController, but it is listed in the controller's
:only option.

Raising for missing callback actions is a new default in Rails 7.1, if you'd
like to turn this off you can delete the option from the environment configurations
or set `config.action_controller.raise_on_missing_callback_actions` to `false`.
):
  
actionpack (7.1.4.2) lib/abstract_controller/callbacks.rb:62:in `match?'
activesupport (7.1.4.2) lib/active_support/callbacks.rb:426:in `block in make_lambda'
activesupport (7.1.4.2) lib/active_support/callbacks.rb:182:in `block (2 levels) in halting_and_conditional'
activesupport (7.1.4.2) lib/active_support/callbacks.rb:182:in `all?'
activesupport (7.1.4.2) lib/active_support/callbacks.rb:182:in `block in halting_and_conditional'
activesupport (7.1.4.2) lib/active_support/callbacks.rb:598:in `block in invoke_before'
activesupport (7.1.4.2) lib/active_support/callbacks.rb:598:in `each'
activesupport (7.1.4.2) lib/active_support/callbacks.rb:598:in `invoke_before'
activesupport (7.1.4.2) lib/active_support/callbacks.rb:119:in `block in run_callbacks'
actiontext (7.1.4.2) lib/action_text/rendering.rb:23:in `with_renderer'
actiontext (7.1.4.2) lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
activesupport (7.1.4.2) lib/active_support/callbacks.rb:130:in `instance_exec'
activesupport (7.1.4.2) lib/active_support/callbacks.rb:130:in `block in run_callbacks'
activesupport (7.1.4.2) lib/active_support/callbacks.rb:141:in `run_callbacks'
actionpack (7.1.4.2) lib/abstract_controller/callbacks.rb:258:in `process_action'
actionpack (7.1.4.2) lib/action_controller/metal/rescue.rb:25:in `process_action'
actionpack (7.1.4.2) lib/action_controller/metal/instrumentation.rb:74:in `block in process_action'
activesupport (7.1.4.2) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.1.4.2) lib/active_support/notifications/instrumenter.rb:58:in `instrument'
activesupport (7.1.4.2) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.1.4.2) lib/action_controller/metal/instrumentation.rb:73:in `process_action'
actionpack (7.1.4.2) lib/action_controller/metal/params_wrapper.rb:261:in `process_action'
activerecord (7.1.4.2) lib/active_record/railties/controller_runtime.rb:32:in `process_action'
actionpack (7.1.4.2) lib/abstract_controller/base.rb:160:in `process'
actionview (7.1.4.2) lib/action_view/rendering.rb:40:in `process'
actionpack (7.1.4.2) lib/action_controller/metal.rb:227:in `dispatch'
actionpack (7.1.4.2) lib/action_controller/metal.rb:309:in `dispatch'
actionpack (7.1.4.2) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.1.4.2) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.1.4.2) lib/action_dispatch/journey/router.rb:51:in `block in serve'
actionpack (7.1.4.2) lib/action_dispatch/journey/router.rb:131:in `block in find_routes'
actionpack (7.1.4.2) lib/action_dispatch/journey/router.rb:124:in `each'
actionpack (7.1.4.2) lib/action_dispatch/journey/router.rb:124:in `find_routes'
actionpack (7.1.4.2) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.1.4.2) lib/action_dispatch/routing/route_set.rb:882:in `call'
rack (3.1.8) lib/rack/etag.rb:29:in `call'
rack (3.1.8) lib/rack/conditional_get.rb:43:in `call'
rack (3.1.8) lib/rack/head.rb:15:in `call'
activerecord (7.1.4.2) lib/active_record/migration.rb:655:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
activesupport (7.1.4.2) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (7.1.4.2) lib/action_dispatch/middleware/callbacks.rb:28:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/actionable_exceptions.rb:16:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (7.1.4.2) lib/rails/rack/logger.rb:37:in `call_app'
railties (7.1.4.2) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (7.1.4.2) lib/active_support/tagged_logging.rb:139:in `block in tagged'
activesupport (7.1.4.2) lib/active_support/tagged_logging.rb:39:in `tagged'
activesupport (7.1.4.2) lib/active_support/tagged_logging.rb:139:in `tagged'
activesupport (7.1.4.2) lib/active_support/broadcast_logger.rb:241:in `method_missing'
railties (7.1.4.2) lib/rails/rack/logger.rb:24:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/remote_ip.rb:92:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/request_id.rb:28:in `call'
rack (3.1.8) lib/rack/runtime.rb:24:in `call'
activesupport (7.1.4.2) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/server_timing.rb:59:in `block in call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/server_timing.rb:24:in `collect_events'
actionpack (7.1.4.2) lib/action_dispatch/middleware/server_timing.rb:58:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/static.rb:25:in `call'
rack (3.1.8) lib/rack/sendfile.rb:114:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/host_authorization.rb:141:in `call'
railties (7.1.4.2) lib/rails/engine.rb:536:in `call'
puma (6.4.3) lib/puma/configuration.rb:272:in `call'
puma (6.4.3) lib/puma/request.rb:100:in `block in handle_request'
puma (6.4.3) lib/puma/thread_pool.rb:378:in `with_force_shutdown'
puma (6.4.3) lib/puma/request.rb:99:in `handle_request'
puma (6.4.3) lib/puma/server.rb:464:in `process_client'
puma (6.4.3) lib/puma/server.rb:245:in `block in run'
puma (6.4.3) lib/puma/thread_pool.rb:155:in `block in spawn_thread'
Started GET "/animals" for 172.24.0.1 at 2024-10-30 12:24:41 +0000
Processing by AnimalsController#index as */*
Completed 404 Not Found in 1ms (ActiveRecord: 0.0ms | Allocations: 179)


  
AbstractController::ActionNotFound (The edit action could not be found for the :set_animal
callback on AnimalsController, but it is listed in the controller's
:only option.

Raising for missing callback actions is a new default in Rails 7.1, if you'd
like to turn this off you can delete the option from the environment configurations
or set `config.action_controller.raise_on_missing_callback_actions` to `false`.
):
  
actionpack (7.1.4.2) lib/abstract_controller/callbacks.rb:62:in `match?'
activesupport (7.1.4.2) lib/active_support/callbacks.rb:426:in `block in make_lambda'
activesupport (7.1.4.2) lib/active_support/callbacks.rb:182:in `block (2 levels) in halting_and_conditional'
activesupport (7.1.4.2) lib/active_support/callbacks.rb:182:in `all?'
activesupport (7.1.4.2) lib/active_support/callbacks.rb:182:in `block in halting_and_conditional'
activesupport (7.1.4.2) lib/active_support/callbacks.rb:598:in `block in invoke_before'
activesupport (7.1.4.2) lib/active_support/callbacks.rb:598:in `each'
activesupport (7.1.4.2) lib/active_support/callbacks.rb:598:in `invoke_before'
activesupport (7.1.4.2) lib/active_support/callbacks.rb:119:in `block in run_callbacks'
actiontext (7.1.4.2) lib/action_text/rendering.rb:23:in `with_renderer'
actiontext (7.1.4.2) lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
activesupport (7.1.4.2) lib/active_support/callbacks.rb:130:in `instance_exec'
activesupport (7.1.4.2) lib/active_support/callbacks.rb:130:in `block in run_callbacks'
activesupport (7.1.4.2) lib/active_support/callbacks.rb:141:in `run_callbacks'
actionpack (7.1.4.2) lib/abstract_controller/callbacks.rb:258:in `process_action'
actionpack (7.1.4.2) lib/action_controller/metal/rescue.rb:25:in `process_action'
actionpack (7.1.4.2) lib/action_controller/metal/instrumentation.rb:74:in `block in process_action'
activesupport (7.1.4.2) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.1.4.2) lib/active_support/notifications/instrumenter.rb:58:in `instrument'
activesupport (7.1.4.2) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.1.4.2) lib/action_controller/metal/instrumentation.rb:73:in `process_action'
actionpack (7.1.4.2) lib/action_controller/metal/params_wrapper.rb:261:in `process_action'
activerecord (7.1.4.2) lib/active_record/railties/controller_runtime.rb:32:in `process_action'
actionpack (7.1.4.2) lib/abstract_controller/base.rb:160:in `process'
actionview (7.1.4.2) lib/action_view/rendering.rb:40:in `process'
actionpack (7.1.4.2) lib/action_controller/metal.rb:227:in `dispatch'
actionpack (7.1.4.2) lib/action_controller/metal.rb:309:in `dispatch'
actionpack (7.1.4.2) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.1.4.2) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.1.4.2) lib/action_dispatch/journey/router.rb:51:in `block in serve'
actionpack (7.1.4.2) lib/action_dispatch/journey/router.rb:131:in `block in find_routes'
actionpack (7.1.4.2) lib/action_dispatch/journey/router.rb:124:in `each'
actionpack (7.1.4.2) lib/action_dispatch/journey/router.rb:124:in `find_routes'
actionpack (7.1.4.2) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.1.4.2) lib/action_dispatch/routing/route_set.rb:882:in `call'
rack (3.1.8) lib/rack/etag.rb:29:in `call'
rack (3.1.8) lib/rack/conditional_get.rb:31:in `call'
rack (3.1.8) lib/rack/head.rb:15:in `call'
activerecord (7.1.4.2) lib/active_record/migration.rb:655:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
activesupport (7.1.4.2) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (7.1.4.2) lib/action_dispatch/middleware/callbacks.rb:28:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/actionable_exceptions.rb:16:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (7.1.4.2) lib/rails/rack/logger.rb:37:in `call_app'
railties (7.1.4.2) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (7.1.4.2) lib/active_support/tagged_logging.rb:139:in `block in tagged'
activesupport (7.1.4.2) lib/active_support/tagged_logging.rb:39:in `tagged'
activesupport (7.1.4.2) lib/active_support/tagged_logging.rb:139:in `tagged'
activesupport (7.1.4.2) lib/active_support/broadcast_logger.rb:241:in `method_missing'
railties (7.1.4.2) lib/rails/rack/logger.rb:24:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/remote_ip.rb:92:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/request_id.rb:28:in `call'
rack (3.1.8) lib/rack/runtime.rb:24:in `call'
activesupport (7.1.4.2) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/server_timing.rb:59:in `block in call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/server_timing.rb:24:in `collect_events'
actionpack (7.1.4.2) lib/action_dispatch/middleware/server_timing.rb:58:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/static.rb:25:in `call'
rack (3.1.8) lib/rack/sendfile.rb:114:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/host_authorization.rb:141:in `call'
railties (7.1.4.2) lib/rails/engine.rb:536:in `call'
puma (6.4.3) lib/puma/configuration.rb:272:in `call'
puma (6.4.3) lib/puma/request.rb:100:in `block in handle_request'
puma (6.4.3) lib/puma/thread_pool.rb:378:in `with_force_shutdown'
puma (6.4.3) lib/puma/request.rb:99:in `handle_request'
puma (6.4.3) lib/puma/server.rb:464:in `process_client'
puma (6.4.3) lib/puma/server.rb:245:in `block in run'
puma (6.4.3) lib/puma/thread_pool.rb:155:in `block in spawn_thread'
Started GET "/animals" for 172.24.0.1 at 2024-10-30 12:26:50 +0000
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AnimalsController#index as */*
Completed 404 Not Found in 6ms (ActiveRecord: 0.0ms | Allocations: 2733)


  
AbstractController::ActionNotFound (The edit action could not be found for the :set_animal
callback on AnimalsController, but it is listed in the controller's
:only option.

Raising for missing callback actions is a new default in Rails 7.1, if you'd
like to turn this off you can delete the option from the environment configurations
or set `config.action_controller.raise_on_missing_callback_actions` to `false`.
):
  
actionpack (7.1.4.2) lib/abstract_controller/callbacks.rb:62:in `match?'
activesupport (7.1.4.2) lib/active_support/callbacks.rb:426:in `block in make_lambda'
activesupport (7.1.4.2) lib/active_support/callbacks.rb:182:in `block (2 levels) in halting_and_conditional'
activesupport (7.1.4.2) lib/active_support/callbacks.rb:182:in `all?'
activesupport (7.1.4.2) lib/active_support/callbacks.rb:182:in `block in halting_and_conditional'
activesupport (7.1.4.2) lib/active_support/callbacks.rb:598:in `block in invoke_before'
activesupport (7.1.4.2) lib/active_support/callbacks.rb:598:in `each'
activesupport (7.1.4.2) lib/active_support/callbacks.rb:598:in `invoke_before'
activesupport (7.1.4.2) lib/active_support/callbacks.rb:119:in `block in run_callbacks'
actiontext (7.1.4.2) lib/action_text/rendering.rb:23:in `with_renderer'
actiontext (7.1.4.2) lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
activesupport (7.1.4.2) lib/active_support/callbacks.rb:130:in `instance_exec'
activesupport (7.1.4.2) lib/active_support/callbacks.rb:130:in `block in run_callbacks'
activesupport (7.1.4.2) lib/active_support/callbacks.rb:141:in `run_callbacks'
actionpack (7.1.4.2) lib/abstract_controller/callbacks.rb:258:in `process_action'
actionpack (7.1.4.2) lib/action_controller/metal/rescue.rb:25:in `process_action'
actionpack (7.1.4.2) lib/action_controller/metal/instrumentation.rb:74:in `block in process_action'
activesupport (7.1.4.2) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.1.4.2) lib/active_support/notifications/instrumenter.rb:58:in `instrument'
activesupport (7.1.4.2) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.1.4.2) lib/action_controller/metal/instrumentation.rb:73:in `process_action'
actionpack (7.1.4.2) lib/action_controller/metal/params_wrapper.rb:261:in `process_action'
activerecord (7.1.4.2) lib/active_record/railties/controller_runtime.rb:32:in `process_action'
actionpack (7.1.4.2) lib/abstract_controller/base.rb:160:in `process'
actionview (7.1.4.2) lib/action_view/rendering.rb:40:in `process'
actionpack (7.1.4.2) lib/action_controller/metal.rb:227:in `dispatch'
actionpack (7.1.4.2) lib/action_controller/metal.rb:309:in `dispatch'
actionpack (7.1.4.2) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.1.4.2) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.1.4.2) lib/action_dispatch/journey/router.rb:51:in `block in serve'
actionpack (7.1.4.2) lib/action_dispatch/journey/router.rb:131:in `block in find_routes'
actionpack (7.1.4.2) lib/action_dispatch/journey/router.rb:124:in `each'
actionpack (7.1.4.2) lib/action_dispatch/journey/router.rb:124:in `find_routes'
actionpack (7.1.4.2) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.1.4.2) lib/action_dispatch/routing/route_set.rb:882:in `call'
rack (3.1.8) lib/rack/etag.rb:29:in `call'
rack (3.1.8) lib/rack/conditional_get.rb:31:in `call'
rack (3.1.8) lib/rack/head.rb:15:in `call'
activerecord (7.1.4.2) lib/active_record/migration.rb:655:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
activesupport (7.1.4.2) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (7.1.4.2) lib/action_dispatch/middleware/callbacks.rb:28:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/actionable_exceptions.rb:16:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (7.1.4.2) lib/rails/rack/logger.rb:37:in `call_app'
railties (7.1.4.2) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (7.1.4.2) lib/active_support/tagged_logging.rb:139:in `block in tagged'
activesupport (7.1.4.2) lib/active_support/tagged_logging.rb:39:in `tagged'
activesupport (7.1.4.2) lib/active_support/tagged_logging.rb:139:in `tagged'
activesupport (7.1.4.2) lib/active_support/broadcast_logger.rb:241:in `method_missing'
railties (7.1.4.2) lib/rails/rack/logger.rb:24:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/remote_ip.rb:92:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/request_id.rb:28:in `call'
rack (3.1.8) lib/rack/runtime.rb:24:in `call'
activesupport (7.1.4.2) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/server_timing.rb:59:in `block in call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/server_timing.rb:24:in `collect_events'
actionpack (7.1.4.2) lib/action_dispatch/middleware/server_timing.rb:58:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/static.rb:25:in `call'
rack (3.1.8) lib/rack/sendfile.rb:114:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/host_authorization.rb:141:in `call'
railties (7.1.4.2) lib/rails/engine.rb:536:in `call'
puma (6.4.3) lib/puma/configuration.rb:272:in `call'
puma (6.4.3) lib/puma/request.rb:100:in `block in handle_request'
puma (6.4.3) lib/puma/thread_pool.rb:378:in `with_force_shutdown'
puma (6.4.3) lib/puma/request.rb:99:in `handle_request'
puma (6.4.3) lib/puma/server.rb:464:in `process_client'
puma (6.4.3) lib/puma/server.rb:245:in `block in run'
puma (6.4.3) lib/puma/thread_pool.rb:155:in `block in spawn_thread'
Started GET "/animals" for 172.24.0.1 at 2024-10-30 12:27:52 +0000
Processing by AnimalsController#index as */*
  [1m[36mAnimal Load (1.6ms)[0m  [1m[34mSELECT "animals".* FROM "animals"[0m
  ↳ app/controllers/animals_controller.rb:8:in `index'
Completed 200 OK in 40ms (Views: 12.2ms | ActiveRecord: 6.2ms | Allocations: 18115)


Started POST "/animals" for 172.24.0.1 at 2024-10-30 12:28:00 +0000
Processing by AnimalsController#create as */*
  Parameters: {"nome"=>"Memel Leão", "idade"=>2, "especie"=>"Cachorro", "raca"=>"SRD", "peso"=>"4", "tutor_id"=>1, "animal"=>{"nome"=>"Memel Leão", "idade"=>2, "especie"=>"Cachorro", "raca"=>"SRD", "peso"=>"4", "tutor_id"=>1}}
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/animals_controller.rb:19:in `create'
  [1m[36mTutor Load (0.6ms)[0m  [1m[34mSELECT "tutors".* FROM "tutors" WHERE "tutors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:19:in `create'
  [1m[36mAnimal Create (1.1ms)[0m  [1m[32mINSERT INTO "animals" ("nome", "idade", "especie", "raca", "peso", "tutor_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["nome", "Memel Leão"], ["idade", 2], ["especie", "Cachorro"], ["raca", "SRD"], ["peso", 4.0], ["tutor_id", 1], ["created_at", "2024-10-30 12:28:00.417703"], ["updated_at", "2024-10-30 12:28:00.417703"]]
  ↳ app/controllers/animals_controller.rb:19:in `create'
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/animals_controller.rb:19:in `create'
Completed 201 Created in 88ms (Views: 1.7ms | ActiveRecord: 26.3ms | Allocations: 46735)


Started GET "/animals" for 172.24.0.1 at 2024-10-30 12:28:04 +0000
Processing by AnimalsController#index as */*
  [1m[36mAnimal Load (1.3ms)[0m  [1m[34mSELECT "animals".* FROM "animals"[0m
  ↳ app/controllers/animals_controller.rb:8:in `index'
Completed 200 OK in 6ms (Views: 3.9ms | ActiveRecord: 1.2ms | Allocations: 904)


Started GET "/funcionarios" for 172.24.0.1 at 2024-10-30 12:50:47 +0000
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by FuncionariosController#index as */*
No template found for FuncionariosController#index, rendering head :no_content
Completed 204 No Content in 124ms (ActiveRecord: 0.0ms | Allocations: 14976)


Started POST "/funcionarios" for 172.24.0.1 at 2024-10-30 12:51:46 +0000
Processing by FuncionariosController#create as */*
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms | Allocations: 265)


  
ActionController::ParameterMissing (param is missing or the value is empty: funcionario):
  
app/controllers/funcionarios_controller.rb:68:in `funcionario_params'
app/controllers/funcionarios_controller.rb:24:in `create'
Started POST "/funcionarios" for 172.24.0.1 at 2024-10-30 12:58:23 +0000
Processing by FuncionariosController#create as */*
  Parameters: {"nome"=>"João Silva", "contato"=>"joao.silva@example.com", "cargo"=>"Gerente", "senha"=>"senhaSegura123", "login"=>"joaosilva", "funcionario"=>{"nome"=>"João Silva", "contato"=>"joao.silva@example.com", "cargo"=>"Gerente", "login"=>"joaosilva", "senha"=>"senhaSegura123"}}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/funcionarios_controller.rb:27:in `block in create'
  [1m[36mFuncionario Exists? (3.1ms)[0m  [1m[34mSELECT 1 AS one FROM "funcionarios" WHERE "funcionarios"."login" = $1 LIMIT $2[0m  [["login", "joaosilva"], ["LIMIT", 1]]
  ↳ app/controllers/funcionarios_controller.rb:27:in `block in create'
  [1m[36mFuncionario Create (1.7ms)[0m  [1m[32mINSERT INTO "funcionarios" ("nome", "contato", "cargo", "login", "senha", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["nome", "João Silva"], ["contato", "joao.silva@example.com"], ["cargo", "Gerente"], ["login", "joaosilva"], ["senha", "senhaSegura123"], ["created_at", "2024-10-30 12:58:23.557034"], ["updated_at", "2024-10-30 12:58:23.557034"]]
  ↳ app/controllers/funcionarios_controller.rb:27:in `block in create'
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/funcionarios_controller.rb:27:in `block in create'
Redirected to 
Completed 500 Internal Server Error in 78ms (ActiveRecord: 30.5ms | Allocations: 25871)


  
NoMethodError (undefined method `flash' for #<ActionDispatch::Request POST "http://localhost:3000/funcionarios" for 172.24.0.1>):
  
app/controllers/funcionarios_controller.rb:28:in `block (2 levels) in create'
app/controllers/funcionarios_controller.rb:26:in `create'
Started POST "/funcionarios" for 172.24.0.1 at 2024-10-30 12:59:06 +0000
Processing by FuncionariosController#create as */*
  Parameters: {"nome"=>"João Silva", "contato"=>"joao.silva@example.com", "cargo"=>"Gerente", "senha"=>"senhaSegura123", "login"=>"joaosilva", "funcionario"=>{"nome"=>"João Silva", "contato"=>"joao.silva@example.com", "cargo"=>"Gerente", "login"=>"joaosilva", "senha"=>"senhaSegura123"}}
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/funcionarios_controller.rb:27:in `block in create'
  [1m[36mFuncionario Exists? (3.3ms)[0m  [1m[34mSELECT 1 AS one FROM "funcionarios" WHERE "funcionarios"."login" = $1 LIMIT $2[0m  [["login", "joaosilva"], ["LIMIT", 1]]
  ↳ app/controllers/funcionarios_controller.rb:27:in `block in create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/funcionarios_controller.rb:27:in `block in create'
Completed 500 Internal Server Error in 35ms (ActiveRecord: 12.4ms | Allocations: 10091)


  
ActionView::MissingTemplate (Missing template funcionarios/new, application/new with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby]}.

Searched in:
  * "/app/app/views"
  * "/usr/local/bundle/gems/actiontext-7.1.4.2/app/views"
  * "/usr/local/bundle/gems/actionmailbox-7.1.4.2/app/views"

Did you mean?  rails/conductor/action_mailbox/inbound_emails/new
               rails/conductor/action_mailbox/inbound_emails/sources/new
               rails/conductor/action_mailbox/inbound_emails/show
               rails/conductor/action_mailbox/inbound_emails/index
               layouts/rails/conductor
               layouts/mailer):
  
app/controllers/funcionarios_controller.rb:31:in `block (2 levels) in create'
app/controllers/funcionarios_controller.rb:26:in `create'
Started POST "/funcionarios" for 172.24.0.1 at 2024-10-30 13:03:10 +0000
Processing by FuncionariosController#create as */*
  Parameters: {"nome"=>"João Silva", "contato"=>"joao.silva@example.com", "cargo"=>"Gerente", "senha"=>"senhaSegura123", "login"=>"joaosilva", "funcionario"=>{"nome"=>"João Silva", "contato"=>"joao.silva@example.com", "cargo"=>"Gerente", "login"=>"joaosilva", "senha"=>"senhaSegura123"}}
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/funcionarios_controller.rb:19:in `create'
  [1m[36mFuncionario Exists? (3.2ms)[0m  [1m[34mSELECT 1 AS one FROM "funcionarios" WHERE "funcionarios"."login" = $1 LIMIT $2[0m  [["login", "joaosilva"], ["LIMIT", 1]]
  ↳ app/controllers/funcionarios_controller.rb:19:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/funcionarios_controller.rb:19:in `create'
Completed 422 Unprocessable Content in 41ms (Views: 12.9ms | ActiveRecord: 20.3ms | Allocations: 7355)


Started POST "/funcionarios" for 172.24.0.1 at 2024-10-30 13:04:11 +0000
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by FuncionariosController#create as */*
  Parameters: {"nome"=>"João Silva", "contato"=>"joao.silva@example.com", "cargo"=>"Gerente", "senha"=>"senhaSegura123", "login"=>"joaosilva", "funcionario"=>{"nome"=>"João Silva", "contato"=>"joao.silva@example.com", "cargo"=>"Gerente", "login"=>"joaosilva", "senha"=>"senhaSegura123"}}
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/funcionarios_controller.rb:19:in `create'
  [1m[36mFuncionario Exists? (4.0ms)[0m  [1m[34mSELECT 1 AS one FROM "funcionarios" WHERE "funcionarios"."login" = $1 LIMIT $2[0m  [["login", "joaosilva"], ["LIMIT", 1]]
  ↳ app/controllers/funcionarios_controller.rb:19:in `create'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/funcionarios_controller.rb:19:in `create'
Completed 422 Unprocessable Content in 57ms (Views: 3.6ms | ActiveRecord: 26.1ms | Allocations: 27710)


Started GET "/funcionarios" for 172.24.0.1 at 2024-10-30 13:04:14 +0000
Processing by FuncionariosController#index as */*
  [1m[36mFuncionario Load (0.7ms)[0m  [1m[34mSELECT "funcionarios".* FROM "funcionarios"[0m
  ↳ app/controllers/funcionarios_controller.rb:8:in `index'
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.7ms | Allocations: 1184)


Started PATCH "/funcionarios/1" for 172.24.0.1 at 2024-10-30 13:05:07 +0000
Processing by FuncionariosController#update as */*
  Parameters: {"nome"=>"João Silva Souza", "id"=>"1", "funcionario"=>{"nome"=>"João Silva Souza"}}
  [1m[36mFuncionario Load (0.5ms)[0m  [1m[34mSELECT "funcionarios".* FROM "funcionarios" WHERE "funcionarios"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/funcionarios_controller.rb:45:in `set_funcionario'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/funcionarios_controller.rb:28:in `update'
  [1m[36mFuncionario Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "funcionarios" WHERE "funcionarios"."login" = $1 AND "funcionarios"."id" != $2 LIMIT $3[0m  [["login", "joaosilva"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/funcionarios_controller.rb:28:in `update'
  [1m[36mFuncionario Update (1.3ms)[0m  [1m[33mUPDATE "funcionarios" SET "nome" = $1, "updated_at" = $2 WHERE "funcionarios"."id" = $3[0m  [["nome", "João Silva Souza"], ["updated_at", "2024-10-30 13:05:07.608552"], ["id", 1]]
  ↳ app/controllers/funcionarios_controller.rb:28:in `update'
  [1m[36mTRANSACTION (4.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/funcionarios_controller.rb:28:in `update'
Completed 200 OK in 27ms (Views: 0.8ms | ActiveRecord: 13.1ms | Allocations: 4668)


Started DELETE "/funcionarios/1" for 172.24.0.1 at 2024-10-30 13:06:06 +0000
Processing by FuncionariosController#destroy as */*
  Parameters: {"id"=>"1"}
  [1m[36mFuncionario Load (0.7ms)[0m  [1m[34mSELECT "funcionarios".* FROM "funcionarios" WHERE "funcionarios"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/funcionarios_controller.rb:45:in `set_funcionario'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/funcionarios_controller.rb:37:in `destroy'
  [1m[36mFuncionario Destroy (2.9ms)[0m  [1m[31mDELETE FROM "funcionarios" WHERE "funcionarios"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/funcionarios_controller.rb:37:in `destroy'
  [1m[36mTRANSACTION (4.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/funcionarios_controller.rb:37:in `destroy'
Completed 204 No Content in 15ms (ActiveRecord: 8.5ms | Allocations: 2336)


Started GET "/funcionarios" for 172.24.0.1 at 2024-10-30 13:06:21 +0000
Processing by FuncionariosController#index as */*
  [1m[36mFuncionario Load (0.6ms)[0m  [1m[34mSELECT "funcionarios".* FROM "funcionarios"[0m
  ↳ app/controllers/funcionarios_controller.rb:8:in `index'
Completed 200 OK in 3ms (Views: 1.6ms | ActiveRecord: 0.6ms | Allocations: 787)


Started GET "/" for 172.24.0.1 at 2024-11-12 21:37:41 +0000
  [1m[36mActiveRecord::SchemaMigration Load (3.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Rails::WelcomeController#index as HTML
  Rendering /usr/local/bundle/gems/railties-7.1.4.2/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /usr/local/bundle/gems/railties-7.1.4.2/lib/rails/templates/rails/welcome/index.html.erb (Duration: 0.9ms | Allocations: 579)
Completed 200 OK in 24ms (Views: 7.5ms | ActiveRecord: 0.0ms | Allocations: 10003)


Started GET "/tutors" for 172.24.0.1 at 2024-11-12 21:38:26 +0000
Processing by TutorsController#index as */*
  [1m[36mTutor Load (5.0ms)[0m  [1m[34mSELECT "tutors".* FROM "tutors"[0m
  ↳ app/controllers/tutors_controller.rb:8:in `index'
Completed 200 OK in 97ms (Views: 27.1ms | ActiveRecord: 28.2ms | Allocations: 39053)


Started PATCH "/tutors/1" for 172.24.0.1 at 2024-11-12 21:38:35 +0000
Processing by TutorsController#update as */*
  Parameters: {"nome"=>"João Souza", "id"=>"1", "tutor"=>{"nome"=>"João Souza"}}
  [1m[36mTutor Load (0.5ms)[0m  [1m[34mSELECT "tutors".* FROM "tutors" WHERE "tutors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/tutors_controller.rb:44:in `set_tutor'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/tutors_controller.rb:28:in `update'
  [1m[36mTutor Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "tutors" WHERE "tutors"."email" = $1 AND "tutors"."id" != $2 LIMIT $3[0m  [["email", "lamb@leão.com"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/tutors_controller.rb:28:in `update'
  [1m[36mTutor Update (2.3ms)[0m  [1m[33mUPDATE "tutors" SET "nome" = $1, "updated_at" = $2 WHERE "tutors"."id" = $3[0m  [["nome", "João Souza"], ["updated_at", "2024-11-12 21:38:35.193735"], ["id", 1]]
  ↳ app/controllers/tutors_controller.rb:28:in `update'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/tutors_controller.rb:28:in `update'
Completed 200 OK in 30ms (Views: 0.5ms | ActiveRecord: 10.6ms | Allocations: 6492)


Started PATCH "/tutors/1" for 172.24.0.1 at 2024-11-12 21:39:12 +0000
Processing by TutorsController#update as */*
  Parameters: {"email"=>"email@teste.com", "id"=>"1", "tutor"=>{"email"=>"email@teste.com"}}
  [1m[36mTutor Load (0.6ms)[0m  [1m[34mSELECT "tutors".* FROM "tutors" WHERE "tutors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/tutors_controller.rb:44:in `set_tutor'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/tutors_controller.rb:28:in `update'
  [1m[36mTutor Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "tutors" WHERE "tutors"."email" = $1 AND "tutors"."id" != $2 LIMIT $3[0m  [["email", "email@teste.com"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/tutors_controller.rb:28:in `update'
  [1m[36mTutor Update (0.8ms)[0m  [1m[33mUPDATE "tutors" SET "email" = $1, "updated_at" = $2 WHERE "tutors"."id" = $3[0m  [["email", "email@teste.com"], ["updated_at", "2024-11-12 21:39:12.306431"], ["id", 1]]
  ↳ app/controllers/tutors_controller.rb:28:in `update'
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/tutors_controller.rb:28:in `update'
Completed 200 OK in 18ms (Views: 0.6ms | ActiveRecord: 5.6ms | Allocations: 3756)


Started GET "/animals" for 172.24.0.1 at 2024-11-12 22:06:23 +0000
Processing by AnimalsController#index as */*
  [1m[36mAnimal Load (16.9ms)[0m  [1m[34mSELECT "animals".* FROM "animals"[0m
  ↳ app/controllers/animals_controller.rb:8:in `index'
Completed 200 OK in 54ms (Views: 12.1ms | ActiveRecord: 29.1ms | Allocations: 24809)


Started GET "/estoque_vendas" for 172.24.0.1 at 2024-11-12 22:06:41 +0000
Processing by EstoqueVendasController#index as */*
  [1m[36mEstoqueVenda Load (2.2ms)[0m  [1m[34mSELECT "estoque_vendas".* FROM "estoque_vendas"[0m
  ↳ app/controllers/estoque_vendas_controller.rb:8:in `index'
Completed 200 OK in 23ms (Views: 16.8ms | ActiveRecord: 4.3ms | Allocations: 19136)


Started PATCH "/vender_produto/1" for 172.24.0.1 at 2024-11-12 22:06:51 +0000
Processing by FuncionariosController#vender_produto as */*
  Parameters: {"quantidade"=>2, "id"=>"1", "funcionario"=>{}}
  [1m[36mEstoqueVenda Load (0.4ms)[0m  [1m[34mSELECT "estoque_vendas".* FROM "estoque_vendas" WHERE "estoque_vendas"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/funcionarios_controller.rb:44:in `vender_produto'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/estoque_venda.rb:10:in `retira_n_estoque'
  [1m[36mEstoqueVenda Update (2.1ms)[0m  [1m[33mUPDATE "estoque_vendas" SET "quantidade_disponivel" = $1, "quantidade_venda" = $2, "updated_at" = $3 WHERE "estoque_vendas"."id" = $4[0m  [["quantidade_disponivel", 507], ["quantidade_venda", 4], ["updated_at", "2024-11-12 22:06:51.607751"], ["id", 1]]
  ↳ app/models/estoque_venda.rb:10:in `retira_n_estoque'
  [1m[36mTRANSACTION (4.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/estoque_venda.rb:10:in `retira_n_estoque'
Completed 200 OK in 12ms (Views: 0.3ms | ActiveRecord: 10.7ms | Allocations: 3254)


Started GET "/animals" for 172.24.0.1 at 2024-11-12 22:07:21 +0000
Processing by AnimalsController#index as */*
  [1m[36mAnimal Load (0.9ms)[0m  [1m[34mSELECT "animals".* FROM "animals"[0m
  ↳ app/controllers/animals_controller.rb:8:in `index'
Completed 200 OK in 4ms (Views: 2.3ms | ActiveRecord: 0.8ms | Allocations: 859)


Started GET "/consulta" for 172.24.0.1 at 2024-11-12 22:10:17 +0000
Processing by ConsultaController#index as */*
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.0ms | Allocations: 2979)


  
NameError (undefined local variable or method `consulta' for #<ConsultaController:0x00000000017a48>
Did you mean?  consulta_url):
  
app/controllers/consulta_controller.rb:7:in `index'
Started GET "/consulta" for 172.24.0.1 at 2024-11-12 22:10:36 +0000
Processing by ConsultaController#index as */*
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.0ms | Allocations: 2830)


  
NameError (undefined local variable or method `consulta' for #<ConsultaController:0x00000000017b10>
Did you mean?  consulta_url):
  
app/controllers/consulta_controller.rb:7:in `index'
Started GET "/consulta_url" for 172.24.0.1 at 2024-11-12 22:10:45 +0000
  
ActionController::RoutingError (No route matches [GET] "/consulta_url"):
  
Started GET "/consulta" for 172.24.0.1 at 2024-11-12 22:10:51 +0000
Processing by ConsultaController#index as */*
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.0ms | Allocations: 2830)


  
NameError (undefined local variable or method `consulta' for #<ConsultaController:0x00000000017bb0>
Did you mean?  consulta_url):
  
app/controllers/consulta_controller.rb:7:in `index'
Started GET "/consulta" for 172.24.0.1 at 2024-11-12 22:17:23 +0000
Processing by ConsultaController#index as */*
  [1m[36mConsulta Load (0.8ms)[0m  [1m[34mSELECT "consulta".* FROM "consulta"[0m
  ↳ app/controllers/consulta_controller.rb:8:in `index'
Completed 200 OK in 20ms (Views: 8.9ms | ActiveRecord: 5.4ms | Allocations: 7388)


Started GET "/consulta" for 172.24.0.1 at 2024-11-12 22:17:51 +0000
Processing by ConsultaController#index as */*
  [1m[36mConsulta Load (1.0ms)[0m  [1m[34mSELECT "consulta".* FROM "consulta"[0m
  ↳ app/controllers/consulta_controller.rb:8:in `index'
Completed 200 OK in 10ms (Views: 1.3ms | ActiveRecord: 1.0ms | Allocations: 4297)


Started GET "/funcionarios" for 172.24.0.1 at 2024-11-12 22:20:19 +0000
Processing by FuncionariosController#index as */*
  [1m[36mFuncionario Load (13.6ms)[0m  [1m[34mSELECT "funcionarios".* FROM "funcionarios"[0m
  ↳ app/controllers/funcionarios_controller.rb:8:in `index'
Completed 200 OK in 35ms (Views: 15.2ms | ActiveRecord: 18.2ms | Allocations: 18785)


  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(6008124786622812630)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (5.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to CreateTableCargos (20241112222840)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(6008124786622812630)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(6008124786622812630)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to CreateTableCargos (20241112222840)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (33.3ms)[0m  [1m[35mCREATE TABLE "table_cargos" ("id" bigserial primary key, "cod_cargo" integer, "nome_cargo" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20241112222840') RETURNING "version"[0m
  [1m[36mTRANSACTION (4.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(6008124786622812630)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(6008124786622812630)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(6008124786622812630)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_try_advisory_lock(6008124786622812630)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(6008124786622812630)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(6008124786622812630)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(6008124786622812630)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(6008124786622812630)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(6008124786622812630)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(6008124786622812630)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(6008124786622812630)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_try_advisory_lock(6008124786622812630)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to CreateCargos (20241112223528)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (11.8ms)[0m  [1m[35mCREATE TABLE "cargos" ("id" bigserial primary key, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20241112223528') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(6008124786622812630)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/cargo" for 172.24.0.1 at 2024-11-12 22:38:52 +0000
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by CargoController#index as */*
Completed 404 Not Found in 3ms (ActiveRecord: 0.0ms | Allocations: 457)


  
AbstractController::ActionNotFound (The update action could not be found for the :set_funcionario
callback on CargoController, but it is listed in the controller's
:only option.

Raising for missing callback actions is a new default in Rails 7.1, if you'd
like to turn this off you can delete the option from the environment configurations
or set `config.action_controller.raise_on_missing_callback_actions` to `false`.
):
  
actionpack (7.1.4.2) lib/abstract_controller/callbacks.rb:62:in `match?'
activesupport (7.1.4.2) lib/active_support/callbacks.rb:426:in `block in make_lambda'
activesupport (7.1.4.2) lib/active_support/callbacks.rb:182:in `block (2 levels) in halting_and_conditional'
activesupport (7.1.4.2) lib/active_support/callbacks.rb:182:in `all?'
activesupport (7.1.4.2) lib/active_support/callbacks.rb:182:in `block in halting_and_conditional'
activesupport (7.1.4.2) lib/active_support/callbacks.rb:598:in `block in invoke_before'
activesupport (7.1.4.2) lib/active_support/callbacks.rb:598:in `each'
activesupport (7.1.4.2) lib/active_support/callbacks.rb:598:in `invoke_before'
activesupport (7.1.4.2) lib/active_support/callbacks.rb:119:in `block in run_callbacks'
actiontext (7.1.4.2) lib/action_text/rendering.rb:23:in `with_renderer'
actiontext (7.1.4.2) lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
activesupport (7.1.4.2) lib/active_support/callbacks.rb:130:in `instance_exec'
activesupport (7.1.4.2) lib/active_support/callbacks.rb:130:in `block in run_callbacks'
activesupport (7.1.4.2) lib/active_support/callbacks.rb:141:in `run_callbacks'
actionpack (7.1.4.2) lib/abstract_controller/callbacks.rb:258:in `process_action'
actionpack (7.1.4.2) lib/action_controller/metal/rescue.rb:25:in `process_action'
actionpack (7.1.4.2) lib/action_controller/metal/instrumentation.rb:74:in `block in process_action'
activesupport (7.1.4.2) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.1.4.2) lib/active_support/notifications/instrumenter.rb:58:in `instrument'
activesupport (7.1.4.2) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.1.4.2) lib/action_controller/metal/instrumentation.rb:73:in `process_action'
actionpack (7.1.4.2) lib/action_controller/metal/params_wrapper.rb:261:in `process_action'
activerecord (7.1.4.2) lib/active_record/railties/controller_runtime.rb:32:in `process_action'
actionpack (7.1.4.2) lib/abstract_controller/base.rb:160:in `process'
actionview (7.1.4.2) lib/action_view/rendering.rb:40:in `process'
actionpack (7.1.4.2) lib/action_controller/metal.rb:227:in `dispatch'
actionpack (7.1.4.2) lib/action_controller/metal.rb:309:in `dispatch'
actionpack (7.1.4.2) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.1.4.2) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.1.4.2) lib/action_dispatch/journey/router.rb:51:in `block in serve'
actionpack (7.1.4.2) lib/action_dispatch/journey/router.rb:131:in `block in find_routes'
actionpack (7.1.4.2) lib/action_dispatch/journey/router.rb:124:in `each'
actionpack (7.1.4.2) lib/action_dispatch/journey/router.rb:124:in `find_routes'
actionpack (7.1.4.2) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.1.4.2) lib/action_dispatch/routing/route_set.rb:882:in `call'
rack (3.1.8) lib/rack/etag.rb:29:in `call'
rack (3.1.8) lib/rack/conditional_get.rb:31:in `call'
rack (3.1.8) lib/rack/head.rb:15:in `call'
activerecord (7.1.4.2) lib/active_record/migration.rb:655:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
activesupport (7.1.4.2) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (7.1.4.2) lib/action_dispatch/middleware/callbacks.rb:28:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/actionable_exceptions.rb:16:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (7.1.4.2) lib/rails/rack/logger.rb:37:in `call_app'
railties (7.1.4.2) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (7.1.4.2) lib/active_support/tagged_logging.rb:139:in `block in tagged'
activesupport (7.1.4.2) lib/active_support/tagged_logging.rb:39:in `tagged'
activesupport (7.1.4.2) lib/active_support/tagged_logging.rb:139:in `tagged'
activesupport (7.1.4.2) lib/active_support/broadcast_logger.rb:241:in `method_missing'
railties (7.1.4.2) lib/rails/rack/logger.rb:24:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/remote_ip.rb:92:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/request_id.rb:28:in `call'
rack (3.1.8) lib/rack/runtime.rb:24:in `call'
activesupport (7.1.4.2) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/server_timing.rb:59:in `block in call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/server_timing.rb:24:in `collect_events'
actionpack (7.1.4.2) lib/action_dispatch/middleware/server_timing.rb:58:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/static.rb:25:in `call'
rack (3.1.8) lib/rack/sendfile.rb:114:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/host_authorization.rb:141:in `call'
railties (7.1.4.2) lib/rails/engine.rb:536:in `call'
puma (6.4.3) lib/puma/configuration.rb:272:in `call'
puma (6.4.3) lib/puma/request.rb:100:in `block in handle_request'
puma (6.4.3) lib/puma/thread_pool.rb:378:in `with_force_shutdown'
puma (6.4.3) lib/puma/request.rb:99:in `handle_request'
puma (6.4.3) lib/puma/server.rb:464:in `process_client'
puma (6.4.3) lib/puma/server.rb:245:in `block in run'
puma (6.4.3) lib/puma/thread_pool.rb:155:in `block in spawn_thread'
Started GET "/cargos" for 172.24.0.1 at 2024-11-12 22:38:56 +0000
  
ActionController::RoutingError (No route matches [GET] "/cargos"):
  
Started GET "/cargos" for 172.24.0.1 at 2024-11-12 22:40:01 +0000
  
ActionController::RoutingError (uninitialized constant CargosController
Did you mean?  CargoController):
  
Started GET "/cargos" for 172.24.0.1 at 2024-11-12 22:40:29 +0000
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (uninitialized constant CargosController
Did you mean?  CargoController):
  
Started GET "/cargos" for 172.24.0.1 at 2024-11-12 22:40:49 +0000
  
ActionController::RoutingError (uninitialized constant CargosController
Did you mean?  CargoController):
  
Started GET "/cargos" for 172.24.0.1 at 2024-11-12 22:41:01 +0000
  [1m[36mActiveRecord::SchemaMigration Load (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
Zeitwerk::NameError (expected file /app/app/controllers/cargos_controller.rb to define constant CargosController, but didn't):
  
zeitwerk (2.6.18) lib/zeitwerk/loader/callbacks.rb:32:in `on_file_autoloaded'
zeitwerk (2.6.18) lib/zeitwerk/kernel.rb:27:in `require'
activesupport (7.1.4.2) lib/active_support/inflector/methods.rb:290:in `const_get'
activesupport (7.1.4.2) lib/active_support/inflector/methods.rb:290:in `constantize'
activesupport (7.1.4.2) lib/active_support/core_ext/string/inflections.rb:74:in `constantize'
actionpack (7.1.4.2) lib/action_dispatch/http/request.rb:90:in `controller_class_for'
actionpack (7.1.4.2) lib/action_dispatch/request/utils.rb:100:in `action_encoding_template'
actionpack (7.1.4.2) lib/action_dispatch/request/utils.rb:85:in `encode'
actionpack (7.1.4.2) lib/action_dispatch/request/utils.rb:45:in `set_binary_encoding'
actionpack (7.1.4.2) lib/action_dispatch/http/parameters.rb:68:in `path_parameters='
actionpack (7.1.4.2) lib/action_dispatch/journey/router.rb:48:in `block in serve'
actionpack (7.1.4.2) lib/action_dispatch/journey/router.rb:131:in `block in find_routes'
actionpack (7.1.4.2) lib/action_dispatch/journey/router.rb:124:in `each'
actionpack (7.1.4.2) lib/action_dispatch/journey/router.rb:124:in `find_routes'
actionpack (7.1.4.2) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.1.4.2) lib/action_dispatch/routing/route_set.rb:882:in `call'
rack (3.1.8) lib/rack/etag.rb:29:in `call'
rack (3.1.8) lib/rack/conditional_get.rb:31:in `call'
rack (3.1.8) lib/rack/head.rb:15:in `call'
activerecord (7.1.4.2) lib/active_record/migration.rb:655:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
activesupport (7.1.4.2) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (7.1.4.2) lib/action_dispatch/middleware/callbacks.rb:28:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/actionable_exceptions.rb:16:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (7.1.4.2) lib/rails/rack/logger.rb:37:in `call_app'
railties (7.1.4.2) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (7.1.4.2) lib/active_support/tagged_logging.rb:139:in `block in tagged'
activesupport (7.1.4.2) lib/active_support/tagged_logging.rb:39:in `tagged'
activesupport (7.1.4.2) lib/active_support/tagged_logging.rb:139:in `tagged'
activesupport (7.1.4.2) lib/active_support/broadcast_logger.rb:241:in `method_missing'
railties (7.1.4.2) lib/rails/rack/logger.rb:24:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/remote_ip.rb:92:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/request_id.rb:28:in `call'
rack (3.1.8) lib/rack/runtime.rb:24:in `call'
activesupport (7.1.4.2) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/server_timing.rb:59:in `block in call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/server_timing.rb:24:in `collect_events'
actionpack (7.1.4.2) lib/action_dispatch/middleware/server_timing.rb:58:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/static.rb:25:in `call'
rack (3.1.8) lib/rack/sendfile.rb:114:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/host_authorization.rb:141:in `call'
railties (7.1.4.2) lib/rails/engine.rb:536:in `call'
puma (6.4.3) lib/puma/configuration.rb:272:in `call'
puma (6.4.3) lib/puma/request.rb:100:in `block in handle_request'
puma (6.4.3) lib/puma/thread_pool.rb:378:in `with_force_shutdown'
puma (6.4.3) lib/puma/request.rb:99:in `handle_request'
puma (6.4.3) lib/puma/server.rb:464:in `process_client'
puma (6.4.3) lib/puma/server.rb:245:in `block in run'
puma (6.4.3) lib/puma/thread_pool.rb:155:in `block in spawn_thread'
Started GET "/cargos" for 172.24.0.1 at 2024-11-12 22:41:34 +0000
Processing by CargosController#index as */*
Completed 404 Not Found in 6ms (ActiveRecord: 0.0ms | Allocations: 2722)


  
AbstractController::ActionNotFound (The update action could not be found for the :set_funcionario
callback on CargosController, but it is listed in the controller's
:only option.

Raising for missing callback actions is a new default in Rails 7.1, if you'd
like to turn this off you can delete the option from the environment configurations
or set `config.action_controller.raise_on_missing_callback_actions` to `false`.
):
  
actionpack (7.1.4.2) lib/abstract_controller/callbacks.rb:62:in `match?'
activesupport (7.1.4.2) lib/active_support/callbacks.rb:426:in `block in make_lambda'
activesupport (7.1.4.2) lib/active_support/callbacks.rb:182:in `block (2 levels) in halting_and_conditional'
activesupport (7.1.4.2) lib/active_support/callbacks.rb:182:in `all?'
activesupport (7.1.4.2) lib/active_support/callbacks.rb:182:in `block in halting_and_conditional'
activesupport (7.1.4.2) lib/active_support/callbacks.rb:598:in `block in invoke_before'
activesupport (7.1.4.2) lib/active_support/callbacks.rb:598:in `each'
activesupport (7.1.4.2) lib/active_support/callbacks.rb:598:in `invoke_before'
activesupport (7.1.4.2) lib/active_support/callbacks.rb:119:in `block in run_callbacks'
actiontext (7.1.4.2) lib/action_text/rendering.rb:23:in `with_renderer'
actiontext (7.1.4.2) lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
activesupport (7.1.4.2) lib/active_support/callbacks.rb:130:in `instance_exec'
activesupport (7.1.4.2) lib/active_support/callbacks.rb:130:in `block in run_callbacks'
activesupport (7.1.4.2) lib/active_support/callbacks.rb:141:in `run_callbacks'
actionpack (7.1.4.2) lib/abstract_controller/callbacks.rb:258:in `process_action'
actionpack (7.1.4.2) lib/action_controller/metal/rescue.rb:25:in `process_action'
actionpack (7.1.4.2) lib/action_controller/metal/instrumentation.rb:74:in `block in process_action'
activesupport (7.1.4.2) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.1.4.2) lib/active_support/notifications/instrumenter.rb:58:in `instrument'
activesupport (7.1.4.2) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.1.4.2) lib/action_controller/metal/instrumentation.rb:73:in `process_action'
actionpack (7.1.4.2) lib/action_controller/metal/params_wrapper.rb:261:in `process_action'
activerecord (7.1.4.2) lib/active_record/railties/controller_runtime.rb:32:in `process_action'
actionpack (7.1.4.2) lib/abstract_controller/base.rb:160:in `process'
actionview (7.1.4.2) lib/action_view/rendering.rb:40:in `process'
actionpack (7.1.4.2) lib/action_controller/metal.rb:227:in `dispatch'
actionpack (7.1.4.2) lib/action_controller/metal.rb:309:in `dispatch'
actionpack (7.1.4.2) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.1.4.2) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.1.4.2) lib/action_dispatch/journey/router.rb:51:in `block in serve'
actionpack (7.1.4.2) lib/action_dispatch/journey/router.rb:131:in `block in find_routes'
actionpack (7.1.4.2) lib/action_dispatch/journey/router.rb:124:in `each'
actionpack (7.1.4.2) lib/action_dispatch/journey/router.rb:124:in `find_routes'
actionpack (7.1.4.2) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.1.4.2) lib/action_dispatch/routing/route_set.rb:882:in `call'
rack (3.1.8) lib/rack/etag.rb:29:in `call'
rack (3.1.8) lib/rack/conditional_get.rb:31:in `call'
rack (3.1.8) lib/rack/head.rb:15:in `call'
activerecord (7.1.4.2) lib/active_record/migration.rb:655:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
activesupport (7.1.4.2) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (7.1.4.2) lib/action_dispatch/middleware/callbacks.rb:28:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/actionable_exceptions.rb:16:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (7.1.4.2) lib/rails/rack/logger.rb:37:in `call_app'
railties (7.1.4.2) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (7.1.4.2) lib/active_support/tagged_logging.rb:139:in `block in tagged'
activesupport (7.1.4.2) lib/active_support/tagged_logging.rb:39:in `tagged'
activesupport (7.1.4.2) lib/active_support/tagged_logging.rb:139:in `tagged'
activesupport (7.1.4.2) lib/active_support/broadcast_logger.rb:241:in `method_missing'
railties (7.1.4.2) lib/rails/rack/logger.rb:24:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/remote_ip.rb:92:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/request_id.rb:28:in `call'
rack (3.1.8) lib/rack/runtime.rb:24:in `call'
activesupport (7.1.4.2) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/server_timing.rb:59:in `block in call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/server_timing.rb:24:in `collect_events'
actionpack (7.1.4.2) lib/action_dispatch/middleware/server_timing.rb:58:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/static.rb:25:in `call'
rack (3.1.8) lib/rack/sendfile.rb:114:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/host_authorization.rb:141:in `call'
railties (7.1.4.2) lib/rails/engine.rb:536:in `call'
puma (6.4.3) lib/puma/configuration.rb:272:in `call'
puma (6.4.3) lib/puma/request.rb:100:in `block in handle_request'
puma (6.4.3) lib/puma/thread_pool.rb:378:in `with_force_shutdown'
puma (6.4.3) lib/puma/request.rb:99:in `handle_request'
puma (6.4.3) lib/puma/server.rb:464:in `process_client'
puma (6.4.3) lib/puma/server.rb:245:in `block in run'
puma (6.4.3) lib/puma/thread_pool.rb:155:in `block in spawn_thread'
Started GET "/cargos" for 172.24.0.1 at 2024-11-12 22:42:10 +0000
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by CargosController#index as */*
Completed 404 Not Found in 4ms (ActiveRecord: 0.0ms | Allocations: 2727)


  
AbstractController::ActionNotFound (The update action could not be found for the :set_funcionario
callback on CargosController, but it is listed in the controller's
:only option.

Raising for missing callback actions is a new default in Rails 7.1, if you'd
like to turn this off you can delete the option from the environment configurations
or set `config.action_controller.raise_on_missing_callback_actions` to `false`.
):
  
actionpack (7.1.4.2) lib/abstract_controller/callbacks.rb:62:in `match?'
activesupport (7.1.4.2) lib/active_support/callbacks.rb:426:in `block in make_lambda'
activesupport (7.1.4.2) lib/active_support/callbacks.rb:182:in `block (2 levels) in halting_and_conditional'
activesupport (7.1.4.2) lib/active_support/callbacks.rb:182:in `all?'
activesupport (7.1.4.2) lib/active_support/callbacks.rb:182:in `block in halting_and_conditional'
activesupport (7.1.4.2) lib/active_support/callbacks.rb:598:in `block in invoke_before'
activesupport (7.1.4.2) lib/active_support/callbacks.rb:598:in `each'
activesupport (7.1.4.2) lib/active_support/callbacks.rb:598:in `invoke_before'
activesupport (7.1.4.2) lib/active_support/callbacks.rb:119:in `block in run_callbacks'
actiontext (7.1.4.2) lib/action_text/rendering.rb:23:in `with_renderer'
actiontext (7.1.4.2) lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
activesupport (7.1.4.2) lib/active_support/callbacks.rb:130:in `instance_exec'
activesupport (7.1.4.2) lib/active_support/callbacks.rb:130:in `block in run_callbacks'
activesupport (7.1.4.2) lib/active_support/callbacks.rb:141:in `run_callbacks'
actionpack (7.1.4.2) lib/abstract_controller/callbacks.rb:258:in `process_action'
actionpack (7.1.4.2) lib/action_controller/metal/rescue.rb:25:in `process_action'
actionpack (7.1.4.2) lib/action_controller/metal/instrumentation.rb:74:in `block in process_action'
activesupport (7.1.4.2) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.1.4.2) lib/active_support/notifications/instrumenter.rb:58:in `instrument'
activesupport (7.1.4.2) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.1.4.2) lib/action_controller/metal/instrumentation.rb:73:in `process_action'
actionpack (7.1.4.2) lib/action_controller/metal/params_wrapper.rb:261:in `process_action'
activerecord (7.1.4.2) lib/active_record/railties/controller_runtime.rb:32:in `process_action'
actionpack (7.1.4.2) lib/abstract_controller/base.rb:160:in `process'
actionview (7.1.4.2) lib/action_view/rendering.rb:40:in `process'
actionpack (7.1.4.2) lib/action_controller/metal.rb:227:in `dispatch'
actionpack (7.1.4.2) lib/action_controller/metal.rb:309:in `dispatch'
actionpack (7.1.4.2) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.1.4.2) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.1.4.2) lib/action_dispatch/journey/router.rb:51:in `block in serve'
actionpack (7.1.4.2) lib/action_dispatch/journey/router.rb:131:in `block in find_routes'
actionpack (7.1.4.2) lib/action_dispatch/journey/router.rb:124:in `each'
actionpack (7.1.4.2) lib/action_dispatch/journey/router.rb:124:in `find_routes'
actionpack (7.1.4.2) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.1.4.2) lib/action_dispatch/routing/route_set.rb:882:in `call'
rack (3.1.8) lib/rack/etag.rb:29:in `call'
rack (3.1.8) lib/rack/conditional_get.rb:31:in `call'
rack (3.1.8) lib/rack/head.rb:15:in `call'
activerecord (7.1.4.2) lib/active_record/migration.rb:655:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
activesupport (7.1.4.2) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (7.1.4.2) lib/action_dispatch/middleware/callbacks.rb:28:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/actionable_exceptions.rb:16:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (7.1.4.2) lib/rails/rack/logger.rb:37:in `call_app'
railties (7.1.4.2) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (7.1.4.2) lib/active_support/tagged_logging.rb:139:in `block in tagged'
activesupport (7.1.4.2) lib/active_support/tagged_logging.rb:39:in `tagged'
activesupport (7.1.4.2) lib/active_support/tagged_logging.rb:139:in `tagged'
activesupport (7.1.4.2) lib/active_support/broadcast_logger.rb:241:in `method_missing'
railties (7.1.4.2) lib/rails/rack/logger.rb:24:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/remote_ip.rb:92:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/request_id.rb:28:in `call'
rack (3.1.8) lib/rack/runtime.rb:24:in `call'
activesupport (7.1.4.2) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/server_timing.rb:59:in `block in call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/server_timing.rb:24:in `collect_events'
actionpack (7.1.4.2) lib/action_dispatch/middleware/server_timing.rb:58:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/static.rb:25:in `call'
rack (3.1.8) lib/rack/sendfile.rb:114:in `call'
actionpack (7.1.4.2) lib/action_dispatch/middleware/host_authorization.rb:141:in `call'
railties (7.1.4.2) lib/rails/engine.rb:536:in `call'
puma (6.4.3) lib/puma/configuration.rb:272:in `call'
puma (6.4.3) lib/puma/request.rb:100:in `block in handle_request'
puma (6.4.3) lib/puma/thread_pool.rb:378:in `with_force_shutdown'
puma (6.4.3) lib/puma/request.rb:99:in `handle_request'
puma (6.4.3) lib/puma/server.rb:464:in `process_client'
puma (6.4.3) lib/puma/server.rb:245:in `block in run'
puma (6.4.3) lib/puma/thread_pool.rb:155:in `block in spawn_thread'
Started GET "/cargos" for 172.24.0.1 at 2024-11-12 22:44:59 +0000
Processing by CargosController#index as */*
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms | Allocations: 1570)


  
NoMethodError (undefined method `validates' for Cargo:Class):
  
app/models/cargo.rb:2:in `<class:Cargo>'
app/models/cargo.rb:1:in `<main>'
app/controllers/cargos_controller.rb:6:in `index'
Started GET "/cargos" for 172.24.0.1 at 2024-11-12 22:45:44 +0000
Processing by CargosController#index as */*
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 425)


  
NameError (uninitialized constant Cargo::True):
  
app/models/cargo.rb:2:in `<class:Cargo>'
app/models/cargo.rb:1:in `<main>'
app/controllers/cargos_controller.rb:6:in `index'
Started GET "/cargos" for 172.24.0.1 at 2024-11-12 22:46:15 +0000
Processing by CargosController#index as */*
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.0ms | Allocations: 9260)


  
NameError (uninitialized constant Cargo::True):
  
app/models/cargo.rb:2:in `<class:Cargo>'
app/models/cargo.rb:1:in `<main>'
app/controllers/cargos_controller.rb:6:in `index'
Started GET "/cargos" for 172.24.0.1 at 2024-11-12 22:49:21 +0000
Processing by CargosController#index as */*
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms | Allocations: 862)


  
NameError (uninitialized constant Cargo::True):
  
app/models/cargo.rb:2:in `<class:Cargo>'
app/models/cargo.rb:1:in `<main>'
app/controllers/cargos_controller.rb:6:in `index'
Started GET "/cargos" for 172.24.0.1 at 2024-11-12 22:49:46 +0000
Processing by CargosController#index as */*
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 863)


  
NameError (uninitialized constant Cargo::True):
  
app/models/cargo.rb:2:in `<class:Cargo>'
app/models/cargo.rb:1:in `<main>'
app/controllers/cargos_controller.rb:6:in `index'
Started GET "/cargos" for 172.24.0.1 at 2024-11-12 22:50:20 +0000
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by CargosController#index as */*
Completed 500 Internal Server Error in 71ms (ActiveRecord: 0.0ms | Allocations: 10957)


  
NameError (uninitialized constant Cargo::True):
  
app/models/cargo.rb:2:in `<class:Cargo>'
app/models/cargo.rb:1:in `<main>'
app/controllers/cargos_controller.rb:6:in `index'
Started GET "/cargos" for 172.24.0.1 at 2024-11-12 22:51:20 +0000
Processing by CargosController#index as */*
  [1m[36mCargo Load (1.7ms)[0m  [1m[34mSELECT "cargos".* FROM "cargos"[0m
  ↳ app/controllers/cargos_controller.rb:7:in `index'
Completed 200 OK in 23ms (Views: 8.6ms | ActiveRecord: 6.0ms | Allocations: 7232)


  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(6008124786622812630)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to CreateCargos (20241112225453)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (19.3ms)[0m  [1m[35mCREATE TABLE "cargos" ("id" bigserial primary key, "nome_cargo" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20241112225453') RETURNING "version"[0m
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(6008124786622812630)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/cargos" for 172.24.0.1 at 2024-11-12 22:56:29 +0000
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by CargosController#create as */*
  Parameters: {"nome_cargo"=>"ADM", "cargo"=>{"nome_cargo"=>"ADM"}}
Completed 500 Internal Server Error in 7ms (ActiveRecord: 2.9ms | Allocations: 2949)


  
NameError (undefined local variable or method `cargo_params' for #<CargosController:0x00000000018420>
Did you mean?  cargo_path):
  
app/controllers/cargos_controller.rb:15:in `create'
Started POST "/cargos" for 172.24.0.1 at 2024-11-12 22:58:19 +0000
Processing by CargosController#create as */*
  Parameters: {"nome_cargo"=>"ADM", "cargo"=>{"nome_cargo"=>"ADM"}}
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.0ms | Allocations: 2822)


  
NameError (undefined local variable or method `cargo_params' for #<CargosController:0x00000000018498>
Did you mean?  cargo_path):
  
app/controllers/cargos_controller.rb:15:in `create'
Started POST "/cargos" for 172.24.0.1 at 2024-11-12 22:58:39 +0000
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by CargosController#create as */*
  Parameters: {"nome_cargo"=>"ADM", "cargo"=>{"nome_cargo"=>"ADM"}}
Completed 500 Internal Server Error in 12ms (ActiveRecord: 10.2ms | Allocations: 4662)


  
NameError (undefined local variable or method `cargo_params' for #<CargosController:0x0000000000bc70>
Did you mean?  cargo_path):
  
app/controllers/cargos_controller.rb:15:in `create'
Started POST "/cargos" for 172.24.0.1 at 2024-11-12 22:59:28 +0000
Processing by CargosController#create as */*
  Parameters: {"nome_cargo"=>"ADM", "cargo"=>{"nome_cargo"=>"ADM"}}
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/cargos_controller.rb:16:in `create'
  [1m[36mCargo Create (2.0ms)[0m  [1m[32mINSERT INTO "cargos" ("nome_cargo", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["nome_cargo", "ADM"], ["created_at", "2024-11-12 22:59:28.652401"], ["updated_at", "2024-11-12 22:59:28.652401"]]
  ↳ app/controllers/cargos_controller.rb:16:in `create'
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/cargos_controller.rb:16:in `create'
Completed 201 Created in 21ms (Views: 0.6ms | ActiveRecord: 8.9ms | Allocations: 19714)


Started POST "/cargos" for 172.24.0.1 at 2024-11-12 22:59:49 +0000
Processing by CargosController#create as */*
  Parameters: {"nome_cargo"=>"Veterinário", "cargo"=>{"nome_cargo"=>"Veterinário"}}
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/cargos_controller.rb:16:in `create'
  [1m[36mCargo Create (2.3ms)[0m  [1m[32mINSERT INTO "cargos" ("nome_cargo", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["nome_cargo", "Veterinário"], ["created_at", "2024-11-12 22:59:49.326018"], ["updated_at", "2024-11-12 22:59:49.326018"]]
  ↳ app/controllers/cargos_controller.rb:16:in `create'
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/cargos_controller.rb:16:in `create'
Completed 201 Created in 9ms (Views: 0.4ms | ActiveRecord: 5.2ms | Allocations: 2262)


Started GET "/cargos" for 172.24.0.1 at 2024-11-12 22:59:53 +0000
Processing by CargosController#index as */*
  [1m[36mCargo Load (0.9ms)[0m  [1m[34mSELECT "cargos".* FROM "cargos"[0m
  ↳ app/controllers/cargos_controller.rb:7:in `index'
Completed 200 OK in 8ms (Views: 1.9ms | ActiveRecord: 0.9ms | Allocations: 3475)


Started POST "/cargos" for 172.24.0.1 at 2024-11-12 23:00:12 +0000
Processing by CargosController#create as */*
  Parameters: {"nome_cargo"=>"Veterinário", "cargo"=>{"nome_cargo"=>"Veterinário"}}
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/cargos_controller.rb:16:in `create'
  [1m[36mCargo Create (1.7ms)[0m  [1m[32mINSERT INTO "cargos" ("nome_cargo", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["nome_cargo", "Veterinário"], ["created_at", "2024-11-12 23:00:12.052679"], ["updated_at", "2024-11-12 23:00:12.052679"]]
  ↳ app/controllers/cargos_controller.rb:16:in `create'
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/cargos_controller.rb:16:in `create'
Completed 201 Created in 10ms (Views: 1.0ms | ActiveRecord: 5.5ms | Allocations: 2339)


Started GET "/funcionarios" for 172.24.0.1 at 2024-11-12 23:04:17 +0000
Processing by FuncionariosController#index as */*
  [1m[36mFuncionario Load (1.5ms)[0m  [1m[34mSELECT "funcionarios".* FROM "funcionarios"[0m
  ↳ app/controllers/funcionarios_controller.rb:8:in `index'
Completed 200 OK in 22ms (Views: 14.2ms | ActiveRecord: 5.3ms | Allocations: 18842)


  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (5018.6ms)[0m  [1m[35mDROP DATABASE IF EXISTS "mascots_development"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (35.5ms)[0m  [1m[35mDROP DATABASE IF EXISTS "mascots_development"[0m
  [1m[35m (407.9ms)[0m  [1m[35mCREATE DATABASE "mascots_development" ENCODING = 'unicode'[0m
  [1m[35m (12.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (9.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(6008124786622812630)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (1.7ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2024-11-12 23:09:59.729793', '2024-11-12 23:09:59.729796') RETURNING "key"[0m
Migrating to CreateFuncionarios (20241008164202)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (9.7ms)[0m  [1m[35mCREATE TABLE "funcionarios" ("id" bigserial primary key, "nome" character varying, "contato" character varying, "cargo" character varying, "login" character varying, "senha" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20241008164202') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateTutors (20241008164352)
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (9.3ms)[0m  [1m[35mCREATE TABLE "tutors" ("id" bigserial primary key, "nome" character varying, "endereco" character varying, "telefone" character varying, "email" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20241008164352') RETURNING "version"[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateEstoqueVendas (20241008164443)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (10.3ms)[0m  [1m[35mCREATE TABLE "estoque_vendas" ("id" bigserial primary key, "medicamento" character varying, "preco" decimal, "quantidade_disponivel" integer, "quantidade_venda" integer, "fornecedor" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20241008164443') RETURNING "version"[0m
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateAnimals (20241008164524)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (11.7ms)[0m  [1m[35mCREATE TABLE "animals" ("id" bigserial primary key, "nome" character varying, "idade" integer, "especie" character varying, "raca" character varying, "peso" float, "tutor_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_4a56185cb8"
FOREIGN KEY ("tutor_id")
  REFERENCES "tutors" ("id")
)[0m
  [1m[35m (3.8ms)[0m  [1m[35mCREATE INDEX "index_animals_on_tutor_id" ON "animals" ("tutor_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20241008164524') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateConsulta (20241008164647)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (12.0ms)[0m  [1m[35mCREATE TABLE "consulta" ("id" bigserial primary key, "veterinario_id" bigint, "animal_id" bigint NOT NULL, "data" date, "hora" time, "observacao" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_37870f3032"
FOREIGN KEY ("veterinario_id")
  REFERENCES "funcionarios" ("id")
, CONSTRAINT "fk_rails_c9fabfc553"
FOREIGN KEY ("animal_id")
  REFERENCES "animals" ("id")
)[0m
  [1m[35m (4.3ms)[0m  [1m[35mCREATE INDEX "index_consulta_on_veterinario_id" ON "consulta" ("veterinario_id")[0m
  [1m[35m (4.7ms)[0m  [1m[35mCREATE INDEX "index_consulta_on_animal_id" ON "consulta" ("animal_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20241008164647') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePrescricaoMedicas (20241008164909)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (10.4ms)[0m  [1m[35mCREATE TABLE "prescricao_medicas" ("id" bigserial primary key, "consulta_id" bigint NOT NULL, "data" date, "medicamentos_prescritos" character varying, "dosagens" character varying, "observacao" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_12ab1cbf0a"
FOREIGN KEY ("consulta_id")
  REFERENCES "consulta" ("id")
)[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE INDEX "index_prescricao_medicas_on_consulta_id" ON "prescricao_medicas" ("consulta_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20241008164909') RETURNING "version"[0m
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateExames (20241008164944)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (8.8ms)[0m  [1m[35mCREATE TABLE "exames" ("id" bigserial primary key, "consulta_id" bigint NOT NULL, "nome_exame" character varying, "status_exame" character varying, "resultado" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_7b54682bc6"
FOREIGN KEY ("consulta_id")
  REFERENCES "consulta" ("id")
)[0m
  [1m[35m (4.5ms)[0m  [1m[35mCREATE INDEX "index_exames_on_consulta_id" ON "exames" ("consulta_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20241008164944') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateInternamentos (20241008165029)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (9.2ms)[0m  [1m[35mCREATE TABLE "internamentos" ("id" bigserial primary key, "consulta_id" bigint NOT NULL, "data_inicio" date, "data_fim" date, "medicamento" character varying, "quantidade_medicamento" float, "obs_monitoramento" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_6fd126f215"
FOREIGN KEY ("consulta_id")
  REFERENCES "consulta" ("id")
)[0m
  [1m[35m (3.8ms)[0m  [1m[35mCREATE INDEX "index_internamentos_on_consulta_id" ON "internamentos" ("consulta_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20241008165029') RETURNING "version"[0m
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateEstoqueInternamentos (20241008165106)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (10.3ms)[0m  [1m[35mCREATE TABLE "estoque_internamentos" ("id" bigserial primary key, "internamento_id" bigint NOT NULL, "medicamento" character varying, "quantidade_disponivel" float, "quantidade_utilizada" float, "quantidade_minima" float, "fornecedor" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_095bd4214a"
FOREIGN KEY ("internamento_id")
  REFERENCES "internamentos" ("id")
)[0m
  [1m[35m (3.7ms)[0m  [1m[35mCREATE INDEX "index_estoque_internamentos_on_internamento_id" ON "estoque_internamentos" ("internamento_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20241008165106') RETURNING "version"[0m
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCargos (20241112225453)
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (12.1ms)[0m  [1m[35mCREATE TABLE "cargos" ("id" bigserial primary key, "nome_cargo" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20241112225453') RETURNING "version"[0m
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT pg_advisory_unlock(6008124786622812630)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_try_advisory_lock(6008124786622812630)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(6008124786622812630)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(6008124786622812630)[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_advisory_unlock(6008124786622812630)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/cargos" for 172.24.0.1 at 2024-11-12 23:14:59 +0000
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by CargosController#index as */*
  Parameters: {"nome_cargo"=>"adm", "cargo"=>{"nome_cargo"=>"adm"}}
  [1m[36mCargo Load (0.7ms)[0m  [1m[34mSELECT "cargos".* FROM "cargos"[0m
  ↳ app/controllers/cargos_controller.rb:7:in `index'
Completed 200 OK in 11ms (Views: 1.4ms | ActiveRecord: 9.4ms | Allocations: 5143)


Started GET "/cargos" for 172.24.0.1 at 2024-11-12 23:15:09 +0000
Processing by CargosController#index as */*
  Parameters: {"nome_cargo"=>"Veterinário", "cargo"=>{"nome_cargo"=>"Veterinário"}}
  [1m[36mCargo Load (1.0ms)[0m  [1m[34mSELECT "cargos".* FROM "cargos"[0m
  ↳ app/controllers/cargos_controller.rb:7:in `index'
Completed 200 OK in 3ms (Views: 1.5ms | ActiveRecord: 1.0ms | Allocations: 793)


Started GET "/funcionarios" for 172.24.0.1 at 2024-11-12 23:15:11 +0000
Processing by FuncionariosController#index as */*
  [1m[36mFuncionario Load (0.9ms)[0m  [1m[34mSELECT "funcionarios".* FROM "funcionarios"[0m
  ↳ app/controllers/funcionarios_controller.rb:8:in `index'
Completed 200 OK in 4ms (Views: 1.2ms | ActiveRecord: 0.9ms | Allocations: 1699)


Started POST "/funcionarios" for 172.24.0.1 at 2024-11-12 23:15:19 +0000
Processing by FuncionariosController#create as */*
  Parameters: {"nome"=>"João Silva", "contato"=>"joao.silva@example.com", "cargo"=>"Gerente", "senha"=>"senhaSegura123", "login"=>"joaosilva", "funcionario"=>{"nome"=>"João Silva", "contato"=>"joao.silva@example.com", "cargo"=>"Gerente", "login"=>"joaosilva", "senha"=>"senhaSegura123"}}
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/funcionarios_controller.rb:19:in `create'
  [1m[36mFuncionario Exists? (2.2ms)[0m  [1m[34mSELECT 1 AS one FROM "funcionarios" WHERE "funcionarios"."login" = $1 LIMIT $2[0m  [["login", "joaosilva"], ["LIMIT", 1]]
  ↳ app/controllers/funcionarios_controller.rb:19:in `create'
  [1m[36mFuncionario Create (1.5ms)[0m  [1m[32mINSERT INTO "funcionarios" ("nome", "contato", "cargo", "login", "senha", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["nome", "João Silva"], ["contato", "joao.silva@example.com"], ["cargo", "Gerente"], ["login", "joaosilva"], ["senha", "senhaSegura123"], ["created_at", "2024-11-12 23:15:19.824890"], ["updated_at", "2024-11-12 23:15:19.824890"]]
  ↳ app/controllers/funcionarios_controller.rb:19:in `create'
  [1m[36mTRANSACTION (4.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/funcionarios_controller.rb:19:in `create'
Completed 201 Created in 36ms (Views: 0.8ms | ActiveRecord: 12.7ms | Allocations: 23703)


  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (5018.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "mascots_development"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (5015.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS "mascots_development"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (5018.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS "mascots_development"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (29.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "mascots_development"[0m
  [1m[35m (309.5ms)[0m  [1m[35mCREATE DATABASE "mascots_development" ENCODING = 'unicode'[0m
  [1m[35m (11.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (8.3ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(6008124786622812630)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (2.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2024-11-12 23:18:26.425894', '2024-11-12 23:18:26.425897') RETURNING "key"[0m
Migrating to CreateFuncionarios (20241008164202)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(6008124786622812630)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (33.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS "mascots_development"[0m
  [1m[35m (304.8ms)[0m  [1m[35mCREATE DATABASE "mascots_development" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.8ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "animals" CASCADE[0m
  [1m[35m (13.1ms)[0m  [1m[35mCREATE TABLE "animals" ("id" bigserial primary key, "nome" character varying, "idade" integer, "especie" character varying, "raca" character varying, "peso" float, "tutor_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (5.1ms)[0m  [1m[35mCREATE INDEX "index_animals_on_tutor_id" ON "animals" ("tutor_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "cargos" CASCADE[0m
  [1m[35m (9.6ms)[0m  [1m[35mCREATE TABLE "cargos" ("id" bigserial primary key, "nome_cargo" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "consulta" CASCADE[0m
  [1m[35m (8.5ms)[0m  [1m[35mCREATE TABLE "consulta" ("id" bigserial primary key, "veterinario_id" bigint, "animal_id" bigint NOT NULL, "data" date, "hora" time, "observacao" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (4.6ms)[0m  [1m[35mCREATE INDEX "index_consulta_on_animal_id" ON "consulta" ("animal_id")[0m
  [1m[35m (4.1ms)[0m  [1m[35mCREATE INDEX "index_consulta_on_veterinario_id" ON "consulta" ("veterinario_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "estoque_internamentos" CASCADE[0m
  [1m[35m (7.8ms)[0m  [1m[35mCREATE TABLE "estoque_internamentos" ("id" bigserial primary key, "internamento_id" bigint NOT NULL, "medicamento" character varying, "quantidade_disponivel" float, "quantidade_utilizada" float, "quantidade_minima" float, "fornecedor" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (4.6ms)[0m  [1m[35mCREATE INDEX "index_estoque_internamentos_on_internamento_id" ON "estoque_internamentos" ("internamento_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "estoque_vendas" CASCADE[0m
  [1m[35m (8.1ms)[0m  [1m[35mCREATE TABLE "estoque_vendas" ("id" bigserial primary key, "medicamento" character varying, "preco" decimal, "quantidade_disponivel" integer, "quantidade_venda" integer, "fornecedor" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "exames" CASCADE[0m
  [1m[35m (8.5ms)[0m  [1m[35mCREATE TABLE "exames" ("id" bigserial primary key, "consulta_id" bigint NOT NULL, "nome_exame" character varying, "status_exame" character varying, "resultado" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (4.5ms)[0m  [1m[35mCREATE INDEX "index_exames_on_consulta_id" ON "exames" ("consulta_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "funcionarios" CASCADE[0m
  [1m[35m (10.1ms)[0m  [1m[35mCREATE TABLE "funcionarios" ("id" bigserial primary key, "nome" character varying, "contato" character varying, "cargo" character varying, "login" character varying, "senha" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "internamentos" CASCADE[0m
  [1m[35m (8.2ms)[0m  [1m[35mCREATE TABLE "internamentos" ("id" bigserial primary key, "consulta_id" bigint NOT NULL, "data_inicio" date, "data_fim" date, "medicamento" character varying, "quantidade_medicamento" float, "obs_monitoramento" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (5.0ms)[0m  [1m[35mCREATE INDEX "index_internamentos_on_consulta_id" ON "internamentos" ("consulta_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "prescricao_medicas" CASCADE[0m
  [1m[35m (8.2ms)[0m  [1m[35mCREATE TABLE "prescricao_medicas" ("id" bigserial primary key, "consulta_id" bigint NOT NULL, "data" date, "medicamentos_prescritos" character varying, "dosagens" character varying, "observacao" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (4.6ms)[0m  [1m[35mCREATE INDEX "index_prescricao_medicas_on_consulta_id" ON "prescricao_medicas" ("consulta_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "tutors" CASCADE[0m
  [1m[35m (8.3ms)[0m  [1m[35mCREATE TABLE "tutors" ("id" bigserial primary key, "nome" character varying, "endereco" character varying, "telefone" character varying, "email" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (3.3ms)[0m  [1m[35mALTER TABLE "animals" ADD CONSTRAINT "fk_rails_4a56185cb8"
FOREIGN KEY ("tutor_id")
  REFERENCES "tutors" ("id")
[0m
  [1m[35m (2.3ms)[0m  [1m[35mALTER TABLE "consulta" ADD CONSTRAINT "fk_rails_c9fabfc553"
FOREIGN KEY ("animal_id")
  REFERENCES "animals" ("id")
[0m
  [1m[35m (2.4ms)[0m  [1m[35mALTER TABLE "consulta" ADD CONSTRAINT "fk_rails_37870f3032"
FOREIGN KEY ("veterinario_id")
  REFERENCES "funcionarios" ("id")
[0m
  [1m[35m (2.7ms)[0m  [1m[35mALTER TABLE "estoque_internamentos" ADD CONSTRAINT "fk_rails_095bd4214a"
FOREIGN KEY ("internamento_id")
  REFERENCES "internamentos" ("id")
[0m
  [1m[35m (3.2ms)[0m  [1m[35mALTER TABLE "exames" ADD CONSTRAINT "fk_rails_7b54682bc6"
FOREIGN KEY ("consulta_id")
  REFERENCES "consulta" ("id")
[0m
  [1m[35m (2.3ms)[0m  [1m[35mALTER TABLE "internamentos" ADD CONSTRAINT "fk_rails_6fd126f215"
FOREIGN KEY ("consulta_id")
  REFERENCES "consulta" ("id")
[0m
  [1m[35m (2.6ms)[0m  [1m[35mALTER TABLE "prescricao_medicas" ADD CONSTRAINT "fk_rails_12ab1cbf0a"
FOREIGN KEY ("consulta_id")
  REFERENCES "consulta" ("id")
[0m
  [1m[35m (9.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20241112225453)[0m
  [1m[35m (2.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20241008165106),
(20241008165029),
(20241008164944),
(20241008164909),
(20241008164647),
(20241008164524),
(20241008164443),
(20241008164352),
(20241008164202);[0m
  [1m[35m (8.3ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (2.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2024-11-12 23:19:02.192886', '2024-11-12 23:19:02.192889') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (2.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', '09ac90c9a1ed6a245ea1680e4ae5c4f069253d71', '2024-11-12 23:19:02.199596', '2024-11-12 23:19:02.199599') RETURNING "key"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/funcionarios" for 172.24.0.1 at 2024-11-12 23:19:16 +0000
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by FuncionariosController#create as */*
  Parameters: {"nome"=>"João Silva", "contato"=>"joao.silva@example.com", "cargo"=>"Gerente", "senha"=>"senhaSegura123", "login"=>"joaosilva", "funcionario"=>{"nome"=>"João Silva", "contato"=>"joao.silva@example.com", "cargo"=>"Gerente", "login"=>"joaosilva", "senha"=>"senhaSegura123"}}
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/funcionarios_controller.rb:19:in `create'
  [1m[36mFuncionario Exists? (1.8ms)[0m  [1m[34mSELECT 1 AS one FROM "funcionarios" WHERE "funcionarios"."login" = $1 LIMIT $2[0m  [["login", "joaosilva"], ["LIMIT", 1]]
  ↳ app/controllers/funcionarios_controller.rb:19:in `create'
  [1m[36mFuncionario Create (1.0ms)[0m  [1m[32mINSERT INTO "funcionarios" ("nome", "contato", "cargo", "login", "senha", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["nome", "João Silva"], ["contato", "joao.silva@example.com"], ["cargo", "Gerente"], ["login", "joaosilva"], ["senha", "senhaSegura123"], ["created_at", "2024-11-12 23:19:16.961500"], ["updated_at", "2024-11-12 23:19:16.961500"]]
  ↳ app/controllers/funcionarios_controller.rb:19:in `create'
  [1m[36mTRANSACTION (4.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/funcionarios_controller.rb:19:in `create'
Completed 201 Created in 40ms (Views: 0.7ms | ActiveRecord: 17.6ms | Allocations: 27859)


  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (5018.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "mascots_development"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (37.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "mascots_development"[0m
  [1m[35m (308.9ms)[0m  [1m[35mCREATE DATABASE "mascots_development" ENCODING = 'unicode'[0m
  [1m[35mSQL (1.0ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "animals" CASCADE[0m
  [1m[35m (13.3ms)[0m  [1m[35mCREATE TABLE "animals" ("id" bigserial primary key, "nome" character varying, "idade" integer, "especie" character varying, "raca" character varying, "peso" float, "tutor_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (5.5ms)[0m  [1m[35mCREATE INDEX "index_animals_on_tutor_id" ON "animals" ("tutor_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "cargos" CASCADE[0m
  [1m[35m (9.9ms)[0m  [1m[35mCREATE TABLE "cargos" ("id" bigserial primary key, "nome_cargo" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "consulta" CASCADE[0m
  [1m[35m (9.3ms)[0m  [1m[35mCREATE TABLE "consulta" ("id" bigserial primary key, "veterinario_id" bigint, "animal_id" bigint NOT NULL, "data" date, "hora" time, "observacao" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (4.7ms)[0m  [1m[35mCREATE INDEX "index_consulta_on_animal_id" ON "consulta" ("animal_id")[0m
  [1m[35m (4.5ms)[0m  [1m[35mCREATE INDEX "index_consulta_on_veterinario_id" ON "consulta" ("veterinario_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "estoque_internamentos" CASCADE[0m
  [1m[35m (8.3ms)[0m  [1m[35mCREATE TABLE "estoque_internamentos" ("id" bigserial primary key, "internamento_id" bigint NOT NULL, "medicamento" character varying, "quantidade_disponivel" float, "quantidade_utilizada" float, "quantidade_minima" float, "fornecedor" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (4.5ms)[0m  [1m[35mCREATE INDEX "index_estoque_internamentos_on_internamento_id" ON "estoque_internamentos" ("internamento_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "estoque_vendas" CASCADE[0m
  [1m[35m (7.8ms)[0m  [1m[35mCREATE TABLE "estoque_vendas" ("id" bigserial primary key, "medicamento" character varying, "preco" decimal, "quantidade_disponivel" integer, "quantidade_venda" integer, "fornecedor" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "exames" CASCADE[0m
  [1m[35m (8.1ms)[0m  [1m[35mCREATE TABLE "exames" ("id" bigserial primary key, "consulta_id" bigint NOT NULL, "nome_exame" character varying, "status_exame" character varying, "resultado" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (4.2ms)[0m  [1m[35mCREATE INDEX "index_exames_on_consulta_id" ON "exames" ("consulta_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "funcionarios" CASCADE[0m
  [1m[35m (7.5ms)[0m  [1m[35mCREATE TABLE "funcionarios" ("id" bigserial primary key, "nome" character varying, "contato" character varying, "cargo" character varying, "login" character varying, "senha" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "internamentos" CASCADE[0m
  [1m[35m (7.8ms)[0m  [1m[35mCREATE TABLE "internamentos" ("id" bigserial primary key, "consulta_id" bigint NOT NULL, "data_inicio" date, "data_fim" date, "medicamento" character varying, "quantidade_medicamento" float, "obs_monitoramento" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (4.7ms)[0m  [1m[35mCREATE INDEX "index_internamentos_on_consulta_id" ON "internamentos" ("consulta_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "prescricao_medicas" CASCADE[0m
  [1m[35m (7.9ms)[0m  [1m[35mCREATE TABLE "prescricao_medicas" ("id" bigserial primary key, "consulta_id" bigint NOT NULL, "data" date, "medicamentos_prescritos" character varying, "dosagens" character varying, "observacao" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (4.1ms)[0m  [1m[35mCREATE INDEX "index_prescricao_medicas_on_consulta_id" ON "prescricao_medicas" ("consulta_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "tutors" CASCADE[0m
  [1m[35m (7.6ms)[0m  [1m[35mCREATE TABLE "tutors" ("id" bigserial primary key, "nome" character varying, "endereco" character varying, "telefone" character varying, "email" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (2.6ms)[0m  [1m[35mALTER TABLE "animals" ADD CONSTRAINT "fk_rails_4a56185cb8"
FOREIGN KEY ("tutor_id")
  REFERENCES "tutors" ("id")
[0m
  [1m[35m (2.0ms)[0m  [1m[35mALTER TABLE "consulta" ADD CONSTRAINT "fk_rails_c9fabfc553"
FOREIGN KEY ("animal_id")
  REFERENCES "animals" ("id")
[0m
  [1m[35m (2.1ms)[0m  [1m[35mALTER TABLE "consulta" ADD CONSTRAINT "fk_rails_37870f3032"
FOREIGN KEY ("veterinario_id")
  REFERENCES "funcionarios" ("id")
[0m
  [1m[35m (2.4ms)[0m  [1m[35mALTER TABLE "estoque_internamentos" ADD CONSTRAINT "fk_rails_095bd4214a"
FOREIGN KEY ("internamento_id")
  REFERENCES "internamentos" ("id")
[0m
  [1m[35m (2.3ms)[0m  [1m[35mALTER TABLE "exames" ADD CONSTRAINT "fk_rails_7b54682bc6"
FOREIGN KEY ("consulta_id")
  REFERENCES "consulta" ("id")
[0m
  [1m[35m (2.9ms)[0m  [1m[35mALTER TABLE "internamentos" ADD CONSTRAINT "fk_rails_6fd126f215"
FOREIGN KEY ("consulta_id")
  REFERENCES "consulta" ("id")
[0m
  [1m[35m (2.5ms)[0m  [1m[35mALTER TABLE "prescricao_medicas" ADD CONSTRAINT "fk_rails_12ab1cbf0a"
FOREIGN KEY ("consulta_id")
  REFERENCES "consulta" ("id")
[0m
  [1m[35m (10.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (2.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20241112225453)[0m
  [1m[35m (2.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20241008165106),
(20241008165029),
(20241008164944),
(20241008164909),
(20241008164647),
(20241008164524),
(20241008164443),
(20241008164352),
(20241008164202);[0m
  [1m[35m (10.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (2.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2024-11-12 23:20:20.751262', '2024-11-12 23:20:20.751265') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (2.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', '09ac90c9a1ed6a245ea1680e4ae5c4f069253d71', '2024-11-12 23:20:20.757233', '2024-11-12 23:20:20.757235') RETURNING "key"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/funcionarios" for 172.24.0.1 at 2024-11-12 23:20:28 +0000
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by FuncionariosController#create as */*
  Parameters: {"nome"=>"João Silva", "contato"=>"joao.silva@example.com", "cargo"=>"Gerente", "senha"=>"senhaSegura123", "login"=>"joaosilva", "funcionario"=>{"nome"=>"João Silva", "contato"=>"joao.silva@example.com", "cargo"=>"Gerente", "login"=>"joaosilva", "senha"=>"senhaSegura123"}}
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/funcionarios_controller.rb:19:in `create'
  [1m[36mFuncionario Exists? (1.9ms)[0m  [1m[34mSELECT 1 AS one FROM "funcionarios" WHERE "funcionarios"."login" = $1 LIMIT $2[0m  [["login", "joaosilva"], ["LIMIT", 1]]
  ↳ app/controllers/funcionarios_controller.rb:19:in `create'
  [1m[36mFuncionario Create (0.8ms)[0m  [1m[32mINSERT INTO "funcionarios" ("nome", "contato", "cargo", "login", "senha", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["nome", "João Silva"], ["contato", "joao.silva@example.com"], ["cargo", "Gerente"], ["login", "joaosilva"], ["senha", "senhaSegura123"], ["created_at", "2024-11-12 23:20:28.647256"], ["updated_at", "2024-11-12 23:20:28.647256"]]
  ↳ app/controllers/funcionarios_controller.rb:19:in `create'
  [1m[36mTRANSACTION (4.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/funcionarios_controller.rb:19:in `create'
Completed 201 Created in 35ms (Views: 0.6ms | ActiveRecord: 15.7ms | Allocations: 27858)


Started POST "/animals" for 172.24.0.1 at 2024-11-12 23:23:42 +0000
Processing by AnimalsController#create as */*
  Parameters: {"nome"=>"Joca", "idade"=>2, "especie"=>"Cachorro", "raca"=>"SRD", "peso"=>"4.2", "tutor_id"=>1, "animal"=>{"nome"=>"Joca", "idade"=>2, "especie"=>"Cachorro", "raca"=>"SRD", "peso"=>"4.2", "tutor_id"=>1}}
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/animals_controller.rb:19:in `create'
  [1m[36mTutor Load (0.5ms)[0m  [1m[34mSELECT "tutors".* FROM "tutors" WHERE "tutors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:19:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/animals_controller.rb:19:in `create'
Completed 422 Unprocessable Content in 42ms (Views: 2.4ms | ActiveRecord: 10.0ms | Allocations: 28279)


Started DELETE "/funcionarios/1" for 172.24.0.1 at 2024-11-12 23:24:06 +0000
Processing by FuncionariosController#destroy as */*
  Parameters: {"id"=>"1"}
  [1m[36mFuncionario Load (0.2ms)[0m  [1m[34mSELECT "funcionarios".* FROM "funcionarios" WHERE "funcionarios"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/funcionarios_controller.rb:67:in `set_funcionario'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/funcionarios_controller.rb:37:in `destroy'
  [1m[36mFuncionario Destroy (2.9ms)[0m  [1m[31mDELETE FROM "funcionarios" WHERE "funcionarios"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/funcionarios_controller.rb:37:in `destroy'
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/funcionarios_controller.rb:37:in `destroy'
Completed 204 No Content in 11ms (ActiveRecord: 6.2ms | Allocations: 2588)


Started DELETE "/funcionarios/2" for 172.24.0.1 at 2024-11-12 23:24:09 +0000
Processing by FuncionariosController#destroy as */*
  Parameters: {"id"=>"2"}
  [1m[36mFuncionario Load (0.4ms)[0m  [1m[34mSELECT "funcionarios".* FROM "funcionarios" WHERE "funcionarios"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/funcionarios_controller.rb:67:in `set_funcionario'
Completed 404 Not Found in 2ms (ActiveRecord: 0.4ms | Allocations: 708)


  
ActiveRecord::RecordNotFound (Couldn't find Funcionario with 'id'=2):
  
app/controllers/funcionarios_controller.rb:67:in `set_funcionario'
Started POST "/funcionarios" for 172.24.0.1 at 2024-11-12 23:24:19 +0000
Processing by FuncionariosController#create as */*
  Parameters: {"nome"=>"João Silva", "contato"=>"joao.silva@example.com", "cargo_id"=>2, "senha"=>"senhaSegura123", "login"=>"joaosilva", "funcionario"=>{"nome"=>"João Silva", "contato"=>"joao.silva@example.com", "login"=>"joaosilva", "senha"=>"senhaSegura123"}}
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/funcionarios_controller.rb:19:in `create'
  [1m[36mFuncionario Exists? (1.9ms)[0m  [1m[34mSELECT 1 AS one FROM "funcionarios" WHERE "funcionarios"."login" = $1 LIMIT $2[0m  [["login", "joaosilva"], ["LIMIT", 1]]
  ↳ app/controllers/funcionarios_controller.rb:19:in `create'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/funcionarios_controller.rb:19:in `create'
Completed 422 Unprocessable Content in 8ms (Views: 0.9ms | ActiveRecord: 3.1ms | Allocations: 2669)


Started POST "/funcionarios" for 172.24.0.1 at 2024-11-12 23:24:51 +0000
Processing by FuncionariosController#create as */*
  Parameters: {"nome"=>"João Silva", "contato"=>"joao.silva@example.com", "cargo_id"=>2, "senha"=>"senhaSegura123", "login"=>"joaosilva", "funcionario"=>{"nome"=>"João Silva", "contato"=>"joao.silva@example.com", "login"=>"joaosilva", "senha"=>"senhaSegura123"}}
Completed 500 Internal Server Error in 11ms (ActiveRecord: 3.7ms | Allocations: 7241)


  
NoMethodError (undefined method `cargo_id' for #<Funcionario id: nil, nome: "João Silva", contato: "joao.silva@example.com", cargo: nil, login: "joaosilva", senha: "senhaSegura123", created_at: nil, updated_at: nil>
Did you mean?  cargo):
  
app/controllers/funcionarios_controller.rb:19:in `create'
Started POST "/funcionarios" for 172.24.0.1 at 2024-11-12 23:25:06 +0000
Processing by FuncionariosController#create as */*
  Parameters: {"nome"=>"João Silva", "contato"=>"joao.silva@example.com", "cargo_id"=>1, "senha"=>"senhaSegura123", "login"=>"joaosilva", "funcionario"=>{"nome"=>"João Silva", "contato"=>"joao.silva@example.com", "login"=>"joaosilva", "senha"=>"senhaSegura123"}}
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.0ms | Allocations: 3780)


  
NoMethodError (undefined method `cargo_id' for #<Funcionario id: nil, nome: "João Silva", contato: "joao.silva@example.com", cargo: nil, login: "joaosilva", senha: "senhaSegura123", created_at: nil, updated_at: nil>
Did you mean?  cargo):
  
app/controllers/funcionarios_controller.rb:19:in `create'
Started POST "/funcionarios" for 172.24.0.1 at 2024-11-12 23:25:37 +0000
Processing by FuncionariosController#create as */*
  Parameters: {"nome"=>"João Silva", "contato"=>"joao.silva@example.com", "cargo_id"=>1, "senha"=>"senhaSegura123", "login"=>"joaosilva", "funcionario"=>{"nome"=>"João Silva", "contato"=>"joao.silva@example.com", "login"=>"joaosilva", "senha"=>"senhaSegura123"}}
Completed 500 Internal Server Error in 12ms (ActiveRecord: 3.7ms | Allocations: 7221)


  
NoMethodError (undefined method `cargo_id' for #<Funcionario id: nil, nome: "João Silva", contato: "joao.silva@example.com", cargo: nil, login: "joaosilva", senha: "senhaSegura123", created_at: nil, updated_at: nil>
Did you mean?  cargo):
  
app/controllers/funcionarios_controller.rb:19:in `create'
Started POST "/funcionarios" for 172.24.0.1 at 2024-11-12 23:26:05 +0000
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by FuncionariosController#create as */*
  Parameters: {"nome"=>"João Silva", "contato"=>"joao.silva@example.com", "cargo_id"=>1, "senha"=>"senhaSegura123", "login"=>"joaosilva", "funcionario"=>{"nome"=>"João Silva", "contato"=>"joao.silva@example.com", "login"=>"joaosilva", "senha"=>"senhaSegura123"}}
Completed 500 Internal Server Error in 22ms (ActiveRecord: 9.3ms | Allocations: 24486)


  
NoMethodError (undefined method `cargo_id' for #<Funcionario id: nil, nome: "João Silva", contato: "joao.silva@example.com", cargo: nil, login: "joaosilva", senha: "senhaSegura123", created_at: nil, updated_at: nil>
Did you mean?  cargo):
  
app/controllers/funcionarios_controller.rb:19:in `create'
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (38.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS "mascots_development"[0m
  [1m[35m (304.8ms)[0m  [1m[35mCREATE DATABASE "mascots_development" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.6ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "animals" CASCADE[0m
  [1m[35m (13.4ms)[0m  [1m[35mCREATE TABLE "animals" ("id" bigserial primary key, "nome" character varying, "idade" integer, "especie" character varying, "raca" character varying, "peso" float, "tutor_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (4.6ms)[0m  [1m[35mCREATE INDEX "index_animals_on_tutor_id" ON "animals" ("tutor_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "cargos" CASCADE[0m
  [1m[35m (9.8ms)[0m  [1m[35mCREATE TABLE "cargos" ("id" bigserial primary key, "nome_cargo" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "consulta" CASCADE[0m
  [1m[35m (8.9ms)[0m  [1m[35mCREATE TABLE "consulta" ("id" bigserial primary key, "veterinario_id" bigint, "animal_id" bigint NOT NULL, "data" date, "hora" time, "observacao" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (4.7ms)[0m  [1m[35mCREATE INDEX "index_consulta_on_animal_id" ON "consulta" ("animal_id")[0m
  [1m[35m (4.3ms)[0m  [1m[35mCREATE INDEX "index_consulta_on_veterinario_id" ON "consulta" ("veterinario_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "estoque_internamentos" CASCADE[0m
  [1m[35m (7.9ms)[0m  [1m[35mCREATE TABLE "estoque_internamentos" ("id" bigserial primary key, "internamento_id" bigint NOT NULL, "medicamento" character varying, "quantidade_disponivel" float, "quantidade_utilizada" float, "quantidade_minima" float, "fornecedor" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (4.7ms)[0m  [1m[35mCREATE INDEX "index_estoque_internamentos_on_internamento_id" ON "estoque_internamentos" ("internamento_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "estoque_vendas" CASCADE[0m
  [1m[35m (8.4ms)[0m  [1m[35mCREATE TABLE "estoque_vendas" ("id" bigserial primary key, "medicamento" character varying, "preco" decimal, "quantidade_disponivel" integer, "quantidade_venda" integer, "fornecedor" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "exames" CASCADE[0m
  [1m[35m (8.5ms)[0m  [1m[35mCREATE TABLE "exames" ("id" bigserial primary key, "consulta_id" bigint NOT NULL, "nome_exame" character varying, "status_exame" character varying, "resultado" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (4.9ms)[0m  [1m[35mCREATE INDEX "index_exames_on_consulta_id" ON "exames" ("consulta_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "funcionarios" CASCADE[0m
  [1m[35m (8.9ms)[0m  [1m[35mCREATE TABLE "funcionarios" ("id" bigserial primary key, "nome" character varying, "contato" character varying, "cargo" character varying, "login" character varying, "senha" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "internamentos" CASCADE[0m
  [1m[35m (8.5ms)[0m  [1m[35mCREATE TABLE "internamentos" ("id" bigserial primary key, "consulta_id" bigint NOT NULL, "data_inicio" date, "data_fim" date, "medicamento" character varying, "quantidade_medicamento" float, "obs_monitoramento" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (4.6ms)[0m  [1m[35mCREATE INDEX "index_internamentos_on_consulta_id" ON "internamentos" ("consulta_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "prescricao_medicas" CASCADE[0m
  [1m[35m (9.0ms)[0m  [1m[35mCREATE TABLE "prescricao_medicas" ("id" bigserial primary key, "consulta_id" bigint NOT NULL, "data" date, "medicamentos_prescritos" character varying, "dosagens" character varying, "observacao" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (4.5ms)[0m  [1m[35mCREATE INDEX "index_prescricao_medicas_on_consulta_id" ON "prescricao_medicas" ("consulta_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "tutors" CASCADE[0m
  [1m[35m (7.9ms)[0m  [1m[35mCREATE TABLE "tutors" ("id" bigserial primary key, "nome" character varying, "endereco" character varying, "telefone" character varying, "email" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (2.5ms)[0m  [1m[35mALTER TABLE "animals" ADD CONSTRAINT "fk_rails_4a56185cb8"
FOREIGN KEY ("tutor_id")
  REFERENCES "tutors" ("id")
[0m
  [1m[35m (1.9ms)[0m  [1m[35mALTER TABLE "consulta" ADD CONSTRAINT "fk_rails_c9fabfc553"
FOREIGN KEY ("animal_id")
  REFERENCES "animals" ("id")
[0m
  [1m[35m (1.8ms)[0m  [1m[35mALTER TABLE "consulta" ADD CONSTRAINT "fk_rails_37870f3032"
FOREIGN KEY ("veterinario_id")
  REFERENCES "funcionarios" ("id")
[0m
  [1m[35m (2.2ms)[0m  [1m[35mALTER TABLE "estoque_internamentos" ADD CONSTRAINT "fk_rails_095bd4214a"
FOREIGN KEY ("internamento_id")
  REFERENCES "internamentos" ("id")
[0m
  [1m[35m (1.8ms)[0m  [1m[35mALTER TABLE "exames" ADD CONSTRAINT "fk_rails_7b54682bc6"
FOREIGN KEY ("consulta_id")
  REFERENCES "consulta" ("id")
[0m
  [1m[35m (2.2ms)[0m  [1m[35mALTER TABLE "internamentos" ADD CONSTRAINT "fk_rails_6fd126f215"
FOREIGN KEY ("consulta_id")
  REFERENCES "consulta" ("id")
[0m
  [1m[35m (2.0ms)[0m  [1m[35mALTER TABLE "prescricao_medicas" ADD CONSTRAINT "fk_rails_12ab1cbf0a"
FOREIGN KEY ("consulta_id")
  REFERENCES "consulta" ("id")
[0m
  [1m[35m (8.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20241112225453)[0m
  [1m[35m (1.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20241008165106),
(20241008165029),
(20241008164944),
(20241008164909),
(20241008164647),
(20241008164524),
(20241008164443),
(20241008164352),
(20241008164202);[0m
  [1m[35m (9.5ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (1.8ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2024-11-12 23:31:39.926767', '2024-11-12 23:31:39.926771') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (2.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', '09ac90c9a1ed6a245ea1680e4ae5c4f069253d71', '2024-11-12 23:31:39.932278', '2024-11-12 23:31:39.932281') RETURNING "key"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/funcionarios" for 172.24.0.1 at 2024-11-12 23:31:48 +0000
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by FuncionariosController#create as */*
  Parameters: {"nome"=>"João Silva", "contato"=>"joao.silva@example.com", "cargo_id"=>1, "senha"=>"senhaSegura123", "login"=>"joaosilva", "funcionario"=>{"nome"=>"João Silva", "contato"=>"joao.silva@example.com", "login"=>"joaosilva", "senha"=>"senhaSegura123"}}
Completed 500 Internal Server Error in 21ms (ActiveRecord: 8.2ms | Allocations: 24485)


  
NoMethodError (undefined method `cargo_id' for #<Funcionario id: nil, nome: "João Silva", contato: "joao.silva@example.com", cargo: nil, login: "joaosilva", senha: "senhaSegura123", created_at: nil, updated_at: nil>
Did you mean?  cargo):
  
app/controllers/funcionarios_controller.rb:19:in `create'
  [1m[35m (13.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (9.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(6008124786622812630)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (1.8ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2024-11-12 23:34:45.997111', '2024-11-12 23:34:45.997113') RETURNING "key"[0m
Migrating to CreateFuncionarios (20241008164202)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (11.9ms)[0m  [1m[35mCREATE TABLE "funcionarios" ("id" bigserial primary key, "nome" character varying, "contato" character varying, "login" character varying, "senha" character varying, "cargo_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_c52a5a3a83"
FOREIGN KEY ("cargo_id")
  REFERENCES "cargos" ("id")
)[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT pg_advisory_unlock(6008124786622812630)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(6008124786622812630)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to CreateTutors (20241008164352)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (8.5ms)[0m  [1m[35mCREATE TABLE "tutors" ("id" bigserial primary key, "nome" character varying, "endereco" character varying, "telefone" character varying, "email" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20241008164352') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateEstoqueVendas (20241008164443)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (10.7ms)[0m  [1m[35mCREATE TABLE "estoque_vendas" ("id" bigserial primary key, "medicamento" character varying, "preco" decimal, "quantidade_disponivel" integer, "quantidade_venda" integer, "fornecedor" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20241008164443') RETURNING "version"[0m
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateAnimals (20241008164524)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (11.1ms)[0m  [1m[35mCREATE TABLE "animals" ("id" bigserial primary key, "nome" character varying, "idade" integer, "especie" character varying, "raca" character varying, "peso" float, "tutor_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_4a56185cb8"
FOREIGN KEY ("tutor_id")
  REFERENCES "tutors" ("id")
)[0m
  [1m[35m (4.7ms)[0m  [1m[35mCREATE INDEX "index_animals_on_tutor_id" ON "animals" ("tutor_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20241008164524') RETURNING "version"[0m
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateConsulta (20241008164647)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (11.6ms)[0m  [1m[35mCREATE TABLE "consulta" ("id" bigserial primary key, "veterinario_id" bigint, "animal_id" bigint NOT NULL, "data" date, "hora" time, "observacao" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_37870f3032"
FOREIGN KEY ("veterinario_id")
  REFERENCES "funcionarios" ("id")
, CONSTRAINT "fk_rails_c9fabfc553"
FOREIGN KEY ("animal_id")
  REFERENCES "animals" ("id")
)[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_advisory_unlock(6008124786622812630)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(6008124786622812630)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to CreateCargos (20241008164201)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (12.5ms)[0m  [1m[35mCREATE TABLE "cargos" ("id" bigserial primary key, "nome_cargo" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20241008164201') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateFuncionarios (20241008164202)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (8.8ms)[0m  [1m[35mCREATE TABLE "funcionarios" ("id" bigserial primary key, "nome" character varying, "contato" character varying, "login" character varying, "senha" character varying, "cargo_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_c52a5a3a83"
FOREIGN KEY ("cargo_id")
  REFERENCES "cargos" ("id")
)[0m
  [1m[35m (4.4ms)[0m  [1m[35mCREATE INDEX "index_funcionarios_on_cargo_id" ON "funcionarios" ("cargo_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20241008164202') RETURNING "version"[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateConsulta (20241008164647)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (9.5ms)[0m  [1m[35mCREATE TABLE "consulta" ("id" bigserial primary key, "veterinario_id" bigint, "animal_id" bigint NOT NULL, "data" date, "hora" time, "observacao" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_37870f3032"
FOREIGN KEY ("veterinario_id")
  REFERENCES "funcionarios" ("id")
, CONSTRAINT "fk_rails_c9fabfc553"
FOREIGN KEY ("animal_id")
  REFERENCES "animals" ("id")
)[0m
  [1m[35m (3.5ms)[0m  [1m[35mCREATE INDEX "index_consulta_on_veterinario_id" ON "consulta" ("veterinario_id")[0m
  [1m[35m (3.1ms)[0m  [1m[35mCREATE INDEX "index_consulta_on_animal_id" ON "consulta" ("animal_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20241008164647') RETURNING "version"[0m
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePrescricaoMedicas (20241008164909)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (9.9ms)[0m  [1m[35mCREATE TABLE "prescricao_medicas" ("id" bigserial primary key, "consulta_id" bigint NOT NULL, "data" date, "medicamentos_prescritos" character varying, "dosagens" character varying, "observacao" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_12ab1cbf0a"
FOREIGN KEY ("consulta_id")
  REFERENCES "consulta" ("id")
)[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE INDEX "index_prescricao_medicas_on_consulta_id" ON "prescricao_medicas" ("consulta_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20241008164909') RETURNING "version"[0m
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateExames (20241008164944)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (10.3ms)[0m  [1m[35mCREATE TABLE "exames" ("id" bigserial primary key, "consulta_id" bigint NOT NULL, "nome_exame" character varying, "status_exame" character varying, "resultado" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_7b54682bc6"
FOREIGN KEY ("consulta_id")
  REFERENCES "consulta" ("id")
)[0m
  [1m[35m (3.5ms)[0m  [1m[35mCREATE INDEX "index_exames_on_consulta_id" ON "exames" ("consulta_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20241008164944') RETURNING "version"[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateInternamentos (20241008165029)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (9.1ms)[0m  [1m[35mCREATE TABLE "internamentos" ("id" bigserial primary key, "consulta_id" bigint NOT NULL, "data_inicio" date, "data_fim" date, "medicamento" character varying, "quantidade_medicamento" float, "obs_monitoramento" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_6fd126f215"
FOREIGN KEY ("consulta_id")
  REFERENCES "consulta" ("id")
)[0m
  [1m[35m (3.0ms)[0m  [1m[35mCREATE INDEX "index_internamentos_on_consulta_id" ON "internamentos" ("consulta_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20241008165029') RETURNING "version"[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateEstoqueInternamentos (20241008165106)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (8.4ms)[0m  [1m[35mCREATE TABLE "estoque_internamentos" ("id" bigserial primary key, "internamento_id" bigint NOT NULL, "medicamento" character varying, "quantidade_disponivel" float, "quantidade_utilizada" float, "quantidade_minima" float, "fornecedor" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_095bd4214a"
FOREIGN KEY ("internamento_id")
  REFERENCES "internamentos" ("id")
)[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE INDEX "index_estoque_internamentos_on_internamento_id" ON "estoque_internamentos" ("internamento_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20241008165106') RETURNING "version"[0m
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(6008124786622812630)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/funcionarios" for 172.24.0.1 at 2024-11-12 23:36:03 +0000
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by FuncionariosController#create as */*
  Parameters: {"nome"=>"João Silva", "contato"=>"joao.silva@example.com", "cargo_id"=>1, "senha"=>"senhaSegura123", "login"=>"joaosilva", "funcionario"=>{"nome"=>"João Silva", "contato"=>"joao.silva@example.com", "login"=>"joaosilva", "senha"=>"senhaSegura123", "cargo_id"=>1}}
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/funcionarios_controller.rb:19:in `create'
  [1m[36mFuncionario Exists? (2.2ms)[0m  [1m[34mSELECT 1 AS one FROM "funcionarios" WHERE "funcionarios"."login" = $1 LIMIT $2[0m  [["login", "joaosilva"], ["LIMIT", 1]]
  ↳ app/controllers/funcionarios_controller.rb:19:in `create'
  [1m[36mFuncionario Create (1.5ms)[0m  [1m[32mINSERT INTO "funcionarios" ("nome", "contato", "login", "senha", "cargo_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["nome", "João Silva"], ["contato", "joao.silva@example.com"], ["login", "joaosilva"], ["senha", "senhaSegura123"], ["cargo_id", 1], ["created_at", "2024-11-12 23:36:03.961115"], ["updated_at", "2024-11-12 23:36:03.961115"]]
  ↳ app/controllers/funcionarios_controller.rb:19:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/funcionarios_controller.rb:19:in `create'
Completed 500 Internal Server Error in 32ms (ActiveRecord: 11.6ms | Allocations: 27560)


  
ActiveRecord::InvalidForeignKey (PG::ForeignKeyViolation: ERROR:  insert or update on table "funcionarios" violates foreign key constraint "fk_rails_c52a5a3a83"
DETAIL:  Key (cargo_id)=(1) is not present in table "cargos".
):
  
Started GET "/cargos" for 172.24.0.1 at 2024-11-12 23:36:39 +0000
Processing by CargosController#index as */*
  Parameters: {"nome_cargo"=>"adm", "cargo"=>{"nome_cargo"=>"adm"}}
  [1m[36mCargo Load (0.5ms)[0m  [1m[34mSELECT "cargos".* FROM "cargos"[0m
  ↳ app/controllers/cargos_controller.rb:7:in `index'
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 2.3ms | Allocations: 1205)


Started POST "/funcionarios" for 172.24.0.1 at 2024-11-12 23:37:00 +0000
Processing by FuncionariosController#create as */*
  Parameters: {"nome"=>"João Silva", "contato"=>"joao.silva@example.com", "cargo"=>1, "senha"=>"senhaSegura123", "login"=>"joaosilva", "funcionario"=>{"nome"=>"João Silva", "contato"=>"joao.silva@example.com", "login"=>"joaosilva", "senha"=>"senhaSegura123"}}
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/funcionarios_controller.rb:19:in `create'
  [1m[36mFuncionario Exists? (1.9ms)[0m  [1m[34mSELECT 1 AS one FROM "funcionarios" WHERE "funcionarios"."login" = $1 LIMIT $2[0m  [["login", "joaosilva"], ["LIMIT", 1]]
  ↳ app/controllers/funcionarios_controller.rb:19:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/funcionarios_controller.rb:19:in `create'
Completed 422 Unprocessable Content in 8ms (Views: 2.3ms | ActiveRecord: 2.7ms | Allocations: 3655)


Started POST "/funcionarios" for 172.24.0.1 at 2024-11-12 23:37:09 +0000
Processing by FuncionariosController#create as */*
  Parameters: {"nome"=>"João Silva", "contato"=>"joao.silva@example.com", "cargo_id"=>1, "senha"=>"senhaSegura123", "login"=>"joaosilva", "funcionario"=>{"nome"=>"João Silva", "contato"=>"joao.silva@example.com", "login"=>"joaosilva", "senha"=>"senhaSegura123", "cargo_id"=>1}}
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/funcionarios_controller.rb:19:in `create'
  [1m[36mFuncionario Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "funcionarios" WHERE "funcionarios"."login" = $1 LIMIT $2[0m  [["login", "joaosilva"], ["LIMIT", 1]]
  ↳ app/controllers/funcionarios_controller.rb:19:in `create'
  [1m[36mFuncionario Create (0.9ms)[0m  [1m[32mINSERT INTO "funcionarios" ("nome", "contato", "login", "senha", "cargo_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["nome", "João Silva"], ["contato", "joao.silva@example.com"], ["login", "joaosilva"], ["senha", "senhaSegura123"], ["cargo_id", 1], ["created_at", "2024-11-12 23:37:09.590607"], ["updated_at", "2024-11-12 23:37:09.590607"]]
  ↳ app/controllers/funcionarios_controller.rb:19:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/funcionarios_controller.rb:19:in `create'
Completed 500 Internal Server Error in 8ms (ActiveRecord: 3.3ms | Allocations: 3127)


  
ActiveRecord::InvalidForeignKey (PG::ForeignKeyViolation: ERROR:  insert or update on table "funcionarios" violates foreign key constraint "fk_rails_c52a5a3a83"
DETAIL:  Key (cargo_id)=(1) is not present in table "cargos".
):
  
Started POST "/funcionarios" for 172.24.0.1 at 2024-11-12 23:37:34 +0000
Processing by FuncionariosController#create as */*
  Parameters: {"nome"=>"João Silva", "contato"=>"joao.silva@example.com", "cargo"=>1, "senha"=>"senhaSegura123", "login"=>"joaosilva", "funcionario"=>{"nome"=>"João Silva", "contato"=>"joao.silva@example.com", "login"=>"joaosilva", "senha"=>"senhaSegura123"}}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/funcionarios_controller.rb:19:in `create'
  [1m[36mFuncionario Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "funcionarios" WHERE "funcionarios"."login" = $1 LIMIT $2[0m  [["login", "joaosilva"], ["LIMIT", 1]]
  ↳ app/controllers/funcionarios_controller.rb:19:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/funcionarios_controller.rb:19:in `create'
Completed 422 Unprocessable Content in 5ms (Views: 0.7ms | ActiveRecord: 1.9ms | Allocations: 2539)


Started POST "/funcionarios" for 172.24.0.1 at 2024-11-12 23:37:58 +0000
Processing by FuncionariosController#create as */*
  Parameters: {"nome"=>"João Silva", "contato"=>"joao.silva@example.com", "cargo"=>1, "senha"=>"senhaSegura123", "login"=>"joaosilva", "funcionario"=>{"nome"=>"João Silva", "contato"=>"joao.silva@example.com", "login"=>"joaosilva", "senha"=>"senhaSegura123"}}
Completed 500 Internal Server Error in 9ms (ActiveRecord: 4.2ms | Allocations: 7362)


  
NoMethodError (undefined method `cargo' for #<Funcionario id: nil, nome: "João Silva", contato: "joao.silva@example.com", login: "joaosilva", senha: "senhaSegura123", cargo_id: nil, created_at: nil, updated_at: nil>
Did you mean?  cargo_id):
  
app/controllers/funcionarios_controller.rb:19:in `create'
  [1m[35m (11.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (8.3ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(6008124786622812630)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (2.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2024-11-12 23:39:04.799798', '2024-11-12 23:39:04.799801') RETURNING "key"[0m
Migrating to CreateCargos (20241008164201)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (10.4ms)[0m  [1m[35mCREATE TABLE "cargos" ("id" bigserial primary key, "nome_cargo" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20241008164201') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateFuncionarios (20241008164202)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (8.5ms)[0m  [1m[35mCREATE TABLE "funcionarios" ("id" bigserial primary key, "nome" character varying, "contato" character varying, "login" character varying, "senha" character varying, "cargo_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_c52a5a3a83"
FOREIGN KEY ("cargo_id")
  REFERENCES "cargos" ("id")
)[0m
  [1m[35m (4.6ms)[0m  [1m[35mCREATE INDEX "index_funcionarios_on_cargo_id" ON "funcionarios" ("cargo_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20241008164202') RETURNING "version"[0m
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateTutors (20241008164352)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (8.4ms)[0m  [1m[35mCREATE TABLE "tutors" ("id" bigserial primary key, "nome" character varying, "endereco" character varying, "telefone" character varying, "email" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20241008164352') RETURNING "version"[0m
  [1m[36mTRANSACTION (4.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateEstoqueVendas (20241008164443)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (7.8ms)[0m  [1m[35mCREATE TABLE "estoque_vendas" ("id" bigserial primary key, "medicamento" character varying, "preco" decimal, "quantidade_disponivel" integer, "quantidade_venda" integer, "fornecedor" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20241008164443') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateAnimals (20241008164524)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (8.9ms)[0m  [1m[35mCREATE TABLE "animals" ("id" bigserial primary key, "nome" character varying, "idade" integer, "especie" character varying, "raca" character varying, "peso" float, "tutor_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_4a56185cb8"
FOREIGN KEY ("tutor_id")
  REFERENCES "tutors" ("id")
)[0m
  [1m[35m (4.1ms)[0m  [1m[35mCREATE INDEX "index_animals_on_tutor_id" ON "animals" ("tutor_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20241008164524') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateConsulta (20241008164647)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (9.3ms)[0m  [1m[35mCREATE TABLE "consulta" ("id" bigserial primary key, "veterinario_id" bigint, "animal_id" bigint NOT NULL, "data" date, "hora" time, "observacao" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_37870f3032"
FOREIGN KEY ("veterinario_id")
  REFERENCES "funcionarios" ("id")
, CONSTRAINT "fk_rails_c9fabfc553"
FOREIGN KEY ("animal_id")
  REFERENCES "animals" ("id")
)[0m
  [1m[35m (4.3ms)[0m  [1m[35mCREATE INDEX "index_consulta_on_veterinario_id" ON "consulta" ("veterinario_id")[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE INDEX "index_consulta_on_animal_id" ON "consulta" ("animal_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20241008164647') RETURNING "version"[0m
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePrescricaoMedicas (20241008164909)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (10.0ms)[0m  [1m[35mCREATE TABLE "prescricao_medicas" ("id" bigserial primary key, "consulta_id" bigint NOT NULL, "data" date, "medicamentos_prescritos" character varying, "dosagens" character varying, "observacao" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_12ab1cbf0a"
FOREIGN KEY ("consulta_id")
  REFERENCES "consulta" ("id")
)[0m
  [1m[35m (4.1ms)[0m  [1m[35mCREATE INDEX "index_prescricao_medicas_on_consulta_id" ON "prescricao_medicas" ("consulta_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20241008164909') RETURNING "version"[0m
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateExames (20241008164944)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (8.7ms)[0m  [1m[35mCREATE TABLE "exames" ("id" bigserial primary key, "consulta_id" bigint NOT NULL, "nome_exame" character varying, "status_exame" character varying, "resultado" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_7b54682bc6"
FOREIGN KEY ("consulta_id")
  REFERENCES "consulta" ("id")
)[0m
  [1m[35m (4.7ms)[0m  [1m[35mCREATE INDEX "index_exames_on_consulta_id" ON "exames" ("consulta_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20241008164944') RETURNING "version"[0m
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateInternamentos (20241008165029)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (9.7ms)[0m  [1m[35mCREATE TABLE "internamentos" ("id" bigserial primary key, "consulta_id" bigint NOT NULL, "data_inicio" date, "data_fim" date, "medicamento" character varying, "quantidade_medicamento" float, "obs_monitoramento" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_6fd126f215"
FOREIGN KEY ("consulta_id")
  REFERENCES "consulta" ("id")
)[0m
  [1m[35m (3.9ms)[0m  [1m[35mCREATE INDEX "index_internamentos_on_consulta_id" ON "internamentos" ("consulta_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20241008165029') RETURNING "version"[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateEstoqueInternamentos (20241008165106)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (8.9ms)[0m  [1m[35mCREATE TABLE "estoque_internamentos" ("id" bigserial primary key, "internamento_id" bigint NOT NULL, "medicamento" character varying, "quantidade_disponivel" float, "quantidade_utilizada" float, "quantidade_minima" float, "fornecedor" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_095bd4214a"
FOREIGN KEY ("internamento_id")
  REFERENCES "internamentos" ("id")
)[0m
  [1m[35m (3.0ms)[0m  [1m[35mCREATE INDEX "index_estoque_internamentos_on_internamento_id" ON "estoque_internamentos" ("internamento_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20241008165106') RETURNING "version"[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(6008124786622812630)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/cargos" for 172.24.0.1 at 2024-11-12 23:39:11 +0000
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by CargosController#index as */*
  Parameters: {"nome_cargo"=>"adm", "cargo"=>{"nome_cargo"=>"adm"}}
  [1m[36mCargo Load (0.6ms)[0m  [1m[34mSELECT "cargos".* FROM "cargos"[0m
  ↳ app/controllers/cargos_controller.rb:7:in `index'
Completed 200 OK in 11ms (Views: 2.8ms | ActiveRecord: 8.7ms | Allocations: 5143)


Started POST "/funcionarios" for 172.24.0.1 at 2024-11-12 23:39:14 +0000
Processing by FuncionariosController#create as */*
  Parameters: {"nome"=>"João Silva", "contato"=>"joao.silva@example.com", "cargo"=>1, "senha"=>"senhaSegura123", "login"=>"joaosilva", "funcionario"=>{"nome"=>"João Silva", "contato"=>"joao.silva@example.com", "login"=>"joaosilva", "senha"=>"senhaSegura123"}}
Completed 500 Internal Server Error in 23ms (ActiveRecord: 4.7ms | Allocations: 22880)


  
NoMethodError (undefined method `cargo' for #<Funcionario id: nil, nome: "João Silva", contato: "joao.silva@example.com", login: "joaosilva", senha: "senhaSegura123", cargo_id: nil, created_at: nil, updated_at: nil>
Did you mean?  cargo_id):
  
app/controllers/funcionarios_controller.rb:19:in `create'
Started GET "/" for 172.24.0.1 at 2024-11-14 17:48:31 +0000
  [1m[36mActiveRecord::SchemaMigration Load (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Rails::WelcomeController#index as HTML
  Rendering /usr/local/bundle/gems/railties-7.1.4.2/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /usr/local/bundle/gems/railties-7.1.4.2/lib/rails/templates/rails/welcome/index.html.erb (Duration: 1.1ms | Allocations: 580)
Completed 200 OK in 98ms (Views: 61.7ms | ActiveRecord: 0.0ms | Allocations: 7165)


Started GET "/cargos" for 172.24.0.1 at 2024-11-14 17:49:46 +0000
Processing by CargosController#index as */*
  [1m[36mCargo Load (3.2ms)[0m  [1m[34mSELECT "cargos".* FROM "cargos"[0m
  ↳ app/controllers/cargos_controller.rb:7:in `index'
Completed 200 OK in 60ms (Views: 14.7ms | ActiveRecord: 14.8ms | Allocations: 15574)


Started GET "/cargos" for 172.24.0.1 at 2024-11-14 17:50:02 +0000
Processing by CargosController#index as */*
  [1m[36mCargo Load (0.9ms)[0m  [1m[34mSELECT "cargos".* FROM "cargos"[0m
  ↳ app/controllers/cargos_controller.rb:7:in `index'
Completed 200 OK in 4ms (Views: 2.3ms | ActiveRecord: 0.9ms | Allocations: 786)


Started GET "/animals" for 172.24.0.1 at 2024-11-14 17:50:12 +0000
Processing by AnimalsController#index as */*
  [1m[36mAnimal Load (2.7ms)[0m  [1m[34mSELECT "animals".* FROM "animals"[0m
  ↳ app/controllers/animals_controller.rb:8:in `index'
Completed 200 OK in 14ms (Views: 1.8ms | ActiveRecord: 2.6ms | Allocations: 4087)


Started GET "/tutors" for 172.24.0.1 at 2024-11-14 17:50:18 +0000
Processing by TutorsController#index as */*
  [1m[36mTutor Load (2.5ms)[0m  [1m[34mSELECT "tutors".* FROM "tutors"[0m
  ↳ app/controllers/tutors_controller.rb:8:in `index'
Completed 200 OK in 10ms (Views: 2.6ms | ActiveRecord: 2.5ms | Allocations: 3305)


Started GET "/funcionarios" for 172.24.0.1 at 2024-11-14 17:51:22 +0000
Processing by FuncionariosController#index as */*
  [1m[36mFuncionario Load (2.7ms)[0m  [1m[34mSELECT "funcionarios".* FROM "funcionarios"[0m
  ↳ app/controllers/funcionarios_controller.rb:8:in `index'
Completed 200 OK in 10ms (Views: 2.7ms | ActiveRecord: 2.7ms | Allocations: 1668)


Started POST "/funcionarios" for 172.24.0.1 at 2024-11-14 17:51:32 +0000
Processing by FuncionariosController#create as */*
  Parameters: {"nome"=>"João Silva", "contato"=>"joao.silva@example.com", "cargo"=>"Gerente", "senha"=>"senhaSegura123", "login"=>"joaosilva", "funcionario"=>{"nome"=>"João Silva", "contato"=>"joao.silva@example.com", "login"=>"joaosilva", "senha"=>"senhaSegura123"}}
Completed 500 Internal Server Error in 25ms (ActiveRecord: 17.9ms | Allocations: 22335)


  
NoMethodError (undefined method `cargo' for #<Funcionario id: nil, nome: "João Silva", contato: "joao.silva@example.com", login: "joaosilva", senha: "senhaSegura123", cargo_id: nil, created_at: nil, updated_at: nil>
Did you mean?  cargo_id):
  
app/controllers/funcionarios_controller.rb:19:in `create'
Started POST "/funcionarios" for 172.24.0.1 at 2024-11-14 17:52:08 +0000
Processing by FuncionariosController#create as */*
  Parameters: {"nome"=>"João Silva", "contato"=>"joao.silva@example.com", "cargo_id"=>"Gerente", "senha"=>"senhaSegura123", "login"=>"joaosilva", "funcionario"=>{"nome"=>"João Silva", "contato"=>"joao.silva@example.com", "login"=>"joaosilva", "senha"=>"senhaSegura123", "cargo_id"=>"Gerente"}}
[31mUnpermitted parameter: :cargo_id. Context: { controller: FuncionariosController, action: create, request: #<ActionDispatch::Request:0x00007f7150cb84a0>, params: {"nome"=>"João Silva", "contato"=>"joao.silva@example.com", "cargo_id"=>"Gerente", "senha"=>"senhaSegura123", "login"=>"joaosilva", "controller"=>"funcionarios", "action"=>"create", "funcionario"=>{"nome"=>"João Silva", "contato"=>"joao.silva@example.com", "login"=>"joaosilva", "senha"=>"senhaSegura123", "cargo_id"=>"Gerente"}} }[0m
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.0ms | Allocations: 4082)


  
NoMethodError (undefined method `cargo' for #<Funcionario id: nil, nome: "João Silva", contato: "joao.silva@example.com", login: "joaosilva", senha: "senhaSegura123", cargo_id: nil, created_at: nil, updated_at: nil>
Did you mean?  cargo_id):
  
app/controllers/funcionarios_controller.rb:19:in `create'
Started POST "/funcionarios" for 172.24.0.1 at 2024-11-14 17:52:30 +0000
Processing by FuncionariosController#create as */*
  Parameters: {"nome"=>"João Silva", "contato"=>"joao.silva@example.com", "cargo_id"=>1, "senha"=>"senhaSegura123", "login"=>"joaosilva", "funcionario"=>{"nome"=>"João Silva", "contato"=>"joao.silva@example.com", "login"=>"joaosilva", "senha"=>"senhaSegura123", "cargo_id"=>1}}
[31mUnpermitted parameter: :cargo_id. Context: { controller: FuncionariosController, action: create, request: #<ActionDispatch::Request:0x00007f714401ce28>, params: {"nome"=>"João Silva", "contato"=>"joao.silva@example.com", "cargo_id"=>1, "senha"=>"senhaSegura123", "login"=>"joaosilva", "controller"=>"funcionarios", "action"=>"create", "funcionario"=>{"nome"=>"João Silva", "contato"=>"joao.silva@example.com", "login"=>"joaosilva", "senha"=>"senhaSegura123", "cargo_id"=>1}} }[0m
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.0ms | Allocations: 4050)


  
NoMethodError (undefined method `cargo' for #<Funcionario id: nil, nome: "João Silva", contato: "joao.silva@example.com", login: "joaosilva", senha: "senhaSegura123", cargo_id: nil, created_at: nil, updated_at: nil>
Did you mean?  cargo_id):
  
app/controllers/funcionarios_controller.rb:19:in `create'
Started POST "/funcionarios" for 172.24.0.1 at 2024-11-14 17:54:34 +0000
Processing by FuncionariosController#create as */*
  Parameters: {"nome"=>"João Silva", "contato"=>"joao.silva@example.com", "cargo"=>1, "senha"=>"senhaSegura123", "login"=>"joaosilva", "funcionario"=>{"nome"=>"João Silva", "contato"=>"joao.silva@example.com", "login"=>"joaosilva", "senha"=>"senhaSegura123"}}
Completed 500 Internal Server Error in 19ms (ActiveRecord: 5.9ms | Allocations: 7344)


  
NoMethodError (undefined method `cargo' for #<Funcionario id: nil, nome: "João Silva", contato: "joao.silva@example.com", login: "joaosilva", senha: "senhaSegura123", cargo_id: nil, created_at: nil, updated_at: nil>
Did you mean?  cargo_id):
  
app/controllers/funcionarios_controller.rb:19:in `create'
Started POST "/funcionarios" for 172.24.0.1 at 2024-11-14 17:54:44 +0000
Processing by FuncionariosController#create as */*
  Parameters: {"nome"=>"João Silva", "contato"=>"joao.silva@example.com", "cargo_id"=>1, "senha"=>"senhaSegura123", "login"=>"joaosilva", "funcionario"=>{"nome"=>"João Silva", "contato"=>"joao.silva@example.com", "login"=>"joaosilva", "senha"=>"senhaSegura123", "cargo_id"=>1}}
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.0ms | Allocations: 3915)


  
NoMethodError (undefined method `cargo' for #<Funcionario id: nil, nome: "João Silva", contato: "joao.silva@example.com", login: "joaosilva", senha: "senhaSegura123", cargo_id: 1, created_at: nil, updated_at: nil>
Did you mean?  cargo_id):
  
app/controllers/funcionarios_controller.rb:19:in `create'
Started POST "/funcionarios" for 172.24.0.1 at 2024-11-14 17:55:59 +0000
Processing by FuncionariosController#create as */*
  Parameters: {"nome"=>"João Silva", "contato"=>"joao.silva@example.com", "senha"=>"senhaSegura123", "login"=>"joaosilva", "cargo_id"=>1, "funcionario"=>{"nome"=>"João Silva", "contato"=>"joao.silva@example.com", "login"=>"joaosilva", "senha"=>"senhaSegura123", "cargo_id"=>1}}
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.0ms | Allocations: 3906)


  
NoMethodError (undefined method `cargo' for #<Funcionario id: nil, nome: "João Silva", contato: "joao.silva@example.com", login: "joaosilva", senha: "senhaSegura123", cargo_id: 1, created_at: nil, updated_at: nil>
Did you mean?  cargo_id):
  
app/controllers/funcionarios_controller.rb:19:in `create'
Started POST "/funcionarios" for 172.24.0.1 at 2024-11-14 17:58:19 +0000
Processing by FuncionariosController#create as */*
  Parameters: {"nome"=>"João Silva", "contato"=>"joao.silva@example.com", "senha"=>"senhaSegura123", "login"=>"joaosilva", "cargo_id"=>1, "funcionario"=>{"nome"=>"João Silva", "contato"=>"joao.silva@example.com", "login"=>"joaosilva", "senha"=>"senhaSegura123", "cargo_id"=>1}}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/funcionarios_controller.rb:19:in `create'
  [1m[36mCargo Load (0.3ms)[0m  [1m[34mSELECT "cargos".* FROM "cargos" WHERE "cargos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/funcionarios_controller.rb:19:in `create'
  [1m[36mFuncionario Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "funcionarios" WHERE "funcionarios"."login" = $1 LIMIT $2[0m  [["login", "joaosilva"], ["LIMIT", 1]]
  ↳ app/controllers/funcionarios_controller.rb:19:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/funcionarios_controller.rb:19:in `create'
Completed 422 Unprocessable Content in 40ms (Views: 1.1ms | ActiveRecord: 12.1ms | Allocations: 12915)


Started POST "/funcionarios" for 172.24.0.1 at 2024-11-14 17:58:27 +0000
Processing by FuncionariosController#create as */*
  Parameters: {"nome"=>"João Silva", "contato"=>"joao.silva@example.com", "senha"=>"senhaSegura123", "login"=>"joaosilva", "cargo"=>1, "funcionario"=>{"nome"=>"João Silva", "contato"=>"joao.silva@example.com", "login"=>"joaosilva", "senha"=>"senhaSegura123"}}
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/funcionarios_controller.rb:19:in `create'
  [1m[36mFuncionario Exists? (2.6ms)[0m  [1m[34mSELECT 1 AS one FROM "funcionarios" WHERE "funcionarios"."login" = $1 LIMIT $2[0m  [["login", "joaosilva"], ["LIMIT", 1]]
  ↳ app/controllers/funcionarios_controller.rb:19:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/funcionarios_controller.rb:19:in `create'
Completed 422 Unprocessable Content in 11ms (Views: 0.9ms | ActiveRecord: 3.5ms | Allocations: 2818)


Started GET "/cargos" for 172.24.0.1 at 2024-11-14 17:58:36 +0000
Processing by CargosController#index as */*
  [1m[36mCargo Load (0.6ms)[0m  [1m[34mSELECT "cargos".* FROM "cargos"[0m
  ↳ app/controllers/cargos_controller.rb:7:in `index'
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.6ms | Allocations: 1001)


Started POST "/cargos" for 172.24.0.1 at 2024-11-14 17:58:41 +0000
Processing by CargosController#create as */*
  Parameters: {"nome_cargo"=>"adm", "cargo"=>{"nome_cargo"=>"adm"}}
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/cargos_controller.rb:16:in `create'
  [1m[36mCargo Create (7.9ms)[0m  [1m[32mINSERT INTO "cargos" ("nome_cargo", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["nome_cargo", "adm"], ["created_at", "2024-11-14 17:58:41.767784"], ["updated_at", "2024-11-14 17:58:41.767784"]]
  ↳ app/controllers/cargos_controller.rb:16:in `create'
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/cargos_controller.rb:16:in `create'
Completed 201 Created in 31ms (Views: 1.2ms | ActiveRecord: 10.5ms | Allocations: 17219)


Started POST "/cargos" for 172.24.0.1 at 2024-11-14 17:58:51 +0000
Processing by CargosController#create as */*
  Parameters: {"nome_cargo"=>"Vetrinário", "cargo"=>{"nome_cargo"=>"Vetrinário"}}
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/cargos_controller.rb:16:in `create'
  [1m[36mCargo Create (2.6ms)[0m  [1m[32mINSERT INTO "cargos" ("nome_cargo", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["nome_cargo", "Vetrinário"], ["created_at", "2024-11-14 17:58:51.781157"], ["updated_at", "2024-11-14 17:58:51.781157"]]
  ↳ app/controllers/cargos_controller.rb:16:in `create'
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/cargos_controller.rb:16:in `create'
Completed 201 Created in 12ms (Views: 0.8ms | ActiveRecord: 5.9ms | Allocations: 2209)


Started GET "/cargos" for 172.24.0.1 at 2024-11-14 17:59:25 +0000
Processing by CargosController#index as */*
  [1m[36mCargo Load (0.8ms)[0m  [1m[34mSELECT "cargos".* FROM "cargos"[0m
  ↳ app/controllers/cargos_controller.rb:7:in `index'
Completed 200 OK in 7ms (Views: 5.1ms | ActiveRecord: 0.8ms | Allocations: 922)


Started PATCH "/cargos/2" for 172.24.0.1 at 2024-11-14 17:59:51 +0000
Processing by CargosController#update as */*
  Parameters: {"nome_cargo"=>"Veterinário", "id"=>"2", "cargo"=>{"nome_cargo"=>"Veterinário"}}
  [1m[36mCargo Load (0.4ms)[0m  [1m[34mSELECT "cargos".* FROM "cargos" WHERE "cargos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/cargos_controller.rb:39:in `set_cargo'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/cargos_controller.rb:24:in `update'
  [1m[36mCargo Update (5.6ms)[0m  [1m[33mUPDATE "cargos" SET "nome_cargo" = $1, "updated_at" = $2 WHERE "cargos"."id" = $3[0m  [["nome_cargo", "Veterinário"], ["updated_at", "2024-11-14 17:59:51.555316"], ["id", 2]]
  ↳ app/controllers/cargos_controller.rb:24:in `update'
  [1m[36mTRANSACTION (4.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/cargos_controller.rb:24:in `update'
Completed 200 OK in 19ms (Views: 0.6ms | ActiveRecord: 10.6ms | Allocations: 3066)


Started GET "/cargos" for 172.24.0.1 at 2024-11-14 17:59:54 +0000
Processing by CargosController#index as */*
  [1m[36mCargo Load (0.8ms)[0m  [1m[34mSELECT "cargos".* FROM "cargos"[0m
  ↳ app/controllers/cargos_controller.rb:7:in `index'
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.8ms | Allocations: 875)


Started POST "/funcionarios" for 172.24.0.1 at 2024-11-14 18:00:04 +0000
Processing by FuncionariosController#create as */*
  Parameters: {"nome"=>"João Silva", "contato"=>"joao.silva@example.com", "senha"=>"senhaSegura123", "login"=>"joaosilva", "cargo"=>2, "funcionario"=>{"nome"=>"João Silva", "contato"=>"joao.silva@example.com", "login"=>"joaosilva", "senha"=>"senhaSegura123"}}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/funcionarios_controller.rb:19:in `create'
  [1m[36mFuncionario Exists? (2.5ms)[0m  [1m[34mSELECT 1 AS one FROM "funcionarios" WHERE "funcionarios"."login" = $1 LIMIT $2[0m  [["login", "joaosilva"], ["LIMIT", 1]]
  ↳ app/controllers/funcionarios_controller.rb:19:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/funcionarios_controller.rb:19:in `create'
Completed 422 Unprocessable Content in 11ms (Views: 0.9ms | ActiveRecord: 3.2ms | Allocations: 2847)


Started POST "/funcionarios" for 172.24.0.1 at 2024-11-14 18:00:23 +0000
Processing by FuncionariosController#create as */*
  Parameters: {"nome"=>"João Silva", "contato"=>"joao.silva@example.com", "cargo_id"=>2, "senha"=>"senhaSegura123", "login"=>"joaosilva", "funcionario"=>{"nome"=>"João Silva", "contato"=>"joao.silva@example.com", "login"=>"joaosilva", "senha"=>"senhaSegura123", "cargo_id"=>2}}
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/funcionarios_controller.rb:19:in `create'
  [1m[36mCargo Load (0.5ms)[0m  [1m[34mSELECT "cargos".* FROM "cargos" WHERE "cargos"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/funcionarios_controller.rb:19:in `create'
  [1m[36mFuncionario Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "funcionarios" WHERE "funcionarios"."login" = $1 LIMIT $2[0m  [["login", "joaosilva"], ["LIMIT", 1]]
  ↳ app/controllers/funcionarios_controller.rb:19:in `create'
  [1m[36mFuncionario Create (1.4ms)[0m  [1m[32mINSERT INTO "funcionarios" ("nome", "contato", "login", "senha", "cargo_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["nome", "João Silva"], ["contato", "joao.silva@example.com"], ["login", "joaosilva"], ["senha", "senhaSegura123"], ["cargo_id", 2], ["created_at", "2024-11-14 18:00:23.618868"], ["updated_at", "2024-11-14 18:00:23.618868"]]
  ↳ app/controllers/funcionarios_controller.rb:19:in `create'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/funcionarios_controller.rb:19:in `create'
Completed 201 Created in 19ms (Views: 1.2ms | ActiveRecord: 4.6ms | Allocations: 4140)


Started POST "/funcionarios" for 172.24.0.1 at 2024-11-14 18:00:34 +0000
Processing by FuncionariosController#create as */*
  Parameters: {"nome"=>"João Silva", "contato"=>"joao.silva@example.com", "cargo_id"=>"mama", "senha"=>"senhaSegura123", "login"=>"joaosilva", "funcionario"=>{"nome"=>"João Silva", "contato"=>"joao.silva@example.com", "login"=>"joaosilva", "senha"=>"senhaSegura123", "cargo_id"=>"mama"}}
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/funcionarios_controller.rb:19:in `create'
  [1m[36mCargo Load (0.4ms)[0m  [1m[34mSELECT "cargos".* FROM "cargos" WHERE "cargos"."id" = $1 LIMIT $2[0m  [["id", 0], ["LIMIT", 1]]
  ↳ app/controllers/funcionarios_controller.rb:19:in `create'
  [1m[36mFuncionario Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "funcionarios" WHERE "funcionarios"."login" = $1 LIMIT $2[0m  [["login", "joaosilva"], ["LIMIT", 1]]
  ↳ app/controllers/funcionarios_controller.rb:19:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/funcionarios_controller.rb:19:in `create'
Completed 422 Unprocessable Content in 13ms (Views: 1.4ms | ActiveRecord: 1.9ms | Allocations: 3971)


Started GET "/consultas" for 172.24.0.1 at 2024-11-14 18:01:56 +0000
  
ActionController::RoutingError (No route matches [GET] "/consultas"):
  
Started POST "/consultas" for 172.24.0.1 at 2024-11-14 18:48:18 +0000
  
ActionController::RoutingError (No route matches [POST] "/consultas"):
  
Started GET "/consultas" for 172.24.0.1 at 2024-11-14 18:48:23 +0000
  
ActionController::RoutingError (No route matches [GET] "/consultas"):
  
Started GET "/consulta" for 172.24.0.1 at 2024-11-14 18:48:43 +0000
Processing by ConsultaController#index as */*
  Parameters: {"consultum"=>{}}
  [1m[36mConsulta Load (16.5ms)[0m  [1m[34mSELECT "consulta".* FROM "consulta"[0m
  ↳ app/controllers/consulta_controller.rb:8:in `index'
Completed 200 OK in 26ms (Views: -3.2ms | ActiveRecord: 22.1ms | Allocations: 7080)


Started GET "/estoque_vendas" for 172.24.0.1 at 2024-11-14 19:02:50 +0000
Processing by EstoqueVendasController#index as */*
  [1m[36mEstoqueVenda Load (19.7ms)[0m  [1m[34mSELECT "estoque_vendas".* FROM "estoque_vendas"[0m
  ↳ app/controllers/estoque_vendas_controller.rb:8:in `index'
Completed 200 OK in 28ms (Views: -3.4ms | ActiveRecord: 27.4ms | Allocations: 4947)


Started POST "/estoque_vendas" for 172.24.0.1 at 2024-11-14 19:02:54 +0000
Processing by EstoqueVendasController#create as */*
  Parameters: {"medicamento"=>"Paracetamol 500mg", "preco"=>10, "quantidade_disponivel"=>500, "fornecedor"=>"Eurofarma", "estoque_venda"=>{"medicamento"=>"Paracetamol 500mg", "preco"=>10, "quantidade_disponivel"=>500, "fornecedor"=>"Eurofarma"}}
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/estoque_vendas_controller.rb:22:in `create'
  [1m[36mEstoqueVenda Create (2.8ms)[0m  [1m[32mINSERT INTO "estoque_vendas" ("medicamento", "preco", "quantidade_disponivel", "quantidade_venda", "fornecedor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["medicamento", "Paracetamol 500mg"], ["preco", "10.0"], ["quantidade_disponivel", 500], ["quantidade_venda", 0], ["fornecedor", "Eurofarma"], ["created_at", "2024-11-14 19:02:54.487134"], ["updated_at", "2024-11-14 19:02:54.487134"]]
  ↳ app/controllers/estoque_vendas_controller.rb:22:in `create'
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/estoque_vendas_controller.rb:22:in `create'
Completed 201 Created in 28ms (Views: 0.8ms | ActiveRecord: 11.5ms | Allocations: 19162)


Started PATCH "/vender_produto/1" for 172.24.0.1 at 2024-11-14 19:03:01 +0000
Processing by FuncionariosController#vender_produto as */*
  Parameters: {"quantidade"=>2, "id"=>"1", "funcionario"=>{}}
  [1m[36mEstoqueVenda Load (0.4ms)[0m  [1m[34mSELECT "estoque_vendas".* FROM "estoque_vendas" WHERE "estoque_vendas"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/funcionarios_controller.rb:44:in `vender_produto'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/estoque_venda.rb:10:in `retira_n_estoque'
  [1m[36mEstoqueVenda Update (2.0ms)[0m  [1m[33mUPDATE "estoque_vendas" SET "quantidade_disponivel" = $1, "quantidade_venda" = $2, "updated_at" = $3 WHERE "estoque_vendas"."id" = $4[0m  [["quantidade_disponivel", 498], ["quantidade_venda", 2], ["updated_at", "2024-11-14 19:03:01.043256"], ["id", 1]]
  ↳ app/models/estoque_venda.rb:10:in `retira_n_estoque'
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/models/estoque_venda.rb:10:in `retira_n_estoque'
Completed 200 OK in 14ms (Views: 0.3ms | ActiveRecord: 6.8ms | Allocations: 3176)


Started GET "/cargos" for 172.24.0.1 at 2024-11-14 19:14:41 +0000
Processing by CargosController#index as */*
  [1m[36mCargo Load (15.6ms)[0m  [1m[34mSELECT "cargos".* FROM "cargos"[0m
  ↳ app/controllers/cargos_controller.rb:7:in `index'
Completed 200 OK in 25ms (Views: 0.5ms | ActiveRecord: 21.6ms | Allocations: 7131)


Started GET "/animals" for 172.24.0.1 at 2024-11-14 19:19:56 +0000
Processing by AnimalsController#index as */*
  [1m[36mAnimal Load (12.9ms)[0m  [1m[34mSELECT "animals".* FROM "animals"[0m
  ↳ app/controllers/animals_controller.rb:8:in `index'
Completed 200 OK in 20ms (Views: -4.0ms | ActiveRecord: 18.6ms | Allocations: 6187)


Started POST "/animals" for 172.24.0.1 at 2024-11-14 19:20:04 +0000
Processing by AnimalsController#create as */*
  Parameters: {"nome"=>"Joca", "idade"=>2, "especie"=>"Cachorro", "raca"=>"SRD", "peso"=>"4.2", "tutor_id"=>1, "animal"=>{"nome"=>"Joca", "idade"=>2, "especie"=>"Cachorro", "raca"=>"SRD", "peso"=>"4.2", "tutor_id"=>1}}
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/animals_controller.rb:19:in `create'
  [1m[36mTutor Load (0.6ms)[0m  [1m[34mSELECT "tutors".* FROM "tutors" WHERE "tutors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:19:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/animals_controller.rb:19:in `create'
Completed 422 Unprocessable Content in 42ms (Views: 1.9ms | ActiveRecord: 12.6ms | Allocations: 22656)


Started POST "/tutors" for 172.24.0.1 at 2024-11-14 19:20:11 +0000
Processing by TutorsController#create as */*
  Parameters: {"nome"=>"João Silva", "endereco"=>"Rua Exemplo, 123", "telefone"=>"123456789", "email"=>"joao@example.com", "tutor"=>{"nome"=>"João Silva", "endereco"=>"Rua Exemplo, 123", "telefone"=>"123456789", "email"=>"joao@example.com"}}
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/tutors_controller.rb:19:in `create'
  [1m[36mTutor Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "tutors" WHERE "tutors"."email" = $1 LIMIT $2[0m  [["email", "joao@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/tutors_controller.rb:19:in `create'
  [1m[36mTutor Create (2.1ms)[0m  [1m[32mINSERT INTO "tutors" ("nome", "endereco", "telefone", "email", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["nome", "João Silva"], ["endereco", "Rua Exemplo, 123"], ["telefone", "123456789"], ["email", "joao@example.com"], ["created_at", "2024-11-14 19:20:11.649291"], ["updated_at", "2024-11-14 19:20:11.649291"]]
  ↳ app/controllers/tutors_controller.rb:19:in `create'
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/tutors_controller.rb:19:in `create'
Completed 201 Created in 31ms (Views: 0.6ms | ActiveRecord: 6.2ms | Allocations: 19650)


Started POST "/animals" for 172.24.0.1 at 2024-11-14 19:20:15 +0000
Processing by AnimalsController#create as */*
  Parameters: {"nome"=>"Joca", "idade"=>2, "especie"=>"Cachorro", "raca"=>"SRD", "peso"=>"4.2", "tutor_id"=>1, "animal"=>{"nome"=>"Joca", "idade"=>2, "especie"=>"Cachorro", "raca"=>"SRD", "peso"=>"4.2", "tutor_id"=>1}}
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/animals_controller.rb:19:in `create'
  [1m[36mTutor Load (0.6ms)[0m  [1m[34mSELECT "tutors".* FROM "tutors" WHERE "tutors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:19:in `create'
  [1m[36mAnimal Create (3.3ms)[0m  [1m[32mINSERT INTO "animals" ("nome", "idade", "especie", "raca", "peso", "tutor_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["nome", "Joca"], ["idade", 2], ["especie", "Cachorro"], ["raca", "SRD"], ["peso", 4.2], ["tutor_id", 1], ["created_at", "2024-11-14 19:20:15.955607"], ["updated_at", "2024-11-14 19:20:15.955607"]]
  ↳ app/controllers/animals_controller.rb:19:in `create'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/animals_controller.rb:19:in `create'
Completed 201 Created in 16ms (Views: 0.6ms | ActiveRecord: 6.8ms | Allocations: 3437)


Started GET "/consultas" for 172.24.0.1 at 2024-11-14 19:20:26 +0000
  
ActionController::RoutingError (uninitialized constant ConsultasController
Did you mean?  ConsultaController):
  
Started GET "/consultas" for 172.24.0.1 at 2024-11-14 19:22:59 +0000
Processing by ConsultasController#index as */*
  Parameters: {"consulta"=>{"veterinario_id"=>2, "animal_id"=>1, "data"=>"2024-11-14", "hora"=>"15:00:00", "observacao"=>"Consulta de rotina para verificar a saúde geral do animal."}}
  [1m[36mConsulta Load (1.2ms)[0m  [1m[34mSELECT "consulta".* FROM "consulta"[0m
  ↳ app/controllers/consultas_controller.rb:8:in `index'
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 1.1ms | Allocations: 1281)


Started POST "/consultas" for 172.24.0.1 at 2024-11-14 19:23:07 +0000
Processing by ConsultasController#create as */*
  Parameters: {"consulta"=>{"veterinario_id"=>2, "animal_id"=>1, "data"=>"2024-11-14", "hora"=>"15:00:00", "observacao"=>"Consulta de rotina para verificar a saúde geral do animal."}}
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms | Allocations: 2000)


  
NameError (uninitialized constant ConsultasController::Consulta_params):
  
app/controllers/consultas_controller.rb:18:in `create'
Started POST "/consultas" for 172.24.0.1 at 2024-11-14 19:23:51 +0000
Processing by ConsultasController#create as */*
  Parameters: {"consulta"=>{"veterinario_id"=>2, "animal_id"=>1, "data"=>"2024-11-14", "hora"=>"15:00:00", "observacao"=>"Consulta de rotina para verificar a saúde geral do animal."}}
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.0ms | Allocations: 2910)


  
NameError (undefined local variable or method `consulta_params' for #<ConsultasController:0x000000000387e8>
Did you mean?  Consulta_params
               consulta_path):
  
app/controllers/consultas_controller.rb:18:in `create'
Started POST "/consultas" for 172.24.0.1 at 2024-11-14 19:24:13 +0000
Processing by ConsultasController#create as */*
  Parameters: {"consulta"=>{"veterinario_id"=>2, "animal_id"=>1, "data"=>"2024-11-14", "hora"=>"15:00:00", "observacao"=>"Consulta de rotina para verificar a saúde geral do animal."}}
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms | Allocations: 265)


  
ActionController::ParameterMissing (param is missing or the value is empty: Consulta):
  
app/controllers/consultas_controller.rb:56:in `consulta_params'
app/controllers/consultas_controller.rb:18:in `create'
Started POST "/consultas" for 172.24.0.1 at 2024-11-14 19:24:42 +0000
Processing by ConsultasController#create as */*
  Parameters: {"veterinario_id"=>2, "animal_id"=>1, "data"=>"2024-11-14", "hora"=>"15:00:00", "observacao"=>"Consulta de rotina para verificar a saúde geral do animal.", "consulta"=>{"veterinario_id"=>2, "animal_id"=>1, "data"=>"2024-11-14", "hora"=>"15:00:00", "observacao"=>"Consulta de rotina para verificar a saúde geral do animal."}}
Completed 400 Bad Request in 0ms (ActiveRecord: 2.5ms | Allocations: 174)


  
ActionController::ParameterMissing (param is missing or the value is empty: Consulta):
  
app/controllers/consultas_controller.rb:56:in `consulta_params'
app/controllers/consultas_controller.rb:18:in `create'
Started POST "/consultas" for 172.24.0.1 at 2024-11-14 19:25:24 +0000
Processing by ConsultasController#create as */*
  Parameters: {"veterinario_id"=>2, "animal_id"=>1, "data"=>"2024-11-14", "hora"=>"15:00:00", "observacao"=>"Consulta de rotina para verificar a saúde geral do animal.", "consulta"=>{"veterinario_id"=>2, "animal_id"=>1, "data"=>"2024-11-14", "hora"=>"15:00:00", "observacao"=>"Consulta de rotina para verificar a saúde geral do animal."}}
Completed 400 Bad Request in 0ms (ActiveRecord: 2.1ms | Allocations: 261)


  
ActionController::ParameterMissing (param is missing or the value is empty: Consulta):
  
app/controllers/consultas_controller.rb:56:in `consulta_params'
app/controllers/consultas_controller.rb:18:in `create'
Started POST "/consultas" for 172.24.0.1 at 2024-11-14 19:27:09 +0000
Processing by ConsultasController#create as */*
  Parameters: {"veterinario_id"=>2, "animal_id"=>1, "data"=>"2024-11-14", "hora"=>"15:00:00", "observacao"=>"Consulta de rotina para verificar a saúde geral do animal.", "consulta"=>{"veterinario_id"=>2, "animal_id"=>1, "data"=>"2024-11-14", "hora"=>"15:00:00", "observacao"=>"Consulta de rotina para verificar a saúde geral do animal."}}
Completed 500 Internal Server Error in 22ms (ActiveRecord: 3.7ms | Allocations: 19391)


  
NoMethodError (undefined method `isVet?' for #<ConsultasController:0x0000000004b668>):
  
app/controllers/consultas_controller.rb:21:in `create'
Started POST "/consultas" for 172.24.0.1 at 2024-11-14 19:27:58 +0000
Processing by ConsultasController#create as */*
  Parameters: {"veterinario_id"=>2, "animal_id"=>1, "data"=>"2024-11-14", "hora"=>"15:00:00", "observacao"=>"Consulta de rotina para verificar a saúde geral do animal.", "consulta"=>{"veterinario_id"=>2, "animal_id"=>1, "data"=>"2024-11-14", "hora"=>"15:00:00", "observacao"=>"Consulta de rotina para verificar a saúde geral do animal."}}
Completed 500 Internal Server Error in 9ms (ActiveRecord: 5.3ms | Allocations: 5896)


  
NoMethodError (undefined method `isVet' for #<ConsultasController:0x00000000051b80>):
  
app/controllers/consultas_controller.rb:21:in `create'
Started POST "/consultas" for 172.24.0.1 at 2024-11-14 19:28:27 +0000
Processing by ConsultasController#create as */*
  Parameters: {"veterinario_id"=>2, "animal_id"=>1, "data"=>"2024-11-14", "hora"=>"15:00:00", "observacao"=>"Consulta de rotina para verificar a saúde geral do animal.", "consulta"=>{"veterinario_id"=>2, "animal_id"=>1, "data"=>"2024-11-14", "hora"=>"15:00:00", "observacao"=>"Consulta de rotina para verificar a saúde geral do animal."}}
Completed 500 Internal Server Error in 9ms (ActiveRecord: 3.1ms | Allocations: 6190)


  
NameError (undefined local variable or method `consulta' for #<ConsultasController:0x000000000580c0>
Did you mean?  @consulta):
  
app/controllers/consultas_controller.rb:21:in `create'
Started POST "/consultas" for 172.24.0.1 at 2024-11-14 19:29:26 +0000
Processing by ConsultasController#create as */*
  Parameters: {"veterinario_id"=>2, "animal_id"=>1, "data"=>"2024-11-14", "hora"=>"15:00:00", "observacao"=>"Consulta de rotina para verificar a saúde geral do animal.", "consulta"=>{"veterinario_id"=>2, "animal_id"=>1, "data"=>"2024-11-14", "hora"=>"15:00:00", "observacao"=>"Consulta de rotina para verificar a saúde geral do animal."}}
Completed 500 Internal Server Error in 10ms (ActiveRecord: 3.7ms | Allocations: 6701)


  
NoMethodError (undefined method `isVet' for Consulta:Class
Did you mean?  insert):
  
app/controllers/consultas_controller.rb:21:in `create'
Started POST "/consultas" for 172.24.0.1 at 2024-11-14 19:29:43 +0000
Processing by ConsultasController#create as */*
  Parameters: {"veterinario_id"=>2, "animal_id"=>1, "data"=>"2024-11-14", "hora"=>"15:00:00", "observacao"=>"Consulta de rotina para verificar a saúde geral do animal.", "consulta"=>{"veterinario_id"=>2, "animal_id"=>1, "data"=>"2024-11-14", "hora"=>"15:00:00", "observacao"=>"Consulta de rotina para verificar a saúde geral do animal."}}
Completed 500 Internal Server Error in 15ms (ActiveRecord: 3.8ms | Allocations: 6188)


  
NameError (undefined local variable or method `consulta' for #<ConsultasController:0x00000000064be0>
Did you mean?  @consulta):
  
app/controllers/consultas_controller.rb:21:in `create'
Started POST "/consultas" for 172.24.0.1 at 2024-11-14 19:33:45 +0000
Processing by ConsultasController#create as */*
  Parameters: {"veterinario_id"=>2, "animal_id"=>1, "data"=>"2024-11-14", "hora"=>"15:00:00", "observacao"=>"Consulta de rotina para verificar a saúde geral do animal.", "consulta"=>{"veterinario_id"=>2, "animal_id"=>1, "data"=>"2024-11-14", "hora"=>"15:00:00", "observacao"=>"Consulta de rotina para verificar a saúde geral do animal."}}
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/consultas_controller.rb:20:in `create'
  [1m[36mAnimal Load (0.3ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/consultas_controller.rb:20:in `create'
  [1m[36mFuncionario Load (0.6ms)[0m  [1m[34mSELECT "funcionarios".* FROM "funcionarios" WHERE "funcionarios"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/consultas_controller.rb:20:in `create'
  [1m[36mCargo Load (0.6ms)[0m  [1m[34mSELECT "cargos".* FROM "cargos" WHERE "cargos"."nome_cargo" = $1 LIMIT $2[0m  [["nome_cargo", "Veterinário"], ["LIMIT", 1]]
  ↳ app/models/consulta.rb:10:in `isVet'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/consultas_controller.rb:20:in `create'
Completed 500 Internal Server Error in 46ms (ActiveRecord: 15.2ms | Allocations: 20225)


  
NoMethodError (undefined method `cargo_id' for nil:NilClass):
  
app/models/consulta.rb:11:in `isVet'
app/controllers/consultas_controller.rb:20:in `create'
Started POST "/consultas" for 172.24.0.1 at 2024-11-14 19:35:22 +0000
Processing by ConsultasController#create as */*
  Parameters: {"veterinario_id"=>2, "animal_id"=>1, "data"=>"2024-11-14", "hora"=>"15:00:00", "observacao"=>"Consulta de rotina para verificar a saúde geral do animal.", "consulta"=>{"veterinario_id"=>2, "animal_id"=>1, "data"=>"2024-11-14", "hora"=>"15:00:00", "observacao"=>"Consulta de rotina para verificar a saúde geral do animal."}}
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/consultas_controller.rb:20:in `create'
  [1m[36mAnimal Load (0.4ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/consultas_controller.rb:20:in `create'
  [1m[36mFuncionario Load (0.4ms)[0m  [1m[34mSELECT "funcionarios".* FROM "funcionarios" WHERE "funcionarios"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/consultas_controller.rb:20:in `create'
  [1m[36mCargo Load (0.3ms)[0m  [1m[34mSELECT "cargos".* FROM "cargos" WHERE "cargos"."nome_cargo" = $1 LIMIT $2[0m  [["nome_cargo", "Veterinário"], ["LIMIT", 1]]
  ↳ app/models/consulta.rb:10:in `isVet'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/consultas_controller.rb:20:in `create'
Completed 422 Unprocessable Content in 37ms (Views: 1.0ms | ActiveRecord: 13.4ms | Allocations: 20211)


Started POST "/consultas" for 172.24.0.1 at 2024-11-14 19:35:50 +0000
Processing by ConsultasController#create as */*
  Parameters: {"veterinario"=>2, "animal_id"=>1, "data"=>"2024-11-14", "hora"=>"15:00:00", "observacao"=>"Consulta de rotina para verificar a saúde geral do animal.", "consulta"=>{"animal_id"=>1, "data"=>"2024-11-14", "hora"=>"15:00:00", "observacao"=>"Consulta de rotina para verificar a saúde geral do animal."}}
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/consultas_controller.rb:20:in `create'
  [1m[36mAnimal Load (0.4ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/consultas_controller.rb:20:in `create'
  [1m[36mCargo Load (0.4ms)[0m  [1m[34mSELECT "cargos".* FROM "cargos" WHERE "cargos"."nome_cargo" = $1 LIMIT $2[0m  [["nome_cargo", "Veterinário"], ["LIMIT", 1]]
  ↳ app/models/consulta.rb:10:in `isVet'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/consultas_controller.rb:20:in `create'
Completed 422 Unprocessable Content in 31ms (Views: 0.5ms | ActiveRecord: 11.9ms | Allocations: 18242)


Started POST "/consultas" for 172.24.0.1 at 2024-11-14 19:40:00 +0000
Processing by ConsultasController#create as */*
  Parameters: {"veterinario"=>2, "animal_id"=>1, "data"=>"2024-11-14", "hora"=>"15:00:00", "observacao"=>"Consulta de rotina para verificar a saúde geral do animal.", "consulta"=>{"animal_id"=>1, "data"=>"2024-11-14", "hora"=>"15:00:00", "observacao"=>"Consulta de rotina para verificar a saúde geral do animal."}}
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/consultas_controller.rb:20:in `create'
  [1m[36mAnimal Load (0.4ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/consultas_controller.rb:20:in `create'
  [1m[36mCargo Load (0.3ms)[0m  [1m[34mSELECT "cargos".* FROM "cargos" WHERE "cargos"."nome_cargo" = $1 LIMIT $2[0m  [["nome_cargo", "Veterinário"], ["LIMIT", 1]]
  ↳ app/models/consulta.rb:10:in `isVet'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/consultas_controller.rb:20:in `create'
Completed 422 Unprocessable Content in 8ms (Views: 0.4ms | ActiveRecord: 1.2ms | Allocations: 3442)


Started POST "/consultas" for 172.24.0.1 at 2024-11-14 19:40:25 +0000
Processing by ConsultasController#create as */*
  Parameters: {"veterinario"=>2, "animal_id"=>1, "data"=>"2024-11-14", "hora"=>"15:00:00", "observacao"=>"Consulta de rotina para verificar a saúde geral do animal.", "consulta"=>{"animal_id"=>1, "data"=>"2024-11-14", "hora"=>"15:00:00", "observacao"=>"Consulta de rotina para verificar a saúde geral do animal."}}
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/consultas_controller.rb:20:in `create'
  [1m[36mAnimal Load (1.1ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/consultas_controller.rb:20:in `create'
  [1m[36mCargo Load (0.4ms)[0m  [1m[34mSELECT "cargos".* FROM "cargos" WHERE "cargos"."nome_cargo" = $1 LIMIT $2[0m  [["nome_cargo", "Veterinário"], ["LIMIT", 1]]
  ↳ app/models/consulta.rb:10:in `isVet'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/consultas_controller.rb:20:in `create'
Completed 422 Unprocessable Content in 12ms (Views: 0.4ms | ActiveRecord: 2.3ms | Allocations: 3384)


Started POST "/consultas" for 172.24.0.1 at 2024-11-14 19:41:51 +0000
Processing by ConsultasController#create as */*
  Parameters: {"consulta"=>{"veterinario_id"=>2, "animal_id"=>1, "data"=>"2024-11-14", "hora"=>"15:00:00", "observacao"=>"Consulta de rotina para verificar a saúde geral do animal."}}
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/consultas_controller.rb:20:in `create'
  [1m[36mAnimal Load (0.6ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/consultas_controller.rb:20:in `create'
  [1m[36mFuncionario Load (0.6ms)[0m  [1m[34mSELECT "funcionarios".* FROM "funcionarios" WHERE "funcionarios"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/consultas_controller.rb:20:in `create'
  [1m[36mCargo Load (0.5ms)[0m  [1m[34mSELECT "cargos".* FROM "cargos" WHERE "cargos"."nome_cargo" = $1 LIMIT $2[0m  [["nome_cargo", "Veterinário"], ["LIMIT", 1]]
  ↳ app/models/consulta.rb:10:in `isVet'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/consultas_controller.rb:20:in `create'
Completed 422 Unprocessable Content in 52ms (Views: 0.5ms | ActiveRecord: 17.7ms | Allocations: 20869)


Started GET "/" for 172.24.0.1 at 2024-11-19 18:59:30 +0000
  [1m[36mActiveRecord::SchemaMigration Load (6.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Rails::WelcomeController#index as HTML
  Rendering /usr/local/bundle/gems/railties-7.1.4.2/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /usr/local/bundle/gems/railties-7.1.4.2/lib/rails/templates/rails/welcome/index.html.erb (Duration: 25.8ms | Allocations: 580)
Completed 200 OK in 111ms (Views: 82.0ms | ActiveRecord: 0.0ms | Allocations: 7165)


Started GET "/consultas" for 172.24.0.1 at 2024-11-19 19:00:19 +0000
Processing by ConsultasController#index as */*
  [1m[36mConsulta Load (4.9ms)[0m  [1m[34mSELECT "consulta".* FROM "consulta"[0m
  ↳ app/controllers/consultas_controller.rb:8:in `index'
Completed 200 OK in 90ms (Views: 18.8ms | ActiveRecord: 14.5ms | Allocations: 19245)


Started POST "/consultas" for 172.24.0.1 at 2024-11-19 19:00:23 +0000
Processing by ConsultasController#create as */*
  Parameters: {"consulta"=>{"veterinario_id"=>2, "animal_id"=>1, "data"=>"2024-11-14", "hora"=>"15:00:00", "observacao"=>"Consulta de rotina para verificar a saúde geral do animal."}}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/consultas_controller.rb:20:in `create'
  [1m[36mAnimal Load (13.7ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/consultas_controller.rb:20:in `create'
  [1m[36mFuncionario Load (5.9ms)[0m  [1m[34mSELECT "funcionarios".* FROM "funcionarios" WHERE "funcionarios"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/consultas_controller.rb:20:in `create'
  [1m[36mCargo Load (6.8ms)[0m  [1m[34mSELECT "cargos".* FROM "cargos" WHERE "cargos"."nome_cargo" = $1 LIMIT $2[0m  [["nome_cargo", "Veterinário"], ["LIMIT", 1]]
  ↳ app/models/consulta.rb:10:in `isVet'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/consultas_controller.rb:20:in `create'
Completed 422 Unprocessable Content in 378ms (Views: 1.0ms | ActiveRecord: 201.2ms | Allocations: 66393)


Started GET "/cargos" for 172.24.0.1 at 2024-11-19 19:06:18 +0000
Processing by CargosController#index as */*
  [1m[36mCargo Load (21.3ms)[0m  [1m[34mSELECT "cargos".* FROM "cargos"[0m
  ↳ app/controllers/cargos_controller.rb:7:in `index'
Completed 200 OK in 30ms (Views: -0.7ms | ActiveRecord: 29.7ms | Allocations: 4131)


  [1m[36mActiveRecord::SchemaMigration Load (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (6.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (54.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS "mascots_development"[0m
  [1m[35m (583.3ms)[0m  [1m[35mCREATE DATABASE "mascots_development" ENCODING = 'unicode'[0m
  [1m[35mSQL (1.9ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (1.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "animals" CASCADE[0m
  [1m[35m (17.7ms)[0m  [1m[35mCREATE TABLE "animals" ("id" bigserial primary key, "nome" character varying, "idade" integer, "especie" character varying, "raca" character varying, "peso" float, "tutor_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (6.6ms)[0m  [1m[35mCREATE INDEX "index_animals_on_tutor_id" ON "animals" ("tutor_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "cargos" CASCADE[0m
  [1m[35m (14.5ms)[0m  [1m[35mCREATE TABLE "cargos" ("id" bigserial primary key, "nome_cargo" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE IF EXISTS "consulta" CASCADE[0m
  [1m[35m (14.6ms)[0m  [1m[35mCREATE TABLE "consulta" ("id" bigserial primary key, "veterinario_id" bigint, "animal_id" bigint NOT NULL, "data" date, "hora" time, "observacao" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (9.0ms)[0m  [1m[35mCREATE INDEX "index_consulta_on_animal_id" ON "consulta" ("animal_id")[0m
  [1m[35m (9.6ms)[0m  [1m[35mCREATE INDEX "index_consulta_on_veterinario_id" ON "consulta" ("veterinario_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE IF EXISTS "estoque_internamentos" CASCADE[0m
  [1m[35m (20.3ms)[0m  [1m[35mCREATE TABLE "estoque_internamentos" ("id" bigserial primary key, "internamento_id" bigint NOT NULL, "medicamento" character varying, "quantidade_disponivel" float, "quantidade_utilizada" float, "quantidade_minima" float, "fornecedor" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (8.2ms)[0m  [1m[35mCREATE INDEX "index_estoque_internamentos_on_internamento_id" ON "estoque_internamentos" ("internamento_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "estoque_vendas" CASCADE[0m
  [1m[35m (16.6ms)[0m  [1m[35mCREATE TABLE "estoque_vendas" ("id" bigserial primary key, "medicamento" character varying, "preco" decimal, "quantidade_disponivel" integer, "quantidade_venda" integer, "fornecedor" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE IF EXISTS "exames" CASCADE[0m
  [1m[35m (16.8ms)[0m  [1m[35mCREATE TABLE "exames" ("id" bigserial primary key, "consulta_id" bigint NOT NULL, "nome_exame" character varying, "status_exame" character varying, "resultado" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (7.3ms)[0m  [1m[35mCREATE INDEX "index_exames_on_consulta_id" ON "exames" ("consulta_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "funcionarios" CASCADE[0m
  [1m[35m (16.3ms)[0m  [1m[35mCREATE TABLE "funcionarios" ("id" bigserial primary key, "nome" character varying, "contato" character varying, "login" character varying, "senha" character varying, "cargo_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (8.7ms)[0m  [1m[35mCREATE INDEX "index_funcionarios_on_cargo_id" ON "funcionarios" ("cargo_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "internamentos" CASCADE[0m
  [1m[35m (16.1ms)[0m  [1m[35mCREATE TABLE "internamentos" ("id" bigserial primary key, "consulta_id" bigint NOT NULL, "data_inicio" date, "data_fim" date, "medicamento" character varying, "quantidade_medicamento" float, "obs_monitoramento" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (7.5ms)[0m  [1m[35mCREATE INDEX "index_internamentos_on_consulta_id" ON "internamentos" ("consulta_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "prescricao_medicas" CASCADE[0m
  [1m[35m (14.2ms)[0m  [1m[35mCREATE TABLE "prescricao_medicas" ("id" bigserial primary key, "consulta_id" bigint NOT NULL, "data" date, "medicamentos_prescritos" character varying, "dosagens" character varying, "observacao" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (7.1ms)[0m  [1m[35mCREATE INDEX "index_prescricao_medicas_on_consulta_id" ON "prescricao_medicas" ("consulta_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "tutors" CASCADE[0m
  [1m[35m (13.6ms)[0m  [1m[35mCREATE TABLE "tutors" ("id" bigserial primary key, "nome" character varying, "endereco" character varying, "telefone" character varying, "email" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (4.4ms)[0m  [1m[35mALTER TABLE "animals" ADD CONSTRAINT "fk_rails_4a56185cb8"
FOREIGN KEY ("tutor_id")
  REFERENCES "tutors" ("id")
[0m
  [1m[35m (2.8ms)[0m  [1m[35mALTER TABLE "consulta" ADD CONSTRAINT "fk_rails_c9fabfc553"
FOREIGN KEY ("animal_id")
  REFERENCES "animals" ("id")
[0m
  [1m[35m (2.7ms)[0m  [1m[35mALTER TABLE "consulta" ADD CONSTRAINT "fk_rails_37870f3032"
FOREIGN KEY ("veterinario_id")
  REFERENCES "funcionarios" ("id")
[0m
  [1m[35m (2.7ms)[0m  [1m[35mALTER TABLE "estoque_internamentos" ADD CONSTRAINT "fk_rails_095bd4214a"
FOREIGN KEY ("internamento_id")
  REFERENCES "internamentos" ("id")
[0m
  [1m[35m (2.8ms)[0m  [1m[35mALTER TABLE "exames" ADD CONSTRAINT "fk_rails_7b54682bc6"
FOREIGN KEY ("consulta_id")
  REFERENCES "consulta" ("id")
[0m
  [1m[35m (2.7ms)[0m  [1m[35mALTER TABLE "funcionarios" ADD CONSTRAINT "fk_rails_c52a5a3a83"
FOREIGN KEY ("cargo_id")
  REFERENCES "cargos" ("id")
[0m
  [1m[35m (3.2ms)[0m  [1m[35mALTER TABLE "internamentos" ADD CONSTRAINT "fk_rails_6fd126f215"
FOREIGN KEY ("consulta_id")
  REFERENCES "consulta" ("id")
[0m
  [1m[35m (2.8ms)[0m  [1m[35mALTER TABLE "prescricao_medicas" ADD CONSTRAINT "fk_rails_12ab1cbf0a"
FOREIGN KEY ("consulta_id")
  REFERENCES "consulta" ("id")
[0m
  [1m[35m (13.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (3.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20241008165106)[0m
  [1m[35m (2.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20241008165029),
(20241008164944),
(20241008164909),
(20241008164647),
(20241008164524),
(20241008164443),
(20241008164352),
(20241008164202),
(20241008164201);[0m
  [1m[35m (13.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (2.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2024-11-19 20:01:10.743011', '2024-11-19 20:01:10.743015') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (1.9ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', 'd71ca1d8b949a19554652360cffc8c052724ae74', '2024-11-19 20:01:10.750783', '2024-11-19 20:01:10.750785') RETURNING "key"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (18.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (16.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_try_advisory_lock(6008124786622812630)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (2.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (3.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2024-11-19 20:03:03.716489', '2024-11-19 20:03:03.716494') RETURNING "key"[0m
Migrating to CreateCargos (20241008164201)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (18.2ms)[0m  [1m[35mCREATE TABLE "cargos" ("id" bigserial primary key, "nome_cargo" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20241008164201') RETURNING "version"[0m
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateFuncionarios (20241008164202)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (15.9ms)[0m  [1m[35mCREATE TABLE "funcionarios" ("id" bigserial primary key, "nome" character varying, "contato" character varying, "login" character varying, "senha" character varying, "cargo_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_c52a5a3a83"
FOREIGN KEY ("cargo_id")
  REFERENCES "cargos" ("id")
)[0m
  [1m[35m (6.3ms)[0m  [1m[35mCREATE INDEX "index_funcionarios_on_cargo_id" ON "funcionarios" ("cargo_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20241008164202') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateTutors (20241008164352)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (13.7ms)[0m  [1m[35mCREATE TABLE "tutors" ("id" bigserial primary key, "nome" character varying, "endereco" character varying, "telefone" character varying, "email" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20241008164352') RETURNING "version"[0m
  [1m[36mTRANSACTION (6.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateEstoqueVendas (20241008164443)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (17.1ms)[0m  [1m[35mCREATE TABLE "estoque_vendas" ("id" bigserial primary key, "medicamento" character varying, "preco" decimal, "quantidade_disponivel" integer, "quantidade_venda" integer, "fornecedor" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20241008164443') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateAnimals (20241008164524)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (15.7ms)[0m  [1m[35mCREATE TABLE "animals" ("id" bigserial primary key, "nome" character varying, "idade" integer, "especie" character varying, "raca" character varying, "peso" float, "tutor_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_4a56185cb8"
FOREIGN KEY ("tutor_id")
  REFERENCES "tutors" ("id")
)[0m
  [1m[35m (7.2ms)[0m  [1m[35mCREATE INDEX "index_animals_on_tutor_id" ON "animals" ("tutor_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20241008164524') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateConsulta (20241008164647)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (15.8ms)[0m  [1m[35mCREATE TABLE "consulta" ("id" bigserial primary key, "funcionario_id" bigint, "animal_id" bigint NOT NULL, "data" date, "hora" time, "observacao" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_cd36ba9a17"
FOREIGN KEY ("funcionario_id")
  REFERENCES "funcionarios" ("id")
, CONSTRAINT "fk_rails_c9fabfc553"
FOREIGN KEY ("animal_id")
  REFERENCES "animals" ("id")
)[0m
  [1m[35m (8.2ms)[0m  [1m[35mCREATE INDEX "index_consulta_on_funcionario_id" ON "consulta" ("funcionario_id")[0m
  [1m[35m (6.9ms)[0m  [1m[35mCREATE INDEX "index_consulta_on_animal_id" ON "consulta" ("animal_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20241008164647') RETURNING "version"[0m
  [1m[36mTRANSACTION (4.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePrescricaoMedicas (20241008164909)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (16.4ms)[0m  [1m[35mCREATE TABLE "prescricao_medicas" ("id" bigserial primary key, "consulta_id" bigint NOT NULL, "data" date, "medicamentos_prescritos" character varying, "dosagens" character varying, "observacao" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_12ab1cbf0a"
FOREIGN KEY ("consulta_id")
  REFERENCES "consulta" ("id")
)[0m
  [1m[35m (6.9ms)[0m  [1m[35mCREATE INDEX "index_prescricao_medicas_on_consulta_id" ON "prescricao_medicas" ("consulta_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20241008164909') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateExames (20241008164944)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (17.3ms)[0m  [1m[35mCREATE TABLE "exames" ("id" bigserial primary key, "consulta_id" bigint NOT NULL, "nome_exame" character varying, "status_exame" character varying, "resultado" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_7b54682bc6"
FOREIGN KEY ("consulta_id")
  REFERENCES "consulta" ("id")
)[0m
  [1m[35m (7.2ms)[0m  [1m[35mCREATE INDEX "index_exames_on_consulta_id" ON "exames" ("consulta_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20241008164944') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateInternamentos (20241008165029)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (14.1ms)[0m  [1m[35mCREATE TABLE "internamentos" ("id" bigserial primary key, "consulta_id" bigint NOT NULL, "data_inicio" date, "data_fim" date, "medicamento" character varying, "quantidade_medicamento" float, "obs_monitoramento" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_6fd126f215"
FOREIGN KEY ("consulta_id")
  REFERENCES "consulta" ("id")
)[0m
  [1m[35m (7.2ms)[0m  [1m[35mCREATE INDEX "index_internamentos_on_consulta_id" ON "internamentos" ("consulta_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20241008165029') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateEstoqueInternamentos (20241008165106)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (16.5ms)[0m  [1m[35mCREATE TABLE "estoque_internamentos" ("id" bigserial primary key, "internamento_id" bigint NOT NULL, "medicamento" character varying, "quantidade_disponivel" float, "quantidade_utilizada" float, "quantidade_minima" float, "fornecedor" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_095bd4214a"
FOREIGN KEY ("internamento_id")
  REFERENCES "internamentos" ("id")
)[0m
  [1m[35m (8.2ms)[0m  [1m[35mCREATE INDEX "index_estoque_internamentos_on_internamento_id" ON "estoque_internamentos" ("internamento_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20241008165106') RETURNING "version"[0m
  [1m[36mTRANSACTION (4.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT pg_advisory_unlock(6008124786622812630)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/cargos" for 172.24.0.1 at 2024-11-19 20:04:00 +0000
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by CargosController#index as */*
  [1m[36mCargo Load (2.0ms)[0m  [1m[34mSELECT "cargos".* FROM "cargos"[0m
  ↳ app/controllers/cargos_controller.rb:7:in `index'
Completed 200 OK in 77ms (Views: 20.4ms | ActiveRecord: 16.3ms | Allocations: 17320)


Started POST "/cargos" for 172.24.0.1 at 2024-11-19 20:04:10 +0000
Processing by CargosController#create as */*
  Parameters: {"nome_cargo"=>"Veterinário", "cargo"=>{"nome_cargo"=>"Veterinário"}}
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/cargos_controller.rb:16:in `create'
  [1m[36mCargo Create (3.0ms)[0m  [1m[32mINSERT INTO "cargos" ("nome_cargo", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["nome_cargo", "Veterinário"], ["created_at", "2024-11-19 20:04:10.845733"], ["updated_at", "2024-11-19 20:04:10.845733"]]
  ↳ app/controllers/cargos_controller.rb:16:in `create'
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/cargos_controller.rb:16:in `create'
Completed 201 Created in 41ms (Views: 1.4ms | ActiveRecord: 16.6ms | Allocations: 19532)


Started POST "/funcionarios" for 172.24.0.1 at 2024-11-19 20:04:24 +0000
Processing by FuncionariosController#create as */*
  Parameters: {"nome"=>"João Silva", "contato"=>"joao.silva@example.com", "cargo"=>1, "senha"=>"senhaSegura123", "login"=>"joaosilva", "funcionario"=>{"nome"=>"João Silva", "contato"=>"joao.silva@example.com", "login"=>"joaosilva", "senha"=>"senhaSegura123"}}
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/funcionarios_controller.rb:19:in `create'
  [1m[36mFuncionario Exists? (3.4ms)[0m  [1m[34mSELECT 1 AS one FROM "funcionarios" WHERE "funcionarios"."login" = $1 LIMIT $2[0m  [["login", "joaosilva"], ["LIMIT", 1]]
  ↳ app/controllers/funcionarios_controller.rb:19:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/funcionarios_controller.rb:19:in `create'
Completed 422 Unprocessable Content in 45ms (Views: 3.8ms | ActiveRecord: 9.8ms | Allocations: 23641)


Started POST "/funcionarios" for 172.24.0.1 at 2024-11-19 20:06:43 +0000
Processing by FuncionariosController#create as */*
  Parameters: {"nome"=>"João Silva", "contato"=>"joao.silva@example.com", "cargo"=>1, "senha"=>"senhaSegura123", "login"=>"joaosilva", "funcionario"=>{"nome"=>"João Silva", "contato"=>"joao.silva@example.com", "login"=>"joaosilva", "senha"=>"senhaSegura123"}}
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/funcionarios_controller.rb:19:in `create'
  [1m[36mFuncionario Exists? (3.5ms)[0m  [1m[34mSELECT 1 AS one FROM "funcionarios" WHERE "funcionarios"."login" = $1 LIMIT $2[0m  [["login", "joaosilva"], ["LIMIT", 1]]
  ↳ app/controllers/funcionarios_controller.rb:19:in `create'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/funcionarios_controller.rb:19:in `create'
Completed 422 Unprocessable Content in 16ms (Views: 1.5ms | ActiveRecord: 4.9ms | Allocations: 2829)


Started GET "/funcionarios" for 172.24.0.1 at 2024-11-19 20:07:01 +0000
Processing by FuncionariosController#index as */*
  [1m[36mFuncionario Load (1.3ms)[0m  [1m[34mSELECT "funcionarios".* FROM "funcionarios"[0m
  ↳ app/controllers/funcionarios_controller.rb:8:in `index'
Completed 200 OK in 6ms (Views: 3.8ms | ActiveRecord: 1.3ms | Allocations: 814)


Started POST "/funcionarios" for 172.24.0.1 at 2024-11-19 20:07:17 +0000
Processing by FuncionariosController#create as */*
  Parameters: {"nome"=>"João Silva", "contato"=>"joao.silva@example.com", "cargo"=>1, "senha"=>"senhaSegura123", "login"=>"joaosilva", "funcionario"=>{"nome"=>"João Silva", "contato"=>"joao.silva@example.com", "login"=>"joaosilva", "senha"=>"senhaSegura123"}}
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/funcionarios_controller.rb:19:in `create'
  [1m[36mFuncionario Exists? (4.0ms)[0m  [1m[34mSELECT 1 AS one FROM "funcionarios" WHERE "funcionarios"."login" = $1 LIMIT $2[0m  [["login", "joaosilva"], ["LIMIT", 1]]
  ↳ app/controllers/funcionarios_controller.rb:19:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/funcionarios_controller.rb:19:in `create'
Completed 422 Unprocessable Content in 11ms (Views: 0.9ms | ActiveRecord: 4.8ms | Allocations: 2776)


Started POST "/funcionarios" for 172.24.0.1 at 2024-11-19 20:07:43 +0000
Processing by FuncionariosController#create as */*
  Parameters: {"nome"=>"João Castro", "contato"=>"joao.silva@example.com", "cargo"=>1, "senha"=>"senhaSegura123", "login"=>"joaocastrp", "funcionario"=>{"nome"=>"João Castro", "contato"=>"joao.silva@example.com", "login"=>"joaocastrp", "senha"=>"senhaSegura123"}}
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/funcionarios_controller.rb:19:in `create'
  [1m[36mFuncionario Exists? (1.8ms)[0m  [1m[34mSELECT 1 AS one FROM "funcionarios" WHERE "funcionarios"."login" = $1 LIMIT $2[0m  [["login", "joaocastrp"], ["LIMIT", 1]]
  ↳ app/controllers/funcionarios_controller.rb:19:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/funcionarios_controller.rb:19:in `create'
Completed 422 Unprocessable Content in 7ms (Views: 1.0ms | ActiveRecord: 2.6ms | Allocations: 2776)


Started POST "/funcionarios" for 172.24.0.1 at 2024-11-19 21:16:59 +0000
  [1m[36mActiveRecord::SchemaMigration Load (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by FuncionariosController#create as */*
  Parameters: {"nome"=>"João Castro", "contato"=>"joao.silva@example.com", "cargo"=>1, "senha"=>"senhaSegura123", "login"=>"joaocastrp", "funcionario"=>{"nome"=>"João Castro", "contato"=>"joao.silva@example.com", "login"=>"joaocastrp", "senha"=>"senhaSegura123"}}
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/funcionarios_controller.rb:19:in `create'
  [1m[36mFuncionario Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "funcionarios" WHERE "funcionarios"."login" = $1 LIMIT $2[0m  [["login", "joaocastrp"], ["LIMIT", 1]]
  ↳ app/controllers/funcionarios_controller.rb:19:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/funcionarios_controller.rb:19:in `create'
Completed 422 Unprocessable Content in 55ms (Views: 5.8ms | ActiveRecord: 22.6ms | Allocations: 29934)


Started POST "/funcionarios" for 172.24.0.1 at 2024-11-19 21:17:40 +0000
Processing by FuncionariosController#create as */*
  Parameters: {"nome"=>"João Castro", "contato"=>"joao.silva@example.com", "cargo"=>1, "senha"=>"senhaSegura123", "login"=>"joaocastrp", "funcionario"=>{"nome"=>"João Castro", "contato"=>"joao.silva@example.com", "login"=>"joaocastrp", "senha"=>"senhaSegura123"}}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/funcionarios_controller.rb:19:in `create'
  [1m[36mFuncionario Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "funcionarios" WHERE "funcionarios"."login" = $1 LIMIT $2[0m  [["login", "joaocastrp"], ["LIMIT", 1]]
  ↳ app/controllers/funcionarios_controller.rb:19:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/funcionarios_controller.rb:19:in `create'
Completed 422 Unprocessable Content in 16ms (Views: 1.1ms | ActiveRecord: 7.8ms | Allocations: 7319)


Started POST "/funcionarios" for 172.24.0.1 at 2024-11-19 21:17:54 +0000
Processing by FuncionariosController#create as */*
  Parameters: {"nome"=>"João Castro", "contato"=>"joao.silva@example.com", "cargo_id"=>1, "senha"=>"senhaSegura123", "login"=>"joaocastrp", "funcionario"=>{"nome"=>"João Castro", "contato"=>"joao.silva@example.com", "login"=>"joaocastrp", "senha"=>"senhaSegura123", "cargo_id"=>1}}
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/funcionarios_controller.rb:19:in `create'
  [1m[36mCargo Load (1.2ms)[0m  [1m[34mSELECT "cargos".* FROM "cargos" WHERE "cargos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/funcionarios_controller.rb:19:in `create'
  [1m[36mFuncionario Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "funcionarios" WHERE "funcionarios"."login" = $1 LIMIT $2[0m  [["login", "joaocastrp"], ["LIMIT", 1]]
  ↳ app/controllers/funcionarios_controller.rb:19:in `create'
  [1m[36mFuncionario Create (3.5ms)[0m  [1m[32mINSERT INTO "funcionarios" ("nome", "contato", "login", "senha", "cargo_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["nome", "João Castro"], ["contato", "joao.silva@example.com"], ["login", "joaocastrp"], ["senha", "senhaSegura123"], ["cargo_id", 1], ["created_at", "2024-11-19 21:17:54.172287"], ["updated_at", "2024-11-19 21:17:54.172287"]]
  ↳ app/controllers/funcionarios_controller.rb:19:in `create'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/funcionarios_controller.rb:19:in `create'
Completed 201 Created in 46ms (Views: 0.8ms | ActiveRecord: 17.2ms | Allocations: 25386)


Started POST "/tutors" for 172.24.0.1 at 2024-11-19 21:18:23 +0000
Processing by TutorsController#create as */*
  Parameters: {"nome"=>"João Silva", "endereco"=>"Rua Exemplo, 123", "telefone"=>"123456789", "email"=>"joao@example.com", "tutor"=>{"nome"=>"João Silva", "endereco"=>"Rua Exemplo, 123", "telefone"=>"123456789", "email"=>"joao@example.com"}}
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/tutors_controller.rb:19:in `create'
  [1m[36mTutor Exists? (3.6ms)[0m  [1m[34mSELECT 1 AS one FROM "tutors" WHERE "tutors"."email" = $1 LIMIT $2[0m  [["email", "joao@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/tutors_controller.rb:19:in `create'
  [1m[36mTutor Create (1.0ms)[0m  [1m[32mINSERT INTO "tutors" ("nome", "endereco", "telefone", "email", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["nome", "João Silva"], ["endereco", "Rua Exemplo, 123"], ["telefone", "123456789"], ["email", "joao@example.com"], ["created_at", "2024-11-19 21:18:23.456903"], ["updated_at", "2024-11-19 21:18:23.456903"]]
  ↳ app/controllers/tutors_controller.rb:19:in `create'
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/tutors_controller.rb:19:in `create'
Completed 201 Created in 33ms (Views: 0.7ms | ActiveRecord: 11.7ms | Allocations: 19753)


Started POST "/animals" for 172.24.0.1 at 2024-11-19 21:18:33 +0000
Processing by AnimalsController#create as */*
  Parameters: {"nome"=>"Joca", "idade"=>2, "especie"=>"Cachorro", "raca"=>"SRD", "peso"=>"4.2", "tutor_id"=>1, "animal"=>{"nome"=>"Joca", "idade"=>2, "especie"=>"Cachorro", "raca"=>"SRD", "peso"=>"4.2", "tutor_id"=>1}}
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/animals_controller.rb:19:in `create'
  [1m[36mTutor Load (0.5ms)[0m  [1m[34mSELECT "tutors".* FROM "tutors" WHERE "tutors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:19:in `create'
  [1m[36mAnimal Create (1.2ms)[0m  [1m[32mINSERT INTO "animals" ("nome", "idade", "especie", "raca", "peso", "tutor_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["nome", "Joca"], ["idade", 2], ["especie", "Cachorro"], ["raca", "SRD"], ["peso", 4.2], ["tutor_id", 1], ["created_at", "2024-11-19 21:18:33.657374"], ["updated_at", "2024-11-19 21:18:33.657374"]]
  ↳ app/controllers/animals_controller.rb:19:in `create'
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/animals_controller.rb:19:in `create'
Completed 201 Created in 33ms (Views: 0.7ms | ActiveRecord: 10.3ms | Allocations: 21007)


Started POST "/consultas" for 172.24.0.1 at 2024-11-19 21:18:37 +0000
Processing by ConsultasController#create as */*
  Parameters: {"consulta"=>{"funcionario_id"=>1, "animal_id"=>1, "data"=>"2024-11-14", "hora"=>"15:00:00", "observacao"=>"Consulta de rotina para verificar a saúde geral do animal."}}
[31mUnpermitted parameter: :funcionario_id. Context: { controller: ConsultasController, action: create, request: #<ActionDispatch::Request:0x00007f364403f490>, params: {"consulta"=>{"funcionario_id"=>1, "animal_id"=>1, "data"=>"2024-11-14", "hora"=>"15:00:00", "observacao"=>"Consulta de rotina para verificar a saúde geral do animal."}, "controller"=>"consultas", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/consultas_controller.rb:20:in `create'
  [1m[36mAnimal Load (0.7ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/consultas_controller.rb:20:in `create'
  [1m[36mCargo Load (0.4ms)[0m  [1m[34mSELECT "cargos".* FROM "cargos" WHERE "cargos"."nome_cargo" = $1 LIMIT $2[0m  [["nome_cargo", "Veterinário"], ["LIMIT", 1]]
  ↳ app/models/consulta.rb:10:in `isVet'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/consultas_controller.rb:20:in `create'
Completed 500 Internal Server Error in 63ms (ActiveRecord: 5.2ms | Allocations: 25253)


  
NameError (undefined local variable or method `veterinario' for #<Consulta id: nil, funcionario_id: nil, animal_id: 1, data: "2024-11-14", hora: "2000-01-01 15:00:00.000000000 +0000", observacao: "Consulta de rotina para verificar a saúde geral do...", created_at: nil, updated_at: nil>):
  
app/models/consulta.rb:11:in `isVet'
app/controllers/consultas_controller.rb:20:in `create'
Started POST "/consultas" for 172.24.0.1 at 2024-11-19 21:22:07 +0000
Processing by ConsultasController#create as */*
  Parameters: {"funcionario_id"=>1, "animal_id"=>1, "data"=>"2024-11-14", "hora"=>"15:00:00", "observacao"=>"Consulta de rotina para verificar a saúde geral do animal.", "consulta"=>{"funcionario_id"=>1, "animal_id"=>1, "data"=>"2024-11-14", "hora"=>"15:00:00", "observacao"=>"Consulta de rotina para verificar a saúde geral do animal."}}
[31mUnpermitted parameter: :funcionario_id. Context: { controller: ConsultasController, action: create, request: #<ActionDispatch::Request:0x00007f3644239728>, params: {"funcionario_id"=>1, "animal_id"=>1, "data"=>"2024-11-14", "hora"=>"15:00:00", "observacao"=>"Consulta de rotina para verificar a saúde geral do animal.", "controller"=>"consultas", "action"=>"create", "consulta"=>{"funcionario_id"=>1, "animal_id"=>1, "data"=>"2024-11-14", "hora"=>"15:00:00", "observacao"=>"Consulta de rotina para verificar a saúde geral do animal."}} }[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/consultas_controller.rb:20:in `create'
  [1m[36mAnimal Load (0.8ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/consultas_controller.rb:20:in `create'
  [1m[36mCargo Load (0.6ms)[0m  [1m[34mSELECT "cargos".* FROM "cargos" WHERE "cargos"."nome_cargo" = $1 LIMIT $2[0m  [["nome_cargo", "Veterinário"], ["LIMIT", 1]]
  ↳ app/models/consulta.rb:10:in `isVet'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/consultas_controller.rb:20:in `create'
Completed 500 Internal Server Error in 24ms (ActiveRecord: 2.4ms | Allocations: 6759)


  
NameError (undefined local variable or method `veterinario' for #<Consulta id: nil, funcionario_id: nil, animal_id: 1, data: "2024-11-14", hora: "2000-01-01 15:00:00.000000000 +0000", observacao: "Consulta de rotina para verificar a saúde geral do...", created_at: nil, updated_at: nil>):
  
app/models/consulta.rb:11:in `isVet'
app/controllers/consultas_controller.rb:20:in `create'
Started POST "/consultas" for 172.24.0.1 at 2024-11-19 21:22:41 +0000
Processing by ConsultasController#create as */*
  Parameters: {"funcionario_id"=>1, "animal_id"=>1, "data"=>"2024-11-14", "hora"=>"15:00:00", "observacao"=>"Consulta de rotina para verificar a saúde geral do animal.", "consulta"=>{"funcionario_id"=>1, "animal_id"=>1, "data"=>"2024-11-14", "hora"=>"15:00:00", "observacao"=>"Consulta de rotina para verificar a saúde geral do animal."}}
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/consultas_controller.rb:20:in `create'
  [1m[36mAnimal Load (0.6ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/consultas_controller.rb:20:in `create'
  [1m[36mFuncionario Load (0.4ms)[0m  [1m[34mSELECT "funcionarios".* FROM "funcionarios" WHERE "funcionarios"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/consultas_controller.rb:20:in `create'
  [1m[36mCargo Load (0.7ms)[0m  [1m[34mSELECT "cargos".* FROM "cargos" WHERE "cargos"."nome_cargo" = $1 LIMIT $2[0m  [["nome_cargo", "Veterinário"], ["LIMIT", 1]]
  ↳ app/models/consulta.rb:10:in `isVet'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/consultas_controller.rb:20:in `create'
Completed 500 Internal Server Error in 82ms (ActiveRecord: 23.5ms | Allocations: 26360)


  
NameError (undefined local variable or method `veterinario' for #<Consulta id: nil, funcionario_id: 1, animal_id: 1, data: "2024-11-14", hora: "2000-01-01 15:00:00.000000000 +0000", observacao: "Consulta de rotina para verificar a saúde geral do...", created_at: nil, updated_at: nil>):
  
app/models/consulta.rb:11:in `isVet'
app/controllers/consultas_controller.rb:20:in `create'
Started POST "/consultas" for 172.24.0.1 at 2024-11-19 21:24:18 +0000
Processing by ConsultasController#create as */*
  Parameters: {"funcionario_id"=>1, "animal_id"=>1, "data"=>"2024-11-14", "hora"=>"15:00:00", "observacao"=>"Consulta de rotina para verificar a saúde geral do animal.", "consulta"=>{"funcionario_id"=>1, "animal_id"=>1, "data"=>"2024-11-14", "hora"=>"15:00:00", "observacao"=>"Consulta de rotina para verificar a saúde geral do animal."}}
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/consultas_controller.rb:20:in `create'
  [1m[36mAnimal Load (0.6ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/consultas_controller.rb:20:in `create'
  [1m[36mFuncionario Load (1.4ms)[0m  [1m[34mSELECT "funcionarios".* FROM "funcionarios" WHERE "funcionarios"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/consultas_controller.rb:20:in `create'
  [1m[36mCargo Load (0.5ms)[0m  [1m[34mSELECT "cargos".* FROM "cargos" WHERE "cargos"."nome_cargo" = $1 LIMIT $2[0m  [["nome_cargo", "Veterinário"], ["LIMIT", 1]]
  ↳ app/models/consulta.rb:10:in `isVet'
  [1m[36mConsulta Create (2.7ms)[0m  [1m[32mINSERT INTO "consulta" ("funcionario_id", "animal_id", "data", "hora", "observacao", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["funcionario_id", 1], ["animal_id", 1], ["data", "2024-11-14"], ["hora", "15:00:00"], ["observacao", "Consulta de rotina para verificar a saúde geral do animal."], ["created_at", "2024-11-19 21:24:19.105912"], ["updated_at", "2024-11-19 21:24:19.105912"]]
  ↳ app/controllers/consultas_controller.rb:20:in `create'
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/consultas_controller.rb:20:in `create'
Completed 500 Internal Server Error in 72ms (ActiveRecord: 24.4ms | Allocations: 25657)


  
NoMethodError (undefined method `consultum_url' for #<ConsultasController:0x000000000253f0>
Did you mean?  consulta_url
               consultas_url):
  
app/controllers/consultas_controller.rb:21:in `create'
Started POST "/consultas" for 172.24.0.1 at 2024-11-19 21:25:23 +0000
  [1m[36mActiveRecord::SchemaMigration Load (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ConsultasController#create as */*
  Parameters: {"funcionario_id"=>1, "animal_id"=>1, "data"=>"2024-11-14", "hora"=>"15:00:00", "observacao"=>"Consulta de rotina para verificar a saúde geral do animal.", "consulta"=>{"funcionario_id"=>1, "animal_id"=>1, "data"=>"2024-11-14", "hora"=>"15:00:00", "observacao"=>"Consulta de rotina para verificar a saúde geral do animal."}}
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/consultas_controller.rb:20:in `create'
  [1m[36mAnimal Load (1.3ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/consultas_controller.rb:20:in `create'
  [1m[36mFuncionario Load (0.6ms)[0m  [1m[34mSELECT "funcionarios".* FROM "funcionarios" WHERE "funcionarios"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/consultas_controller.rb:20:in `create'
  [1m[36mCargo Load (0.5ms)[0m  [1m[34mSELECT "cargos".* FROM "cargos" WHERE "cargos"."nome_cargo" = $1 LIMIT $2[0m  [["nome_cargo", "Veterinário"], ["LIMIT", 1]]
  ↳ app/models/consulta.rb:10:in `isVet'
  [1m[36mConsulta Create (1.2ms)[0m  [1m[32mINSERT INTO "consulta" ("funcionario_id", "animal_id", "data", "hora", "observacao", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["funcionario_id", 1], ["animal_id", 1], ["data", "2024-11-14"], ["hora", "15:00:00"], ["observacao", "Consulta de rotina para verificar a saúde geral do animal."], ["created_at", "2024-11-19 21:25:24.358259"], ["updated_at", "2024-11-19 21:25:24.358259"]]
  ↳ app/controllers/consultas_controller.rb:20:in `create'
  [1m[36mTRANSACTION (4.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/consultas_controller.rb:20:in `create'
Completed 500 Internal Server Error in 121ms (ActiveRecord: 34.6ms | Allocations: 88259)


  
NoMethodError (undefined method `consultum_url' for #<ConsultasController:0x0000000000c0a8>
Did you mean?  consulta_url
               consultas_url):
  
app/controllers/consultas_controller.rb:21:in `create'
Started POST "/consultas" for 172.24.0.1 at 2024-11-19 21:28:19 +0000
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ConsultasController#create as */*
  Parameters: {"funcionario_id"=>1, "animal_id"=>1, "data"=>"2024-11-14", "hora"=>"15:00:00", "observacao"=>"Consulta de rotina para verificar a saúde geral do animal.", "consulta"=>{"funcionario_id"=>1, "animal_id"=>1, "data"=>"2024-11-14", "hora"=>"15:00:00", "observacao"=>"Consulta de rotina para verificar a saúde geral do animal."}}
Completed 500 Internal Server Error in 8ms (ActiveRecord: 11.7ms | Allocations: 2207)


  
ActiveRecord::StatementInvalid (PG::UndefinedTable: ERROR:  relation "consultas" does not exist
LINE 10:  WHERE a.attrelid = '"consultas"'::regclass
                             ^
):
  
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(6008124786622812630)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (2.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(6008124786622812630)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (5019.6ms)[0m  [1m[35mDROP DATABASE IF EXISTS "mascots_development"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (5018.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "mascots_development"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (41.5ms)[0m  [1m[35mDROP DATABASE IF EXISTS "mascots_development"[0m
  [1m[35m (512.1ms)[0m  [1m[35mCREATE DATABASE "mascots_development" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.8ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE IF EXISTS "animals" CASCADE[0m
  [1m[35m (17.4ms)[0m  [1m[35mCREATE TABLE "animals" ("id" bigserial primary key, "nome" character varying, "idade" integer, "especie" character varying, "raca" character varying, "peso" float, "tutor_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (8.2ms)[0m  [1m[35mCREATE INDEX "index_animals_on_tutor_id" ON "animals" ("tutor_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "cargos" CASCADE[0m
  [1m[35m (14.0ms)[0m  [1m[35mCREATE TABLE "cargos" ("id" bigserial primary key, "nome_cargo" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE IF EXISTS "consulta" CASCADE[0m
  [1m[35m (14.6ms)[0m  [1m[35mCREATE TABLE "consulta" ("id" bigserial primary key, "funcionario_id" bigint, "animal_id" bigint NOT NULL, "data" date, "hora" time, "observacao" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (7.6ms)[0m  [1m[35mCREATE INDEX "index_consulta_on_animal_id" ON "consulta" ("animal_id")[0m
  [1m[35m (7.7ms)[0m  [1m[35mCREATE INDEX "index_consulta_on_funcionario_id" ON "consulta" ("funcionario_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "estoque_internamentos" CASCADE[0m
  [1m[35m (14.0ms)[0m  [1m[35mCREATE TABLE "estoque_internamentos" ("id" bigserial primary key, "internamento_id" bigint NOT NULL, "medicamento" character varying, "quantidade_disponivel" float, "quantidade_utilizada" float, "quantidade_minima" float, "fornecedor" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (7.2ms)[0m  [1m[35mCREATE INDEX "index_estoque_internamentos_on_internamento_id" ON "estoque_internamentos" ("internamento_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "estoque_vendas" CASCADE[0m
  [1m[35m (12.2ms)[0m  [1m[35mCREATE TABLE "estoque_vendas" ("id" bigserial primary key, "medicamento" character varying, "preco" decimal, "quantidade_disponivel" integer, "quantidade_venda" integer, "fornecedor" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "exames" CASCADE[0m
  [1m[35m (13.7ms)[0m  [1m[35mCREATE TABLE "exames" ("id" bigserial primary key, "consulta_id" bigint NOT NULL, "nome_exame" character varying, "status_exame" character varying, "resultado" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (7.5ms)[0m  [1m[35mCREATE INDEX "index_exames_on_consulta_id" ON "exames" ("consulta_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "funcionarios" CASCADE[0m
  [1m[35m (13.8ms)[0m  [1m[35mCREATE TABLE "funcionarios" ("id" bigserial primary key, "nome" character varying, "contato" character varying, "login" character varying, "senha" character varying, "cargo_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (7.8ms)[0m  [1m[35mCREATE INDEX "index_funcionarios_on_cargo_id" ON "funcionarios" ("cargo_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "internamentos" CASCADE[0m
  [1m[35m (18.1ms)[0m  [1m[35mCREATE TABLE "internamentos" ("id" bigserial primary key, "consulta_id" bigint NOT NULL, "data_inicio" date, "data_fim" date, "medicamento" character varying, "quantidade_medicamento" float, "obs_monitoramento" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (7.2ms)[0m  [1m[35mCREATE INDEX "index_internamentos_on_consulta_id" ON "internamentos" ("consulta_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "prescricao_medicas" CASCADE[0m
  [1m[35m (14.2ms)[0m  [1m[35mCREATE TABLE "prescricao_medicas" ("id" bigserial primary key, "consulta_id" bigint NOT NULL, "data" date, "medicamentos_prescritos" character varying, "dosagens" character varying, "observacao" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (6.8ms)[0m  [1m[35mCREATE INDEX "index_prescricao_medicas_on_consulta_id" ON "prescricao_medicas" ("consulta_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "tutors" CASCADE[0m
  [1m[35m (12.8ms)[0m  [1m[35mCREATE TABLE "tutors" ("id" bigserial primary key, "nome" character varying, "endereco" character varying, "telefone" character varying, "email" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (3.9ms)[0m  [1m[35mALTER TABLE "animals" ADD CONSTRAINT "fk_rails_4a56185cb8"
FOREIGN KEY ("tutor_id")
  REFERENCES "tutors" ("id")
[0m
  [1m[35m (3.5ms)[0m  [1m[35mALTER TABLE "consulta" ADD CONSTRAINT "fk_rails_c9fabfc553"
FOREIGN KEY ("animal_id")
  REFERENCES "animals" ("id")
[0m
  [1m[35m (3.1ms)[0m  [1m[35mALTER TABLE "consulta" ADD CONSTRAINT "fk_rails_cd36ba9a17"
FOREIGN KEY ("funcionario_id")
  REFERENCES "funcionarios" ("id")
[0m
  [1m[35m (3.4ms)[0m  [1m[35mALTER TABLE "estoque_internamentos" ADD CONSTRAINT "fk_rails_095bd4214a"
FOREIGN KEY ("internamento_id")
  REFERENCES "internamentos" ("id")
[0m
  [1m[35m (3.4ms)[0m  [1m[35mALTER TABLE "exames" ADD CONSTRAINT "fk_rails_7b54682bc6"
FOREIGN KEY ("consulta_id")
  REFERENCES "consulta" ("id")
[0m
  [1m[35m (3.1ms)[0m  [1m[35mALTER TABLE "funcionarios" ADD CONSTRAINT "fk_rails_c52a5a3a83"
FOREIGN KEY ("cargo_id")
  REFERENCES "cargos" ("id")
[0m
  [1m[35m (2.9ms)[0m  [1m[35mALTER TABLE "internamentos" ADD CONSTRAINT "fk_rails_6fd126f215"
FOREIGN KEY ("consulta_id")
  REFERENCES "consulta" ("id")
[0m
  [1m[35m (3.1ms)[0m  [1m[35mALTER TABLE "prescricao_medicas" ADD CONSTRAINT "fk_rails_12ab1cbf0a"
FOREIGN KEY ("consulta_id")
  REFERENCES "consulta" ("id")
[0m
  [1m[35m (15.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (2.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20241008165106)[0m
  [1m[35m (2.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20241008165029),
(20241008164944),
(20241008164909),
(20241008164647),
(20241008164524),
(20241008164443),
(20241008164352),
(20241008164202),
(20241008164201);[0m
  [1m[35m (12.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (2.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2024-11-19 21:33:32.097437', '2024-11-19 21:33:32.097440') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (2.8ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', 'd57326ce6baaa32ac00cabc4d31869e01d11e8f0', '2024-11-19 21:33:32.105573', '2024-11-19 21:33:32.105576') RETURNING "key"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(6008124786622812630)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(6008124786622812630)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(6008124786622812630)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(6008124786622812630)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(6008124786622812630)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(6008124786622812630)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (15.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (15.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_try_advisory_lock(6008124786622812630)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (2.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2024-11-19 21:36:16.842990', '2024-11-19 21:36:16.842994') RETURNING "key"[0m
Migrating to CreateCargos (20241008164201)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (16.2ms)[0m  [1m[35mCREATE TABLE "cargos" ("id" bigserial primary key, "nome_cargo" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20241008164201') RETURNING "version"[0m
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateFuncionarios (20241008164202)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (14.0ms)[0m  [1m[35mCREATE TABLE "funcionarios" ("id" bigserial primary key, "nome" character varying, "contato" character varying, "login" character varying, "senha" character varying, "cargo_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_c52a5a3a83"
FOREIGN KEY ("cargo_id")
  REFERENCES "cargos" ("id")
)[0m
  [1m[35m (5.3ms)[0m  [1m[35mCREATE INDEX "index_funcionarios_on_cargo_id" ON "funcionarios" ("cargo_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20241008164202') RETURNING "version"[0m
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateTutors (20241008164352)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (13.4ms)[0m  [1m[35mCREATE TABLE "tutors" ("id" bigserial primary key, "nome" character varying, "endereco" character varying, "telefone" character varying, "email" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20241008164352') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateEstoqueVendas (20241008164443)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (14.5ms)[0m  [1m[35mCREATE TABLE "estoque_vendas" ("id" bigserial primary key, "medicamento" character varying, "preco" decimal, "quantidade_disponivel" integer, "quantidade_venda" integer, "fornecedor" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20241008164443') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateAnimals (20241008164524)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (23.7ms)[0m  [1m[35mCREATE TABLE "animals" ("id" bigserial primary key, "nome" character varying, "idade" integer, "especie" character varying, "raca" character varying, "peso" float, "tutor_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_4a56185cb8"
FOREIGN KEY ("tutor_id")
  REFERENCES "tutors" ("id")
)[0m
  [1m[35m (6.0ms)[0m  [1m[35mCREATE INDEX "index_animals_on_tutor_id" ON "animals" ("tutor_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20241008164524') RETURNING "version"[0m
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateConsultas (20241008164647)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (12.3ms)[0m  [1m[35mCREATE TABLE "consultas" ("id" bigserial primary key, "funcionario_id" bigint, "animal_id" bigint NOT NULL, "data" date, "hora" time, "observacao" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_d7790e3f35"
FOREIGN KEY ("funcionario_id")
  REFERENCES "funcionarios" ("id")
, CONSTRAINT "fk_rails_b4e88dd1e6"
FOREIGN KEY ("animal_id")
  REFERENCES "animals" ("id")
)[0m
  [1m[35m (5.8ms)[0m  [1m[35mCREATE INDEX "index_consultas_on_funcionario_id" ON "consultas" ("funcionario_id")[0m
  [1m[35m (6.3ms)[0m  [1m[35mCREATE INDEX "index_consultas_on_animal_id" ON "consultas" ("animal_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20241008164647') RETURNING "version"[0m
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePrescricaoMedicas (20241008164909)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (12.4ms)[0m  [1m[35mCREATE TABLE "prescricao_medicas" ("id" bigserial primary key, "consulta_id" bigint NOT NULL, "data" date, "medicamentos_prescritos" character varying, "dosagens" character varying, "observacao" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_12ab1cbf0a"
FOREIGN KEY ("consulta_id")
  REFERENCES "consultas" ("id")
)[0m
  [1m[35m (5.1ms)[0m  [1m[35mCREATE INDEX "index_prescricao_medicas_on_consulta_id" ON "prescricao_medicas" ("consulta_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20241008164909') RETURNING "version"[0m
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateExames (20241008164944)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (14.6ms)[0m  [1m[35mCREATE TABLE "exames" ("id" bigserial primary key, "consulta_id" bigint NOT NULL, "nome_exame" character varying, "status_exame" character varying, "resultado" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_7b54682bc6"
FOREIGN KEY ("consulta_id")
  REFERENCES "consultas" ("id")
)[0m
  [1m[35m (4.3ms)[0m  [1m[35mCREATE INDEX "index_exames_on_consulta_id" ON "exames" ("consulta_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20241008164944') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateInternamentos (20241008165029)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (11.8ms)[0m  [1m[35mCREATE TABLE "internamentos" ("id" bigserial primary key, "consulta_id" bigint NOT NULL, "data_inicio" date, "data_fim" date, "medicamento" character varying, "quantidade_medicamento" float, "obs_monitoramento" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_6fd126f215"
FOREIGN KEY ("consulta_id")
  REFERENCES "consultas" ("id")
)[0m
  [1m[35m (5.4ms)[0m  [1m[35mCREATE INDEX "index_internamentos_on_consulta_id" ON "internamentos" ("consulta_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20241008165029') RETURNING "version"[0m
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateEstoqueInternamentos (20241008165106)
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (14.6ms)[0m  [1m[35mCREATE TABLE "estoque_internamentos" ("id" bigserial primary key, "internamento_id" bigint NOT NULL, "medicamento" character varying, "quantidade_disponivel" float, "quantidade_utilizada" float, "quantidade_minima" float, "fornecedor" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_095bd4214a"
FOREIGN KEY ("internamento_id")
  REFERENCES "internamentos" ("id")
)[0m
  [1m[35m (4.9ms)[0m  [1m[35mCREATE INDEX "index_estoque_internamentos_on_internamento_id" ON "estoque_internamentos" ("internamento_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20241008165106') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(6008124786622812630)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/tutors" for 172.24.0.1 at 2024-11-19 21:37:02 +0000
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by TutorsController#create as */*
  Parameters: {"nome"=>"João Silva", "endereco"=>"Rua Exemplo, 123", "telefone"=>"123456789", "email"=>"joao@example.com", "tutor"=>{"nome"=>"João Silva", "endereco"=>"Rua Exemplo, 123", "telefone"=>"123456789", "email"=>"joao@example.com"}}
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/tutors_controller.rb:19:in `create'
  [1m[36mTutor Exists? (4.8ms)[0m  [1m[34mSELECT 1 AS one FROM "tutors" WHERE "tutors"."email" = $1 LIMIT $2[0m  [["email", "joao@example.com"], ["LIMIT", 1]]
  ↳ app/controllers/tutors_controller.rb:19:in `create'
  [1m[36mTutor Create (1.2ms)[0m  [1m[32mINSERT INTO "tutors" ("nome", "endereco", "telefone", "email", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["nome", "João Silva"], ["endereco", "Rua Exemplo, 123"], ["telefone", "123456789"], ["email", "joao@example.com"], ["created_at", "2024-11-19 21:37:03.031051"], ["updated_at", "2024-11-19 21:37:03.031051"]]
  ↳ app/controllers/tutors_controller.rb:19:in `create'
  [1m[36mTRANSACTION (3.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/tutors_controller.rb:19:in `create'
Completed 201 Created in 55ms (Views: 2.6ms | ActiveRecord: 25.2ms | Allocations: 26930)


Started POST "/animals" for 172.24.0.1 at 2024-11-19 21:37:07 +0000
Processing by AnimalsController#create as */*
  Parameters: {"nome"=>"Joca", "idade"=>2, "especie"=>"Cachorro", "raca"=>"SRD", "peso"=>"4.2", "tutor_id"=>1, "animal"=>{"nome"=>"Joca", "idade"=>2, "especie"=>"Cachorro", "raca"=>"SRD", "peso"=>"4.2", "tutor_id"=>1}}
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/animals_controller.rb:19:in `create'
  [1m[36mTutor Load (1.0ms)[0m  [1m[34mSELECT "tutors".* FROM "tutors" WHERE "tutors"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:19:in `create'
  [1m[36mAnimal Create (2.0ms)[0m  [1m[32mINSERT INTO "animals" ("nome", "idade", "especie", "raca", "peso", "tutor_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["nome", "Joca"], ["idade", 2], ["especie", "Cachorro"], ["raca", "SRD"], ["peso", 4.2], ["tutor_id", 1], ["created_at", "2024-11-19 21:37:07.365498"], ["updated_at", "2024-11-19 21:37:07.365498"]]
  ↳ app/controllers/animals_controller.rb:19:in `create'
  [1m[36mTRANSACTION (4.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/animals_controller.rb:19:in `create'
Completed 201 Created in 67ms (Views: 1.6ms | ActiveRecord: 15.2ms | Allocations: 23953)


Started POST "/cargos" for 172.24.0.1 at 2024-11-19 21:37:15 +0000
Processing by CargosController#create as */*
  Parameters: {"nome_cargo"=>"Vetrinário", "cargo"=>{"nome_cargo"=>"Vetrinário"}}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/cargos_controller.rb:16:in `create'
  [1m[36mCargo Create (2.8ms)[0m  [1m[32mINSERT INTO "cargos" ("nome_cargo", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["nome_cargo", "Vetrinário"], ["created_at", "2024-11-19 21:37:15.782971"], ["updated_at", "2024-11-19 21:37:15.782971"]]
  ↳ app/controllers/cargos_controller.rb:16:in `create'
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/cargos_controller.rb:16:in `create'
Completed 201 Created in 24ms (Views: 1.1ms | ActiveRecord: 9.2ms | Allocations: 17024)


Started POST "/funcionarios" for 172.24.0.1 at 2024-11-19 21:37:22 +0000
Processing by FuncionariosController#create as */*
  Parameters: {"nome"=>"João Castro", "contato"=>"joao.silva@example.com", "cargo_id"=>1, "senha"=>"senhaSegura123", "login"=>"joaocastrp", "funcionario"=>{"nome"=>"João Castro", "contato"=>"joao.silva@example.com", "login"=>"joaocastrp", "senha"=>"senhaSegura123", "cargo_id"=>1}}
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/funcionarios_controller.rb:19:in `create'
  [1m[36mCargo Load (0.4ms)[0m  [1m[34mSELECT "cargos".* FROM "cargos" WHERE "cargos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/funcionarios_controller.rb:19:in `create'
  [1m[36mFuncionario Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "funcionarios" WHERE "funcionarios"."login" = $1 LIMIT $2[0m  [["login", "joaocastrp"], ["LIMIT", 1]]
  ↳ app/controllers/funcionarios_controller.rb:19:in `create'
  [1m[36mFuncionario Create (1.2ms)[0m  [1m[32mINSERT INTO "funcionarios" ("nome", "contato", "login", "senha", "cargo_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["nome", "João Castro"], ["contato", "joao.silva@example.com"], ["login", "joaocastrp"], ["senha", "senhaSegura123"], ["cargo_id", 1], ["created_at", "2024-11-19 21:37:22.569849"], ["updated_at", "2024-11-19 21:37:22.569849"]]
  ↳ app/controllers/funcionarios_controller.rb:19:in `create'
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/funcionarios_controller.rb:19:in `create'
Completed 201 Created in 40ms (Views: 1.0ms | ActiveRecord: 9.8ms | Allocations: 21567)


Started POST "/consultas" for 172.24.0.1 at 2024-11-19 21:38:14 +0000
Processing by ConsultasController#create as */*
  Parameters: {"funcionario_id"=>1, "animal_id"=>1, "data"=>"2024-11-14", "hora"=>"15:00:00", "observacao"=>"Consulta de rotina para verificar a saúde geral do animal.", "consulta"=>{"funcionario_id"=>1, "animal_id"=>1, "data"=>"2024-11-14", "hora"=>"15:00:00", "observacao"=>"Consulta de rotina para verificar a saúde geral do animal."}}
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/consultas_controller.rb:20:in `create'
  [1m[36mAnimal Load (0.6ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/consultas_controller.rb:20:in `create'
  [1m[36mFuncionario Load (0.9ms)[0m  [1m[34mSELECT "funcionarios".* FROM "funcionarios" WHERE "funcionarios"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/consultas_controller.rb:20:in `create'
  [1m[36mCargo Load (0.4ms)[0m  [1m[34mSELECT "cargos".* FROM "cargos" WHERE "cargos"."nome_cargo" = $1 LIMIT $2[0m  [["nome_cargo", "Veterinário"], ["LIMIT", 1]]
  ↳ app/models/consulta.rb:10:in `isVet'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/consultas_controller.rb:20:in `create'
Completed 500 Internal Server Error in 35ms (ActiveRecord: 6.4ms | Allocations: 22409)


  
NoMethodError (undefined method `id' for nil:NilClass):
  
app/models/consulta.rb:11:in `isVet'
app/controllers/consultas_controller.rb:20:in `create'
Started PATCH "/cargos/1" for 172.24.0.1 at 2024-11-19 21:41:19 +0000
Processing by CargosController#update as */*
  Parameters: {"nome_cargo"=>"Veterinário", "id"=>"1", "cargo"=>{"nome_cargo"=>"Veterinário"}}
  [1m[36mCargo Load (0.6ms)[0m  [1m[34mSELECT "cargos".* FROM "cargos" WHERE "cargos"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/cargos_controller.rb:39:in `set_cargo'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/cargos_controller.rb:24:in `update'
  [1m[36mCargo Update (4.1ms)[0m  [1m[33mUPDATE "cargos" SET "nome_cargo" = $1, "updated_at" = $2 WHERE "cargos"."id" = $3[0m  [["nome_cargo", "Veterinário"], ["updated_at", "2024-11-19 21:41:19.127850"], ["id", 1]]
  ↳ app/controllers/cargos_controller.rb:24:in `update'
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/cargos_controller.rb:24:in `update'
Completed 200 OK in 21ms (Views: 0.6ms | ActiveRecord: 9.7ms | Allocations: 3038)


Started POST "/consultas" for 172.24.0.1 at 2024-11-19 21:41:49 +0000
Processing by ConsultasController#create as */*
  Parameters: {"funcionario_id"=>1, "animal_id"=>1, "data"=>"2024-11-14", "hora"=>"15:00:00", "observacao"=>"Consulta de rotina para verificar a saúde geral do animal.", "consulta"=>{"funcionario_id"=>1, "animal_id"=>1, "data"=>"2024-11-14", "hora"=>"15:00:00", "observacao"=>"Consulta de rotina para verificar a saúde geral do animal."}}
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/consultas_controller.rb:20:in `create'
  [1m[36mAnimal Load (1.8ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/consultas_controller.rb:20:in `create'
  [1m[36mFuncionario Load (0.6ms)[0m  [1m[34mSELECT "funcionarios".* FROM "funcionarios" WHERE "funcionarios"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/consultas_controller.rb:20:in `create'
  [1m[36mCargo Load (0.5ms)[0m  [1m[34mSELECT "cargos".* FROM "cargos" WHERE "cargos"."nome_cargo" = $1 LIMIT $2[0m  [["nome_cargo", "Veterinário"], ["LIMIT", 1]]
  ↳ app/models/consulta.rb:10:in `isVet'
  [1m[36mConsulta Create (3.0ms)[0m  [1m[32mINSERT INTO "consultas" ("funcionario_id", "animal_id", "data", "hora", "observacao", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["funcionario_id", 1], ["animal_id", 1], ["data", "2024-11-14"], ["hora", "15:00:00"], ["observacao", "Consulta de rotina para verificar a saúde geral do animal."], ["created_at", "2024-11-19 21:41:49.685813"], ["updated_at", "2024-11-19 21:41:49.685813"]]
  ↳ app/controllers/consultas_controller.rb:20:in `create'
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/consultas_controller.rb:20:in `create'
Completed 201 Created in 33ms (Views: 1.2ms | ActiveRecord: 9.7ms | Allocations: 5063)


